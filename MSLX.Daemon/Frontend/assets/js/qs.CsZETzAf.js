import{s as L}from"./side-channel.gyxQHTce.js";var ie=String.prototype.replace,fe=/%20/g,q={RFC1738:"RFC1738",RFC3986:"RFC3986"},X={default:q.RFC3986,formatters:{RFC1738:function(i){return ie.call(i,fe,"+")},RFC3986:function(i){return String(i)}},RFC1738:q.RFC1738},le=X,ue=L,B=Object.prototype.hasOwnProperty,x=Array.isArray,A=ue(),Y=function(e,n){return A.set(e,n),e},C=function(e){return A.has(e)},z=function(e){return A.get(e)},Z=function(e,n){A.set(e,n)},p=function(){for(var i=[],e=0;e<256;++e)i.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return i}(),ce=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(x(r)){for(var a=[],u=0;u<r.length;++u)typeof r[u]<"u"&&a.push(r[u]);n.obj[n.prop]=a}}},k=function(e,n){for(var r=n&&n.plainObjects?{__proto__:null}:{},a=0;a<e.length;++a)typeof e[a]<"u"&&(r[a]=e[a]);return r},de=function i(e,n,r){if(!n)return e;if(typeof n!="object"&&typeof n!="function"){if(x(e))e.push(n);else if(e&&typeof e=="object")if(C(e)){var a=z(e)+1;e[a]=n,Z(e,a)}else(r&&(r.plainObjects||r.allowPrototypes)||!B.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object"){if(C(n)){for(var u=Object.keys(n),f=r&&r.plainObjects?{__proto__:null,0:e}:{0:e},y=0;y<u.length;y++){var v=parseInt(u[y],10);f[v+1]=n[u[y]]}return Y(f,z(n)+1)}return[e].concat(n)}var d=e;return x(e)&&!x(n)&&(d=k(e,r)),x(e)&&x(n)?(n.forEach(function(o,c){if(B.call(e,c)){var t=e[c];t&&typeof t=="object"&&o&&typeof o=="object"?e[c]=i(t,o,r):e.push(o)}else e[c]=o}),e):Object.keys(n).reduce(function(o,c){var t=n[c];return B.call(o,c)?o[c]=i(o[c],t,r):o[c]=t,o},d)},se=function(e,n){return Object.keys(n).reduce(function(r,a){return r[a]=n[a],r},e)},ye=function(i,e,n){var r=i.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Q=1024,ve=function(e,n,r,a,u){if(e.length===0)return e;var f=e;if(typeof e=="symbol"?f=Symbol.prototype.toString.call(e):typeof e!="string"&&(f=String(e)),r==="iso-8859-1")return escape(f).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});for(var y="",v=0;v<f.length;v+=Q){for(var d=f.length>=Q?f.slice(v,v+Q):f,o=[],c=0;c<d.length;++c){var t=d.charCodeAt(c);if(t===45||t===46||t===95||t===126||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122||u===le.RFC1738&&(t===40||t===41)){o[o.length]=d.charAt(c);continue}if(t<128){o[o.length]=p[t];continue}if(t<2048){o[o.length]=p[192|t>>6]+p[128|t&63];continue}if(t<55296||t>=57344){o[o.length]=p[224|t>>12]+p[128|t>>6&63]+p[128|t&63];continue}c+=1,t=65536+((t&1023)<<10|d.charCodeAt(c)&1023),o[o.length]=p[240|t>>18]+p[128|t>>12&63]+p[128|t>>6&63]+p[128|t&63]}y+=o.join("")}return y},pe=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],a=0;a<n.length;++a)for(var u=n[a],f=u.obj[u.prop],y=Object.keys(f),v=0;v<y.length;++v){var d=y[v],o=f[d];typeof o=="object"&&o!==null&&r.indexOf(o)===-1&&(n.push({obj:f,prop:d}),r.push(o))}return ce(n),e},he=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},me=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},be=function(e,n,r,a){if(C(e)){var u=z(e)+1;return e[u]=n,Z(e,u),e}var f=[].concat(e,n);return f.length>r?Y(k(f,{plainObjects:a}),f.length-1):f},ge=function(e,n){if(x(e)){for(var r=[],a=0;a<e.length;a+=1)r.push(n(e[a]));return r}return n(e)},ee={arrayToObject:k,assign:se,combine:be,compact:pe,decode:ye,encode:ve,isBuffer:me,isOverflow:C,isRegExp:he,maybeMap:ge,merge:de},re=L,j=ee,O=X,xe=Object.prototype.hasOwnProperty,ne={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},h=Array.isArray,we=Array.prototype.push,te=function(i,e){we.apply(i,h(e)?e:[e])},Fe=Date.prototype.toISOString,J=O.default,s={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:j.encode,encodeValuesOnly:!1,filter:void 0,format:J,formatter:O.formatters[J],indices:!1,serializeDate:function(e){return Fe.call(e)},skipNulls:!1,strictNullHandling:!1},Ee=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},$={},Oe=function i(e,n,r,a,u,f,y,v,d,o,c,t,m,b,w,F,S,N){for(var l=e,D=N,R=0,K=!1;(D=D.get($))!==void 0&&!K;){var H=D.get(e);if(R+=1,typeof H<"u"){if(H===R)throw new RangeError("Cyclic object value");K=!0}typeof D.get($)>"u"&&(R=0)}if(typeof o=="function"?l=o(n,l):l instanceof Date?l=m(l):r==="comma"&&h(l)&&(l=j.maybeMap(l,function(_){return _ instanceof Date?m(_):_})),l===null){if(f)return d&&!F?d(n,s.encoder,S,"key",b):n;l=""}if(Ee(l)||j.isBuffer(l)){if(d){var ae=F?n:d(n,s.encoder,S,"key",b);return[w(ae)+"="+w(d(l,s.encoder,S,"value",b))]}return[w(n)+"="+w(String(l))]}var I=[];if(typeof l>"u")return I;var E;if(r==="comma"&&h(l))F&&d&&(l=j.maybeMap(l,d)),E=[{value:l.length>0?l.join(",")||null:void 0}];else if(h(o))E=o;else{var U=Object.keys(l);E=c?U.sort(c):U}var V=v?String(n).replace(/\./g,"%2E"):String(n),T=a&&h(l)&&l.length===1?V+"[]":V;if(u&&h(l)&&l.length===0)return T+"[]";for(var P=0;P<E.length;++P){var g=E[P],G=typeof g=="object"&&g&&typeof g.value<"u"?g.value:l[g];if(!(y&&G===null)){var M=t&&v?String(g).replace(/\./g,"%2E"):String(g),oe=h(l)?typeof r=="function"?r(T,M):T:T+(t?"."+M:"["+M+"]");N.set(e,R);var W=re();W.set($,N),te(I,i(G,oe,r,a,u,f,y,v,r==="comma"&&F&&h(l)?null:d,o,c,t,m,b,w,F,S,W))}}return I},Se=function(e){if(!e)return s;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||s.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=O.default;if(typeof e.format<"u"){if(!xe.call(O.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var a=O.formatters[r],u=s.filter;(typeof e.filter=="function"||h(e.filter))&&(u=e.filter);var f;if(e.arrayFormat in ne?f=e.arrayFormat:"indices"in e?f=e.indices?"indices":"repeat":f=s.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var y=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:s.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:s.addQueryPrefix,allowDots:y,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:s.allowEmptyArrays,arrayFormat:f,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:s.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?s.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:s.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:s.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:s.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:s.encodeValuesOnly,filter:u,format:r,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:s.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:s.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:s.strictNullHandling}},De=function(i,e){var n=i,r=Se(e),a,u;typeof r.filter=="function"?(u=r.filter,n=u("",n)):h(r.filter)&&(u=r.filter,a=u);var f=[];if(typeof n!="object"||n===null)return"";var y=ne[r.arrayFormat],v=y==="comma"&&r.commaRoundTrip;a||(a=Object.keys(n)),r.sort&&a.sort(r.sort);for(var d=re(),o=0;o<a.length;++o){var c=a[o],t=n[c];r.skipNulls&&t===null||te(f,Oe(t,c,y,v,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,d))}var m=f.join(r.delimiter),b=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),m.length>0?b+m:""},Re=ee;Re.decode;var Te=De,Ce={stringify:Te};export{Ce as l};
