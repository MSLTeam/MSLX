import{u as ue,r as J,_ as W,a as me,c as R,H as pe,I as fe,m as ne}from"./index.Cr1BKOIM.js";import{a as Y,b as Z}from"./user.BWxjbc_m.js";import{x as ce,aO as ge,a6 as X,aP as _e,B as be,f as ye,U as ve,a2 as ee,a8 as we,a5 as Se,aa as te,aQ as ae,an as E,a1 as le,aR as Ve}from"./tdesign-icons-vue-next.ELWhrgRC.js";import{M as w,D as H}from"./tdesign-vue-next.4sGFOLeu.js";import{l as N,w as he,aZ as s,aU as L,a_ as A,a$ as t,aY as S,j as e,G as c,b2 as I,aV as z,J as a,b3 as oe,F as xe,r as C,k as G,o as se}from"./index.DuVfB4dr.js";import{D as T}from"./docs.C8YcrvFA.js";import{c as ke}from"./clipboard.CDS87Qq-.js";import"./pinia.K9HejpEf.js";import"./pinia-plugin-persistedstate_2eabddac918ad8d0cf74e67f4601f4c8.n2tMOXAx.js";import"./vue-router.BSuyFzNa.js";import"./tvision-color.Cy78gTfV.js";import"./chroma-js.DO2ptVd8.js";import"./core-js-pure.DbDavgKW.js";import"./bezier-easing.D5A5epFU.js";import"./lodash.CpoxsuHF.js";import"./axios.B9ygI19o.js";import"./qs.B2qFNmGA.js";import"./side-channel.BIlHSgJq.js";import"./es-errors.CFxpeikN.js";import"./object-inspect.CWmL7r7A.js";import"./side-channel-list.DZ_HK50j.js";import"./side-channel-map.DDbmCn0b.js";import"./get-intrinsic.DL3knghB.js";import"./es-object-atoms.Ditt1eQ6.js";import"./math-intrinsics.Cv-yPkyD.js";import"./gopd.fcd2-aIC.js";import"./es-define-property.bDCdrV83.js";import"./has-symbols.BaUvM3gb.js";import"./get-proto.Cbri-GHQ.js";import"./dunder-proto.q7lw_6_J.js";import"./call-bind-apply-helpers.BxcZtPLH.js";import"./function-bind.BbkWVFrm.js";import"./hasown.ckq0ukzO.js";import"./call-bound.Cne7q6oT.js";import"./side-channel-weakmap.BTkyjVO1.js";import"./nprogress.COlaCQ7y.js";import"./crelt.C8TCjufn.js";import"./style-mod.Bc2inJdb.js";import"./w3c-keyname.Vcq4gwWv.js";import"./lodash-es.sbUBen0f.js";import"./mitt.DJ65BbbF.js";import"./sortablejs.C83syoBY.js";const Le={class:"profile-header"},Ce={class:"avatar-col"},Pe={class:"info-col"},Ue={class:"main-row"},Me={class:"nickname"},De={class:"sub-row"},qe={class:"username"},Ie={key:0,class:"last-login"},Be={key:0,class:"bound-status"},Ae={key:1},Oe=N({__name:"UserProfileCard",setup(Q,{expose:d}){const P=ue(),V=C(!1),l=C(!1),f=C(!1),u=C(""),y=C(""),g=C("qq"),r=G({id:"",username:"",name:"",avatar:"",role:"",apiKey:"",lastLoginTime:"",openMSLID:""}),m=G({changePassword:!1,newPassword:"",confirmPassword:""}),h=async()=>{V.value=!0;try{const p=await Y();Object.assign(r,p),u.value=p.username;const o=p.avatar&&p.avatar.match(/nk=(\d+)/);o&&o[1]?(g.value="qq",y.value=o[1]):g.value="custom"}catch(p){w.error(p.message||"用户加载失败")}finally{V.value=!1}};he(y,p=>{g.value==="qq"&&p&&(r.avatar=`https://q.qlogo.cn/g?b=qq&nk=${p}&s=640`)});const q=p=>{p==="qq"&&y.value&&(r.avatar=`https://q.qlogo.cn/g?b=qq&nk=${y.value}&s=640`)},x=()=>{r.apiKey&&navigator.clipboard.writeText(r.apiKey).then(()=>{w.success("API Key 已复制")})},n=()=>{const p=H.confirm({header:"重置 API 密钥",theme:"warning",body:"重置后，所有使用旧 Key 的外部工具将立即失效，确定要继续吗？",onConfirm:async()=>{try{p.hide(),await Z({resetApiKey:!0}),w.success("API Key 重置成功");const o=await Y();r.apiKey=o.apiKey}catch(o){w.error(o.message||"重置失败")}}})},U=async()=>{if(m.changePassword){if(!m.newPassword){w.warning("请输入新密码");return}if(m.newPassword!==m.confirmPassword){w.error("两次输入的密码不一致");return}}const p=r.username!==u.value,o=m.changePassword&&!!m.newPassword;l.value=!0;try{const k={username:r.username,name:r.name,avatar:r.avatar,password:o?m.newPassword:void 0,resetApiKey:!1};await Z(k),m.changePassword=!1,m.newPassword="",m.confirmPassword="",u.value=r.username,w.success("个人信息保存成功"),p||o?H.alert({header:"重新登录",body:"账号或密码已变更，请重新登录以生效。",confirmBtn:"去登录",onConfirm:async()=>{await P.logout(),window.location.reload()}}):await P.getUserInfo()}catch(k){w.error(k.message)}finally{l.value=!1}};d({initData:h});const b=C(!1),O=async()=>{b.value=!0;try{const p=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);localStorage.setItem("oauth_state",p);const o=`${window.location.origin}/oauth/callback?mode=bind`,k=await J.get({url:"/api/auth/oauth/url",params:{state:p,callback:o}});k&&k.url?window.location.href=k.url:(w.error(k.message||"获取绑定地址失败"),b.value=!1)}catch(p){w.error(p.message||"请求失败"),b.value=!1}},i=()=>{const p=H.confirm({header:"解除绑定",theme:"warning",body:"确定要解除与 MSL 账户的绑定吗？解绑后您将无法使用 MSL 账户快捷登录。",onConfirm:async()=>{try{p.hide(),await J.post({url:"/api/auth/oauth/unbind"}),w.success("解绑成功"),await h()}catch(o){w.error(o.message||"解绑失败")}}})};return(p,o)=>{const k=s("t-avatar"),B=s("t-tag"),K=s("t-divider"),F=s("t-radio-button"),j=s("t-radio-group"),M=s("t-input"),_=s("t-space"),D=s("t-form-item"),$=s("t-button"),re=s("t-switch"),ie=s("t-form"),de=s("t-card");return L(),A(de,{bordered:!1,loading:V.value,class:"settings-card"},{default:t(()=>[S("div",Le,[S("div",Ce,[e(k,{image:r.avatar,size:"80px",shape:"circle",class:"user-avatar-shadow"},{default:t(()=>[c(I(r.name?r.name.slice(0,1).toUpperCase():"U"),1)]),_:1},8,["image"])]),S("div",Pe,[S("div",Ue,[S("span",Me,I(r.name||"未设置昵称"),1),r.role==="admin"?(L(),A(B,{key:0,theme:"success",variant:"light",size:"small",shape:"round"},{default:t(()=>[...o[8]||(o[8]=[c("管理员",-1)])]),_:1})):(L(),A(B,{key:1,theme:"primary",variant:"light",size:"small",shape:"round"},{default:t(()=>[...o[9]||(o[9]=[c("普通用户",-1)])]),_:1}))]),S("div",De,[S("span",qe,"@"+I(r.username),1),r.lastLoginTime?(L(),z("span",Ie,[e(a(ce)),c(" "+I(new Date(r.lastLoginTime).toLocaleString()),1)])):oe("",!0)])])]),e(K),e(ie,{ref:"userForm",data:r,"label-width":100,"label-align":"left",onSubmit:U},{default:t(()=>[e(D,{label:"头像设置"},{default:t(()=>[e(_,{direction:"vertical",style:{width:"100%"}},{default:t(()=>[e(j,{modelValue:g.value,"onUpdate:modelValue":o[0]||(o[0]=v=>g.value=v),variant:"default-filled",onChange:q},{default:t(()=>[e(F,{value:"qq"},{default:t(()=>[e(a(ge)),o[10]||(o[10]=c(" QQ头像",-1))]),_:1}),e(F,{value:"custom"},{default:t(()=>[e(a(X)),o[11]||(o[11]=c(" 链接",-1))]),_:1})]),_:1},8,["modelValue"]),g.value==="qq"?(L(),A(M,{key:0,modelValue:y.value,"onUpdate:modelValue":o[1]||(o[1]=v=>y.value=v),placeholder:"输入QQ号自动获取",type:"number"},{"prefix-icon":t(()=>[e(a(_e))]),_:1},8,["modelValue"])):(L(),A(M,{key:1,modelValue:r.avatar,"onUpdate:modelValue":o[2]||(o[2]=v=>r.avatar=v),placeholder:"输入图片 URL 链接"},{"prefix-icon":t(()=>[e(a(be))]),_:1},8,["modelValue"]))]),_:1})]),_:1}),e(D,{label:"用户昵称",name:"name"},{default:t(()=>[e(M,{modelValue:r.name,"onUpdate:modelValue":o[3]||(o[3]=v=>r.name=v),placeholder:"显示的名称"},null,8,["modelValue"])]),_:1}),e(D,{label:"登录账号",name:"username"},{default:t(()=>[e(M,{modelValue:r.username,"onUpdate:modelValue":o[4]||(o[4]=v=>r.username=v),placeholder:"登录唯一标识"},null,8,["modelValue"])]),_:1}),e(D,{label:"API Key",help:"用于第三方工具连接的凭证，请妥善保管"},{default:t(()=>[e(M,{value:r.apiKey,type:f.value?"text":"password",readonly:"",placeholder:"点击重置生成 Key"},{suffix:t(()=>[e($,{variant:"text",size:"small",onClick:x},{icon:t(()=>[e(a(ye))]),_:1}),e($,{variant:"text",theme:"danger",size:"small",onClick:n},{icon:t(()=>[e(a(ve))]),_:1})]),_:1},8,["value","type"])]),_:1}),e(K,{dashed:""}),e(D,{label:"MSL 账户绑定",help:"绑定后可使用 MSL 账户直接登录本控制台"},{default:t(()=>[r.openMSLID&&r.openMSLID!=="0"?(L(),z("div",Be,[e(B,{theme:"success",variant:"light",size:"medium"},{icon:t(()=>[e(a(ee))]),default:t(()=>[c(" 已绑定 (MSL UID: "+I(r.openMSLID)+") ",1)]),_:1}),e($,{theme:"danger",variant:"text",size:"small",style:{"margin-left":"12px"},onClick:i},{default:t(()=>[...o[12]||(o[12]=[c(" 解除绑定 ",-1)])]),_:1})])):(L(),z("div",Ae,[e($,{theme:"primary",variant:"outline",loading:b.value,onClick:O},{icon:t(()=>[e(a(X))]),default:t(()=>[o[13]||(o[13]=c(" 绑定 MSL 账户 ",-1))]),_:1},8,["loading"])]))]),_:1}),e(K,{dashed:""}),e(D,{label:"修改密码"},{default:t(()=>[e(re,{modelValue:m.changePassword,"onUpdate:modelValue":o[5]||(o[5]=v=>m.changePassword=v)},null,8,["modelValue"])]),_:1}),m.changePassword?(L(),z(xe,{key:0},[e(D,{label:"新密码","required-mark":""},{default:t(()=>[e(M,{modelValue:m.newPassword,"onUpdate:modelValue":o[6]||(o[6]=v=>m.newPassword=v),type:"password",placeholder:"请输入新密码"},{"prefix-icon":t(()=>[e(a(we))]),_:1},8,["modelValue"])]),_:1}),e(D,{label:"确认密码","required-mark":""},{default:t(()=>[e(M,{modelValue:m.confirmPassword,"onUpdate:modelValue":o[7]||(o[7]=v=>m.confirmPassword=v),type:"password",placeholder:"请再次输入新密码"},{"prefix-icon":t(()=>[e(a(ee))]),_:1},8,["modelValue"])]),_:1})],64)):oe("",!0),e(D,null,{default:t(()=>[e($,{theme:"primary",type:"submit",loading:l.value,block:"",class:"action-btn"},{default:t(()=>[...o[14]||(o[14]=[c(" 保存个人资料 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["data"])]),_:1},8,["loading"])}}}),Ke=W(Oe,[["__scopeId","data-v-e8f682ba"]]),$e={class:"status-label"},ze=N({__name:"SystemSettingsCard",emits:["refresh"],setup(Q,{expose:d,emit:P}){const V=me(),l=C(!1),f=C(!1),u=G({fireWallBanLocalAddr:!1,openWebConsoleOnLaunch:!0,neoForgeInstallerMirrors:"MSL Mirrors",listenHost:"localhost",listenPort:1027,oAuthMSLClientID:"",oAuthMSLClientSecret:""}),y=[{label:"官方源 (较慢)",value:"Official"},{label:"MSL镜像源 (推荐)",value:"MSL Mirrors"},{label:"MSL镜像源 - 备用",value:"MSL Mirrors Backup"}],g=P,r=async()=>{l.value=!0;try{const x=await pe();Object.assign(u,x)}catch(x){w.error(x.message||"系统设置加载失败")}finally{l.value=!1}},m=async()=>{f.value=!0;try{await fe(u),w.success("系统设置保存成功")}catch(x){w.error(x.message)}finally{f.value=!1}},h=()=>{r(),g("refresh")};d({initData:r});const q=C("");return se(()=>{q.value=`${window.location.origin}/oauth/callback`}),(x,n)=>{const U=s("t-button"),b=s("t-form-item"),O=s("t-switch"),i=s("t-select"),p=s("t-divider"),o=s("t-input"),k=s("t-icon"),B=s("t-space"),K=s("t-col"),F=s("t-row"),j=s("t-form"),M=s("t-card");return L(),A(M,{bordered:!1,title:"系统偏好设置",loading:l.value,class:"settings-card"},{actions:t(()=>[e(U,{theme:"primary",variant:"text",size:"small",onClick:h},{default:t(()=>[...n[11]||(n[11]=[c("刷新数据",-1)])]),_:1})]),default:t(()=>[e(j,{ref:"sysForm",data:u,"label-width":120,"label-align":"left",onSubmit:m},{default:t(()=>[n[17]||(n[17]=S("div",{class:"group-title"},"守护进程",-1)),e(b,{label:"软件更新",style:{"margin-top":"6px"}},{default:t(()=>[e(U,{theme:"default",loading:a(V).loading,onClick:n[0]||(n[0]=_=>a(V).checkAppUpdate(!0))},{icon:t(()=>[e(a(Se))]),default:t(()=>[n[12]||(n[12]=c(" 检查更新 ",-1))]),_:1},8,["loading"])]),_:1}),e(b,{label:"自动打开控制台",help:"MSLX 守护进程启动成功后，是否自动登录网页端控制台。"},{default:t(()=>[e(O,{modelValue:u.openWebConsoleOnLaunch,"onUpdate:modelValue":n[1]||(n[1]=_=>u.openWebConsoleOnLaunch=_)},null,8,["modelValue"])]),_:1}),e(b,{label:"安装镜像源",help:"选择在自动安装 NeoForge / Forge 时所使用的镜像源。",style:{"margin-top":"6px"}},{default:t(()=>[e(i,{modelValue:u.neoForgeInstallerMirrors,"onUpdate:modelValue":n[2]||(n[2]=_=>u.neoForgeInstallerMirrors=_),options:y},null,8,["modelValue"])]),_:1}),e(p,{dashed:""}),n[18]||(n[18]=S("div",{class:"group-title"},"MSL OAuth 2.0",-1)),e(b,{label:"Client ID",style:{"margin-top":"6px"}},{default:t(()=>[e(o,{modelValue:u.oAuthMSLClientID,"onUpdate:modelValue":n[3]||(n[3]=_=>u.oAuthMSLClientID=_),placeholder:"请输入 Client ID"},{"prefix-icon":t(()=>[e(a(te))]),_:1},8,["modelValue"])]),_:1}),e(b,{label:"Client Secret",help:"配置MSL OAuth 2.0后即可使用您的MSL账号一键登录您的MSLX控制台。",style:{"margin-top":"16px"}},{default:t(()=>[e(o,{modelValue:u.oAuthMSLClientSecret,"onUpdate:modelValue":n[4]||(n[4]=_=>u.oAuthMSLClientSecret=_),type:"password",placeholder:"请输入 Client Secret"},{"prefix-icon":t(()=>[e(a(ae))]),_:1},8,["modelValue"])]),_:1}),e(b,{label:"回调地址",help:"请将此地址复制并填入 MSL用户中心 OAuth应用配置的 [回调地址] 中",style:{"margin-top":"16px"}},{default:t(()=>[e(o,{value:q.value,readonly:"",placeholder:"正在获取当前域名..."},{"prefix-icon":t(()=>[e(a(X))]),suffix:t(()=>[e(U,{variant:"text",shape:"square",onClick:n[5]||(n[5]=_=>a(ke)(q.value,!0,"回调地址复制成功"))},{default:t(()=>[e(k,{name:"file-copy"})]),_:1})]),_:1},8,["value"])]),_:1}),e(b,{style:{"margin-top":"6px"},label:"配置教程"},{default:t(()=>[e(B,{align:"center"},{default:t(()=>[e(U,{theme:"default",onClick:n[6]||(n[6]=_=>a(R)(a(T).msl_oauth))},{icon:t(()=>[e(a(E))]),default:t(()=>[n[13]||(n[13]=c(" 配置MSL账号快捷登录教程",-1))]),_:1})]),_:1})]),_:1}),e(p,{dashed:""}),n[19]||(n[19]=S("div",{class:"group-title"},"网络与安全",-1)),e(b,{label:"禁止本地访问",help:"开启后将禁止本地回环地址访问，增强安全性。"},{default:t(()=>[e(B,{align:"center"},{default:t(()=>[e(O,{modelValue:u.fireWallBanLocalAddr,"onUpdate:modelValue":n[7]||(n[7]=_=>u.fireWallBanLocalAddr=_)},null,8,["modelValue"]),S("span",$e,I(u.fireWallBanLocalAddr?"已开启":"已关闭"),1)]),_:1})]),_:1}),e(b,{label:"监听地址设置",help:"设置MSLX守护进程的监听地址。(需要重启守护进程生效,若不明白这是干什么的请一定不要修改！)",style:{"margin-top":"6px"}},{default:t(()=>[e(F,{gutter:16,style:{width:"100%"}},{default:t(()=>[e(K,{span:6},{default:t(()=>[e(o,{modelValue:u.listenHost,"onUpdate:modelValue":n[8]||(n[8]=_=>u.listenHost=_),placeholder:"localhost"},{"prefix-icon":t(()=>[e(a(te))]),_:1},8,["modelValue"])]),_:1}),e(K,{span:4,style:{display:"flex","align-items":"center"}},{default:t(()=>[n[14]||(n[14]=S("span",{style:{"margin-right":"8px",color:"var(--td-text-color-secondary)"}},":",-1)),e(o,{modelValue:u.listenPort,"onUpdate:modelValue":n[9]||(n[9]=_=>u.listenPort=_),placeholder:"1027",style:{width:"120px"}},{"prefix-icon":t(()=>[e(a(ae))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(b,{style:{"margin-top":"6px"},label:"远程访问"},{default:t(()=>[e(B,{align:"center"},{default:t(()=>[e(U,{theme:"default",onClick:n[10]||(n[10]=_=>a(R)(a(T).remote_access))},{icon:t(()=>[e(a(E))]),default:t(()=>[n[15]||(n[15]=c(" 配置远程访问说明",-1))]),_:1})]),_:1})]),_:1}),e(b,null,{default:t(()=>[e(U,{theme:"primary",type:"submit",loading:f.value,block:"",class:"action-btn"},{default:t(()=>[...n[16]||(n[16]=[c(" 保存系统设置 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["data"])]),_:1},8,["loading"])}}}),Fe=W(ze,[["__scopeId","data-v-f3a532cd"]]),Re=N({__name:"WebPanelStyleCard",setup(Q){const d=ne(),P=async(V,l)=>{var y;const f=((y=V[0])==null?void 0:y.raw)||V.raw;if(!f)return;const u=await d.uploadImage(f);u&&(d.settings[l]=u)};return(V,l)=>{const f=s("t-button"),u=s("t-upload"),y=s("t-input"),g=s("t-form-item"),r=s("t-divider"),m=s("t-slider"),h=s("t-col"),q=s("t-row"),x=s("t-option"),n=s("t-select"),U=s("t-space"),b=s("t-form"),O=s("t-card");return L(),A(O,{bordered:!1,title:"面板自定义样式",description:"背景图相关的样式需要在面板左上角的样式面板中启用背景美化才会生效哦！",loading:a(d).loading,class:"settings-card"},{actions:t(()=>[e(f,{theme:"default",onClick:l[0]||(l[0]=i=>a(R)(a(T).style))},{icon:t(()=>[e(a(E))]),default:t(()=>[l[13]||(l[13]=c(" 设置文档",-1))]),_:1})]),default:t(()=>[e(b,{data:a(d).settings,"label-width":120,"label-align":"left",onSubmit:a(d).saveSettings},{default:t(()=>[l[16]||(l[16]=S("div",{class:"group-title"},"背景图片设置",-1)),e(g,{label:"浅色背景",help:"留空则使用默认的背景图哦～"},{default:t(()=>[e(y,{modelValue:a(d).settings.webPanelStyleLightBackground,"onUpdate:modelValue":l[2]||(l[2]=i=>a(d).settings.webPanelStyleLightBackground=i),placeholder:"输入完整URL地址或者在右边上传图片"},{suffix:t(()=>[e(u,{theme:"custom",action:"","auto-upload":!1,"show-file-list":!1,accept:"image/png, image/jpeg, image/webp",onChange:l[1]||(l[1]=i=>P(i,"webPanelStyleLightBackground"))},{default:t(()=>[e(f,{variant:"text",shape:"square"},{default:t(()=>[e(a(le))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(g,{label:"深色背景"},{default:t(()=>[e(y,{modelValue:a(d).settings.webPanelStyleDarkBackground,"onUpdate:modelValue":l[4]||(l[4]=i=>a(d).settings.webPanelStyleDarkBackground=i),placeholder:"输入完整URL地址或者在右边上传图片"},{suffix:t(()=>[e(u,{theme:"custom","auto-upload":!1,"show-file-list":!1,accept:"image/png, image/jpeg, image/webp",onChange:l[3]||(l[3]=i=>P(i,"webPanelStyleDarkBackground"))},{default:t(()=>[e(f,{variant:"text",shape:"square"},{default:t(()=>[e(a(le))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(r,{dashed:""}),l[17]||(l[17]=S("div",{class:"group-title"},"透明度调整 (0.1 - 1.0)",-1)),e(q,{gutter:[32,16]},{default:t(()=>[e(h,{xs:24,sm:12,md:6},{default:t(()=>[e(g,{label:"浅色背景透明度"},{default:t(()=>[e(m,{modelValue:a(d).settings.webPanelStyleLightBackgroundOpacity,"onUpdate:modelValue":l[5]||(l[5]=i=>a(d).settings.webPanelStyleLightBackgroundOpacity=i),min:.1,max:1,step:.01,"tooltip-props":{theme:"light"}},null,8,["modelValue"])]),_:1})]),_:1}),e(h,{xs:24,sm:12,md:6},{default:t(()=>[e(g,{label:"浅色组件透明度"},{default:t(()=>[e(m,{modelValue:a(d).settings.webPanelStyleLightComponentsOpacity,"onUpdate:modelValue":l[6]||(l[6]=i=>a(d).settings.webPanelStyleLightComponentsOpacity=i),min:.1,max:1,step:.01,"tooltip-props":{theme:"light"}},null,8,["modelValue"])]),_:1})]),_:1}),e(h,{xs:24,sm:12,md:6},{default:t(()=>[e(g,{label:"深色背景透明度"},{default:t(()=>[e(m,{modelValue:a(d).settings.webPanelStyleDarkBackgroundOpacity,"onUpdate:modelValue":l[7]||(l[7]=i=>a(d).settings.webPanelStyleDarkBackgroundOpacity=i),min:.1,max:1,step:.01},null,8,["modelValue"])]),_:1})]),_:1}),e(h,{xs:24,sm:12,md:6},{default:t(()=>[e(g,{label:"深色组件透明度"},{default:t(()=>[e(m,{modelValue:a(d).settings.webPanelStyleDarkComponentsOpacity,"onUpdate:modelValue":l[8]||(l[8]=i=>a(d).settings.webPanelStyleDarkComponentsOpacity=i),min:.1,max:1,step:.01},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(r,{dashed:""}),l[18]||(l[18]=S("div",{class:"group-title"},"终端设置(毛玻璃强度/染色设置)",-1)),e(q,{gutter:[32,16]},{default:t(()=>[e(h,{xs:24,sm:12,md:6},{default:t(()=>[e(g,{label:"浅色模式模糊度"},{default:t(()=>[e(m,{modelValue:a(d).settings.webpPanelTerminalBlurLight,"onUpdate:modelValue":l[9]||(l[9]=i=>a(d).settings.webpPanelTerminalBlurLight=i),min:0,max:50,step:1,"input-number-props":{theme:"column",style:"width: 65px"}},{label:t(({value:i})=>[c(I(i)+"px ",1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(h,{xs:24,sm:12,md:6},{default:t(()=>[e(g,{label:"深色模式模糊度"},{default:t(()=>[e(m,{modelValue:a(d).settings.webpPanelTerminalBlurDark,"onUpdate:modelValue":l[10]||(l[10]=i=>a(d).settings.webpPanelTerminalBlurDark=i),min:0,max:50,step:1,"input-number-props":{theme:"column",style:"width: 65px"}},{label:t(({value:i})=>[c(I(i)+"px ",1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(h,{xs:24,sm:12,md:6},{default:t(()=>[e(U,null,{default:t(()=>[e(g,{label:"日志染色等级"},{default:t(()=>[e(n,{modelValue:a(d).settings.webPanelColorizeLogLevel,"onUpdate:modelValue":l[11]||(l[11]=i=>a(d).settings.webPanelColorizeLogLevel=i)},{default:t(()=>[e(x,{label:"不染色",value:0}),e(x,{label:"简约染色",value:1}),e(x,{label:"增强染色",value:2})]),_:1},8,["modelValue"])]),_:1}),e(f,{theme:"default",onClick:l[12]||(l[12]=i=>a(R)(a(T).style_log_colorizer))},{icon:t(()=>[e(a(Ve))]),default:t(()=>[l[14]||(l[14]=c(" 有什么区别？",-1))]),_:1})]),_:1})]),_:1})]),_:1}),e(g,{style:{"margin-top":"24px"}},{default:t(()=>[e(f,{theme:"primary",type:"submit",loading:a(d).submitLoading,block:"",class:"action-btn"},{default:t(()=>[...l[15]||(l[15]=[c(" 应用样式设置 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["data","onSubmit"])]),_:1},8,["loading"])}}}),Te=W(Re,[["__scopeId","data-v-e0f02fd5"]]),We={class:"settings-page"},Ne=N({__name:"index",setup(Q){const d=ne(),P=C(),V=C(),l=async()=>{const f=[];P.value&&f.push(P.value.initData()),V.value&&f.push(V.value.initData()),f.push(d.fetchSettings()),await Promise.all(f)};return se(()=>{l()}),(f,u)=>{const y=s("t-space");return L(),z("div",We,[e(y,{direction:"vertical",size:"large",style:{width:"100%"}},{default:t(()=>[e(Ke,{ref_key:"userCardRef",ref:P},null,512),e(Fe,{ref_key:"sysCardRef",ref:V,onRefresh:l},null,512),e(Te)]),_:1})])}}}),It=W(Ne,[["__scopeId","data-v-5abf49f6"]]);export{It as default};
