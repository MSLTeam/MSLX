import{d as c}from"./pinia.DE9DXmFR.js";import{r as n}from"./index.CqgA5JBs.js";import{M as o}from"./tdesign-vue-next.B9R1AJJu.js";import{F as s}from"./index.BbdIPky0.js";async function I(t){return await n.post({url:"/api/instance/createServer",data:t})}async function m(t,e=!1){return await n.post({url:"/api/instance/delete",data:{id:t,deleteFiles:e}})}async function u(){return await n.get({url:"/api/instance/list"})}async function y(t,e){return await n.post({url:"/api/instance/action",data:{id:t,action:e},timeout:60*1e3})}async function w(t){return await n.get({url:"/api/instance/info",params:{id:t}})}async function d(t){return await n.get({url:`/api/instance/settings/general/${t}`})}async function v(t){return await n.post({url:`/api/instance/settings/general/${t.id}`,data:t})}const L=c("instanceList",()=>{const t=s([]),e=s(0),i=s(0);async function r(){try{t.value=await u(),e.value=t.value.length,i.value=t.value.filter(a=>a.status).length}catch(a){o.error("获取实例列表失败:"+a.message)}}return{instanceList:t,refreshInstanceList:r,totalInstanceCount:e,onlineInstanceCount:i}});export{I as a,v as b,w as c,y as d,d as g,m as p,L as u};
