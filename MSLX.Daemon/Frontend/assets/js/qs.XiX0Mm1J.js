import{s as re}from"./side-channel.D5_e29f9.js";var de=String.prototype.replace,ye=/%20/g,H={RFC1738:"RFC1738",RFC3986:"RFC3986"},k={default:H.RFC3986,formatters:{RFC1738:function(t){return de.call(t,ye,"+")},RFC3986:function(t){return String(t)}},RFC1738:H.RFC1738,RFC3986:H.RFC3986},se=k,me=re,B=Object.prototype.hasOwnProperty,D=Array.isArray,P=me(),ne=function(e,r){return P.set(e,r),e},_=function(e){return P.has(e)},V=function(e){return P.get(e)},te=function(e,r){P.set(e,r)},b=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),pe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(D(n)){for(var i=[],u=0;u<n.length;++u)typeof n[u]<"u"&&i.push(n[u]);r.obj[r.prop]=i}}},U=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},ve=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(D(e))e.push(r);else if(e&&typeof e=="object")if(_(e)){var i=V(e)+1;e[i]=r,te(e,i)}else(n&&(n.plainObjects||n.allowPrototypes)||!B.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object"){if(_(r)){for(var u=Object.keys(r),a=n&&n.plainObjects?{__proto__:null,0:e}:{0:e},y=0;y<u.length;y++){var o=parseInt(u[y],10);a[o+1]=r[u[y]]}return ne(a,V(r)+1)}return[e].concat(r)}var c=e;return D(e)&&!D(r)&&(c=U(e,n)),D(e)&&D(r)?(r.forEach(function(f,d){if(B.call(e,d)){var l=e[d];l&&typeof l=="object"&&f&&typeof f=="object"?e[d]=t(l,f,n):e.push(f)}else e[d]=f}),e):Object.keys(r).reduce(function(f,d){var l=r[d];return B.call(f,d)?f[d]=t(f[d],l,n):f[d]=l,f},c)},he=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},be=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},M=1024,we=function(e,r,n,i,u){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(v){return"%26%23"+parseInt(v.slice(2),16)+"%3B"});for(var y="",o=0;o<a.length;o+=M){for(var c=a.length>=M?a.slice(o,o+M):a,f=[],d=0;d<c.length;++d){var l=c.charCodeAt(d);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||u===se.RFC1738&&(l===40||l===41)){f[f.length]=c.charAt(d);continue}if(l<128){f[f.length]=b[l];continue}if(l<2048){f[f.length]=b[192|l>>6]+b[128|l&63];continue}if(l<55296||l>=57344){f[f.length]=b[224|l>>12]+b[128|l>>6&63]+b[128|l&63];continue}d+=1,l=65536+((l&1023)<<10|c.charCodeAt(d)&1023),f[f.length]=b[240|l>>18]+b[128|l>>12&63]+b[128|l>>6&63]+b[128|l&63]}y+=f.join("")}return y},ge=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var u=r[i],a=u.obj[u.prop],y=Object.keys(a),o=0;o<y.length;++o){var c=y[o],f=a[c];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:a,prop:c}),n.push(f))}return pe(r),e},Oe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},xe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Ee=function(e,r,n,i){if(_(e)){var u=V(e)+1;return e[u]=r,te(e,u),e}var a=[].concat(e,r);return a.length>n?ne(U(a,{plainObjects:i}),a.length-1):a},De=function(e,r){if(D(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},ae={arrayToObject:U,assign:he,combine:Ee,compact:ge,decode:be,encode:we,isBuffer:xe,isOverflow:_,isRegExp:Oe,maybeMap:De,merge:ve},ie=re,L=ae,A=k,Se=Object.prototype.hasOwnProperty,le={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},w=Array.isArray,Ae=Array.prototype.push,fe=function(t,e){Ae.apply(t,w(e)?e:[e])},je=Date.prototype.toISOString,q=A.default,h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:L.encode,encodeValuesOnly:!1,filter:void 0,format:q,formatter:A.formatters[q],indices:!1,serializeDate:function(e){return je.call(e)},skipNulls:!1,strictNullHandling:!1},Fe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},z={},Ne=function t(e,r,n,i,u,a,y,o,c,f,d,l,v,p,g,x,j,C){for(var s=e,F=C,N=0,G=!1;(F=F.get(z))!==void 0&&!G;){var W=F.get(e);if(N+=1,typeof W<"u"){if(W===N)throw new RangeError("Cyclic object value");G=!0}typeof F.get(z)>"u"&&(N=0)}if(typeof f=="function"?s=f(r,s):s instanceof Date?s=v(s):n==="comma"&&w(s)&&(s=L.maybeMap(s,function(Q){return Q instanceof Date?v(Q):Q})),s===null){if(a)return c&&!x?c(r,h.encoder,j,"key",p):r;s=""}if(Fe(s)||L.isBuffer(s)){if(c){var ue=x?r:c(r,h.encoder,j,"key",p);return[g(ue)+"="+g(c(s,h.encoder,j,"value",p))]}return[g(r)+"="+g(String(s))]}var R=[];if(typeof s>"u")return R;var S;if(n==="comma"&&w(s))x&&c&&(s=L.maybeMap(s,c)),S=[{value:s.length>0?s.join(",")||null:void 0}];else if(w(f))S=f;else{var J=Object.keys(s);S=d?J.sort(d):J}var X=o?String(r).replace(/\./g,"%2E"):String(r),I=i&&w(s)&&s.length===1?X+"[]":X;if(u&&w(s)&&s.length===0)return I+"[]";for(var K=0;K<S.length;++K){var E=S[K],Y=typeof E=="object"&&E&&typeof E.value<"u"?E.value:s[E];if(!(y&&Y===null)){var $=l&&o?String(E).replace(/\./g,"%2E"):String(E),ce=w(s)?typeof n=="function"?n(I,$):I:I+(l?"."+$:"["+$+"]");C.set(e,N);var Z=ie();Z.set(z,C),fe(R,t(Y,ce,n,i,u,a,y,o,n==="comma"&&x&&w(s)?null:c,f,d,l,v,p,g,x,j,Z))}}return R},Ie=function(e){if(!e)return h;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||h.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=A.default;if(typeof e.format<"u"){if(!Se.call(A.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=A.formatters[n],u=h.filter;(typeof e.filter=="function"||w(e.filter))&&(u=e.filter);var a;if(e.arrayFormat in le?a=e.arrayFormat:"indices"in e?a=e.indices?"indices":"repeat":a=h.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var y=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:h.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:h.addQueryPrefix,allowDots:y,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:a,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:h.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?h.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:h.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:h.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:h.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:h.encodeValuesOnly,filter:u,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:h.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:h.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:h.strictNullHandling}},Le=function(t,e){var r=t,n=Ie(e),i,u;typeof n.filter=="function"?(u=n.filter,r=u("",r)):w(n.filter)&&(u=n.filter,i=u);var a=[];if(typeof r!="object"||r===null)return"";var y=le[n.arrayFormat],o=y==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=ie(),f=0;f<i.length;++f){var d=i[f],l=r[d];n.skipNulls&&l===null||fe(a,Ne(l,d,y,o,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var v=a.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),v.length>0?p+v:""},O=ae,T=Object.prototype.hasOwnProperty,ee=Array.isArray,m={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:O.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Te=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},oe=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},_e="utf8=%26%2310003%3B",Pe="utf8=%E2%9C%93",Ce=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var u=r.parameterLimit===1/0?void 0:r.parameterLimit,a=i.split(r.delimiter,r.throwOnLimitExceeded?u+1:u);if(r.throwOnLimitExceeded&&a.length>u)throw new RangeError("Parameter limit exceeded. Only "+u+" parameter"+(u===1?"":"s")+" allowed.");var y=-1,o,c=r.charset;if(r.charsetSentinel)for(o=0;o<a.length;++o)a[o].indexOf("utf8=")===0&&(a[o]===Pe?c="utf-8":a[o]===_e&&(c="iso-8859-1"),y=o,o=a.length);for(o=0;o<a.length;++o)if(o!==y){var f=a[o],d=f.indexOf("]="),l=d===-1?f.indexOf("="):d+1,v,p;if(l===-1?(v=r.decoder(f,m.decoder,c,"key"),p=r.strictNullHandling?null:""):(v=r.decoder(f.slice(0,l),m.decoder,c,"key"),v!==null&&(p=O.maybeMap(oe(f.slice(l+1),r,ee(n[v])?n[v].length:0),function(x){return r.decoder(x,m.decoder,c,"value")}))),p&&r.interpretNumericEntities&&c==="iso-8859-1"&&(p=Te(String(p))),f.indexOf("[]=")>-1&&(p=ee(p)?[p]:p),v!==null){var g=T.call(n,v);g&&r.duplicates==="combine"?n[v]=O.combine(n[v],p,r.arrayLimit,r.plainObjects):(!g||r.duplicates==="last")&&(n[v]=p)}}return n},Re=function(t,e,r,n){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var u=t.slice(0,-1).join("");i=Array.isArray(e)&&e[u]?e[u].length:0}for(var a=n?e:oe(e,r,i),y=t.length-1;y>=0;--y){var o,c=t[y];if(c==="[]"&&r.parseArrays)O.isOverflow(a)?o=a:o=r.allowEmptyArrays&&(a===""||r.strictNullHandling&&a===null)?[]:O.combine([],a,r.arrayLimit,r.plainObjects);else{o=r.plainObjects?{__proto__:null}:{};var f=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,d=r.decodeDotInKeys?f.replace(/%2E/g,"."):f,l=parseInt(d,10);!r.parseArrays&&d===""?o={0:a}:!isNaN(l)&&c!==d&&String(l)===d&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=a):d!=="__proto__"&&(o[d]=a)}a=o}return a},Ke=function(e,r){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;if(r.depth<=0)return!r.plainObjects&&T.call(Object.prototype,n)&&!r.allowPrototypes?void 0:[n];var i=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,a=i.exec(n),y=a?n.slice(0,a.index):n,o=[];if(y){if(!r.plainObjects&&T.call(Object.prototype,y)&&!r.allowPrototypes)return;o.push(y)}for(var c=0;(a=u.exec(n))!==null&&c<r.depth;){c+=1;var f=a[1].slice(1,-1);if(!r.plainObjects&&T.call(Object.prototype,f)&&!r.allowPrototypes)return;o.push(a[1])}if(a){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");o.push("["+n.slice(a.index)+"]")}return o},$e=function(e,r,n,i){if(e){var u=Ke(e,n);if(u)return Re(u,r,n,i)}},Qe=function(e){if(!e)return m;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?m.charset:e.charset,n=typeof e.duplicates>"u"?m.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:m.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:m.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:m.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:m.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:m.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:m.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:m.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:m.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:m.decoder,delimiter:typeof e.delimiter=="string"||O.isRegExp(e.delimiter)?e.delimiter:m.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:m.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:m.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:m.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:m.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:m.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:m.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},He=function(t,e){var r=Qe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?Ce(t,r):t,i=r.plainObjects?{__proto__:null}:{},u=Object.keys(n),a=0;a<u.length;++a){var y=u[a],o=$e(y,n[y],r,typeof t=="string");i=O.merge(i,o,r)}return r.allowSparse===!0?i:O.compact(i)},Be=Le,Me=He,ze=k,ke={formats:ze,parse:Me,stringify:Be};export{ke as l};
