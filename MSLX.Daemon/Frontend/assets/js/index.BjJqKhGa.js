import{u as ue,r as Y,_ as F,a as me,c as j,G as pe,H as ce,I as ne}from"./index.Do1noIT9.js";import{a as J,b as Z}from"./user.kPzHb_pq.js";import{z as fe,aO as ge,a6 as H,aP as _e,B as be,f as ye,U as we,a2 as ee,a8 as ve,a5 as Se,aa as te,aQ as ae,al as X,a1 as le}from"./tdesign-icons-vue-next.o89AUH_k.js";import{M as v,D as Q}from"./tdesign-vue-next.ClIZ97Cx.js";import{D as W,F as k,W as G,P as he,b0 as r,b1 as B,aY as x,b2 as t,a$ as S,G as e,ao as g,b5 as q,aX as K,b6 as oe,ap as l,O as Ve,R as se}from"./index.CWeK9ocq.js";import{D as E}from"./docs.BTqbr35R.js";import{c as xe}from"./clipboard.BzONjGHJ.js";import"./pinia.CwCJD8HV.js";import"./pinia-plugin-persistedstate_561243483b11dd07f5acf9e797fda690.n2tMOXAx.js";import"./vue-router.f8VyOqpO.js";import"./tvision-color.COTpcftn.js";import"./chroma-js.RLxBGt-u.js";import"./bezier-easing.qwUZoLR4.js";import"./lodash.C2dUGbaG.js";import"./axios.R-lXtGyY.js";import"./qs.XiX0Mm1J.js";import"./side-channel.D5_e29f9.js";import"./es-errors.CFxpeikN.js";import"./object-inspect.C4p7aaXq.js";import"./cron-parser.BHsRiybt.js";import"./luxon.BVaPVz1w.js";import"./side-channel-list.Mptt8X3N.js";import"./side-channel-map.Ce19al5R.js";import"./get-intrinsic.DR3xEH2x.js";import"./es-object-atoms.Ditt1eQ6.js";import"./math-intrinsics.Cv-yPkyD.js";import"./gopd.fcd2-aIC.js";import"./es-define-property.bDCdrV83.js";import"./has-symbols.BaUvM3gb.js";import"./get-proto.DDnjtmUu.js";import"./dunder-proto.BNaYEbSf.js";import"./call-bind-apply-helpers.WnuMKP1p.js";import"./function-bind.CHqF18-c.js";import"./hasown.B1sN64jK.js";import"./call-bound.Dbz9IhIv.js";import"./side-channel-weakmap.BlDgri06.js";import"./nprogress.BFWi6Yo1.js";import"./core-js-pure.DN77qAGa.js";import"./crelt.C8TCjufn.js";import"./style-mod.Bc2inJdb.js";import"./w3c-keyname.Vcq4gwWv.js";import"./lodash-es.ClUTdtmA.js";import"./mitt.DJ65BbbF.js";import"./sortablejs.C83syoBY.js";const ke={class:"profile-header"},Le={class:"avatar-col"},Pe={class:"info-col"},Ce={class:"main-row"},Me={class:"nickname"},Ue={class:"sub-row"},De={class:"username"},qe={key:0,class:"last-login"},Ie={key:0,class:"bound-status"},Be={key:1},Ae=W({__name:"UserProfileCard",setup(z,{expose:u}){const L=ue(),h=k(!1),o=k(!1),c=k(!1),d=k(""),b=k(""),_=k("qq"),s=G({id:"",username:"",name:"",avatar:"",role:"",apiKey:"",lastLoginTime:"",openMSLID:""}),m=G({changePassword:!1,newPassword:"",confirmPassword:""}),P=async()=>{h.value=!0;try{const p=await J();Object.assign(s,p),d.value=p.username;const a=p.avatar&&p.avatar.match(/nk=(\d+)/);a&&a[1]?(_.value="qq",b.value=a[1]):_.value="custom"}catch(p){v.error(p.message||"用户加载失败")}finally{h.value=!1}};he(b,p=>{_.value==="qq"&&p&&(s.avatar=`https://q.qlogo.cn/g?b=qq&nk=${p}&s=640`)});const D=p=>{p==="qq"&&b.value&&(s.avatar=`https://q.qlogo.cn/g?b=qq&nk=${b.value}&s=640`)},C=()=>{s.apiKey&&navigator.clipboard.writeText(s.apiKey).then(()=>{v.success("API Key 已复制")})},n=()=>{const p=Q.confirm({header:"重置 API 密钥",theme:"warning",body:"重置后，所有使用旧 Key 的外部工具将立即失效，确定要继续吗？",onConfirm:async()=>{try{p.hide(),await Z({resetApiKey:!0}),v.success("API Key 重置成功");const a=await J();s.apiKey=a.apiKey}catch(a){v.error(a.message||"重置失败")}}})},i=async()=>{if(m.changePassword){if(!m.newPassword){v.warning("请输入新密码");return}if(m.newPassword!==m.confirmPassword){v.error("两次输入的密码不一致");return}}const p=s.username!==d.value,a=m.changePassword&&!!m.newPassword;o.value=!0;try{const V={username:s.username,name:s.name,avatar:s.avatar,password:a?m.newPassword:void 0,resetApiKey:!1};await Z(V),m.changePassword=!1,m.newPassword="",m.confirmPassword="",d.value=s.username,v.success("个人信息保存成功"),p||a?Q.alert({header:"重新登录",body:"账号或密码已变更，请重新登录以生效。",confirmBtn:"去登录",onConfirm:async()=>{await L.logout(),window.location.reload()}}):await L.getUserInfo()}catch(V){v.error(V.message)}finally{o.value=!1}};u({initData:P});const y=k(!1),$=async()=>{y.value=!0;try{const p=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);localStorage.setItem("oauth_state",p);const a=`${window.location.origin}/oauth/callback?mode=bind`,V=await Y.get({url:"/api/auth/oauth/url",params:{state:p,callback:a}});V&&V.url?window.location.href=V.url:(v.error(V.message||"获取绑定地址失败"),y.value=!1)}catch(p){v.error(p.message||"请求失败"),y.value=!1}},T=()=>{const p=Q.confirm({header:"解除绑定",theme:"warning",body:"确定要解除与 MSL 账户的绑定吗？解绑后您将无法使用 MSL 账户快捷登录。",onConfirm:async()=>{try{p.hide(),await Y.post({url:"/api/auth/oauth/unbind"}),v.success("解绑成功"),await P()}catch(a){v.error(a.message||"解绑失败")}}})};return(p,a)=>{const V=r("t-avatar"),I=r("t-tag"),A=r("t-divider"),R=r("t-radio-button"),N=r("t-radio-group"),M=r("t-input"),f=r("t-space"),U=r("t-form-item"),O=r("t-button"),re=r("t-switch"),ie=r("t-form"),de=r("t-card");return x(),B(de,{bordered:!1,loading:h.value,class:"settings-card"},{default:t(()=>[S("div",ke,[S("div",Le,[e(V,{image:s.avatar,size:"80px",shape:"circle",class:"user-avatar-shadow"},{default:t(()=>[g(q(s.name?s.name.slice(0,1).toUpperCase():"U"),1)]),_:1},8,["image"])]),S("div",Pe,[S("div",Ce,[S("span",Me,q(s.name||"未设置昵称"),1),s.role==="admin"?(x(),B(I,{key:0,theme:"success",variant:"light",size:"small",shape:"round"},{default:t(()=>[...a[8]||(a[8]=[g("管理员",-1)])]),_:1})):(x(),B(I,{key:1,theme:"primary",variant:"light",size:"small",shape:"round"},{default:t(()=>[...a[9]||(a[9]=[g("普通用户",-1)])]),_:1}))]),S("div",Ue,[S("span",De,"@"+q(s.username),1),s.lastLoginTime?(x(),K("span",qe,[e(l(fe)),g(" "+q(new Date(s.lastLoginTime).toLocaleString()),1)])):oe("",!0)])])]),e(A),e(ie,{ref:"userForm",data:s,"label-width":100,"label-align":"left",onSubmit:i},{default:t(()=>[e(U,{label:"头像设置"},{default:t(()=>[e(f,{direction:"vertical",style:{width:"100%"}},{default:t(()=>[e(N,{modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=w=>_.value=w),variant:"default-filled",onChange:D},{default:t(()=>[e(R,{value:"qq"},{default:t(()=>[e(l(ge)),a[10]||(a[10]=g(" QQ头像",-1))]),_:1}),e(R,{value:"custom"},{default:t(()=>[e(l(H)),a[11]||(a[11]=g(" 链接",-1))]),_:1})]),_:1},8,["modelValue"]),_.value==="qq"?(x(),B(M,{key:0,modelValue:b.value,"onUpdate:modelValue":a[1]||(a[1]=w=>b.value=w),placeholder:"输入QQ号自动获取",type:"number"},{"prefix-icon":t(()=>[e(l(_e))]),_:1},8,["modelValue"])):(x(),B(M,{key:1,modelValue:s.avatar,"onUpdate:modelValue":a[2]||(a[2]=w=>s.avatar=w),placeholder:"输入图片 URL 链接"},{"prefix-icon":t(()=>[e(l(be))]),_:1},8,["modelValue"]))]),_:1})]),_:1}),e(U,{label:"用户昵称",name:"name"},{default:t(()=>[e(M,{modelValue:s.name,"onUpdate:modelValue":a[3]||(a[3]=w=>s.name=w),placeholder:"显示的名称"},null,8,["modelValue"])]),_:1}),e(U,{label:"登录账号",name:"username"},{default:t(()=>[e(M,{modelValue:s.username,"onUpdate:modelValue":a[4]||(a[4]=w=>s.username=w),placeholder:"登录唯一标识"},null,8,["modelValue"])]),_:1}),e(U,{label:"API Key",help:"用于第三方工具连接的凭证，请妥善保管"},{default:t(()=>[e(M,{value:s.apiKey,type:c.value?"text":"password",readonly:"",placeholder:"点击重置生成 Key"},{suffix:t(()=>[e(O,{variant:"text",size:"small",onClick:C},{icon:t(()=>[e(l(ye))]),_:1}),e(O,{variant:"text",theme:"danger",size:"small",onClick:n},{icon:t(()=>[e(l(we))]),_:1})]),_:1},8,["value","type"])]),_:1}),e(A,{dashed:""}),e(U,{label:"MSL 账户绑定",help:"绑定后可使用 MSL 账户直接登录本控制台"},{default:t(()=>[s.openMSLID&&s.openMSLID!=="0"?(x(),K("div",Ie,[e(I,{theme:"success",variant:"light",size:"medium"},{icon:t(()=>[e(l(ee))]),default:t(()=>[g(" 已绑定 (MSL UID: "+q(s.openMSLID)+") ",1)]),_:1}),e(O,{theme:"danger",variant:"text",size:"small",style:{"margin-left":"12px"},onClick:T},{default:t(()=>[...a[12]||(a[12]=[g(" 解除绑定 ",-1)])]),_:1})])):(x(),K("div",Be,[e(O,{theme:"primary",variant:"outline",loading:y.value,onClick:$},{icon:t(()=>[e(l(H))]),default:t(()=>[a[13]||(a[13]=g(" 绑定 MSL 账户 ",-1))]),_:1},8,["loading"])]))]),_:1}),e(A,{dashed:""}),e(U,{label:"修改密码"},{default:t(()=>[e(re,{modelValue:m.changePassword,"onUpdate:modelValue":a[5]||(a[5]=w=>m.changePassword=w)},null,8,["modelValue"])]),_:1}),m.changePassword?(x(),K(Ve,{key:0},[e(U,{label:"新密码","required-mark":""},{default:t(()=>[e(M,{modelValue:m.newPassword,"onUpdate:modelValue":a[6]||(a[6]=w=>m.newPassword=w),type:"password",placeholder:"请输入新密码"},{"prefix-icon":t(()=>[e(l(ve))]),_:1},8,["modelValue"])]),_:1}),e(U,{label:"确认密码","required-mark":""},{default:t(()=>[e(M,{modelValue:m.confirmPassword,"onUpdate:modelValue":a[7]||(a[7]=w=>m.confirmPassword=w),type:"password",placeholder:"请再次输入新密码"},{"prefix-icon":t(()=>[e(l(ee))]),_:1},8,["modelValue"])]),_:1})],64)):oe("",!0),e(U,null,{default:t(()=>[e(O,{theme:"primary",type:"submit",loading:o.value,block:"",class:"action-btn"},{default:t(()=>[...a[14]||(a[14]=[g(" 保存个人资料 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["data"])]),_:1},8,["loading"])}}}),Oe=F(Ae,[["__scopeId","data-v-e8f682ba"]]),Ke={class:"status-label"},$e=W({__name:"SystemSettingsCard",emits:["refresh"],setup(z,{expose:u,emit:L}){const h=me(),o=k(!1),c=k(!1),d=G({fireWallBanLocalAddr:!1,openWebConsoleOnLaunch:!0,neoForgeInstallerMirrors:"MSL Mirrors",listenHost:"localhost",listenPort:1027,oAuthMSLClientID:"",oAuthMSLClientSecret:""}),b=[{label:"官方源 (较慢)",value:"Official"},{label:"MSL镜像源 (推荐)",value:"MSL Mirrors"},{label:"MSL镜像源 - 备用",value:"MSL Mirrors Backup"}],_=L,s=async()=>{o.value=!0;try{const C=await pe();Object.assign(d,C)}catch(C){v.error(C.message||"系统设置加载失败")}finally{o.value=!1}},m=async()=>{c.value=!0;try{await ce(d),v.success("系统设置保存成功")}catch(C){v.error(C.message)}finally{c.value=!1}},P=()=>{s(),_("refresh")};u({initData:s});const D=k("");return se(()=>{D.value=`${window.location.origin}/oauth/callback`}),(C,n)=>{const i=r("t-button"),y=r("t-form-item"),$=r("t-switch"),T=r("t-select"),p=r("t-divider"),a=r("t-input"),V=r("t-icon"),I=r("t-space"),A=r("t-col"),R=r("t-row"),N=r("t-form"),M=r("t-card");return x(),B(M,{bordered:!1,title:"系统偏好设置",loading:o.value,class:"settings-card"},{actions:t(()=>[e(i,{theme:"primary",variant:"text",size:"small",onClick:P},{default:t(()=>[...n[11]||(n[11]=[g("刷新数据",-1)])]),_:1})]),default:t(()=>[e(N,{ref:"sysForm",data:d,"label-width":120,"label-align":"left",onSubmit:m},{default:t(()=>[n[17]||(n[17]=S("div",{class:"group-title"},"守护进程",-1)),e(y,{label:"软件更新",style:{"margin-top":"6px"}},{default:t(()=>[e(i,{theme:"default",loading:l(h).loading,onClick:n[0]||(n[0]=f=>l(h).checkAppUpdate(!0))},{icon:t(()=>[e(l(Se))]),default:t(()=>[n[12]||(n[12]=g(" 检查更新 ",-1))]),_:1},8,["loading"])]),_:1}),e(y,{label:"自动打开控制台",help:"MSLX 守护进程启动成功后，是否自动登录网页端控制台。"},{default:t(()=>[e($,{modelValue:d.openWebConsoleOnLaunch,"onUpdate:modelValue":n[1]||(n[1]=f=>d.openWebConsoleOnLaunch=f)},null,8,["modelValue"])]),_:1}),e(y,{label:"安装镜像源",help:"选择在自动安装 NeoForge / Forge 时所使用的镜像源。",style:{"margin-top":"6px"}},{default:t(()=>[e(T,{modelValue:d.neoForgeInstallerMirrors,"onUpdate:modelValue":n[2]||(n[2]=f=>d.neoForgeInstallerMirrors=f),options:b},null,8,["modelValue"])]),_:1}),e(p,{dashed:""}),n[18]||(n[18]=S("div",{class:"group-title"},"MSL OAuth 2.0",-1)),e(y,{label:"Client ID",style:{"margin-top":"6px"}},{default:t(()=>[e(a,{modelValue:d.oAuthMSLClientID,"onUpdate:modelValue":n[3]||(n[3]=f=>d.oAuthMSLClientID=f),placeholder:"请输入 Client ID"},{"prefix-icon":t(()=>[e(l(te))]),_:1},8,["modelValue"])]),_:1}),e(y,{label:"Client Secret",help:"配置MSL OAuth 2.0后即可使用您的MSL账号一键登录您的MSLX控制台。",style:{"margin-top":"16px"}},{default:t(()=>[e(a,{modelValue:d.oAuthMSLClientSecret,"onUpdate:modelValue":n[4]||(n[4]=f=>d.oAuthMSLClientSecret=f),type:"password",placeholder:"请输入 Client Secret"},{"prefix-icon":t(()=>[e(l(ae))]),_:1},8,["modelValue"])]),_:1}),e(y,{label:"回调地址",help:"请将此地址复制并填入 MSL用户中心 OAuth应用配置的 [回调地址] 中",style:{"margin-top":"16px"}},{default:t(()=>[e(a,{value:D.value,readonly:"",placeholder:"正在获取当前域名..."},{"prefix-icon":t(()=>[e(l(H))]),suffix:t(()=>[e(i,{variant:"text",shape:"square",onClick:n[5]||(n[5]=f=>l(xe)(D.value,!0,"回调地址复制成功"))},{default:t(()=>[e(V,{name:"file-copy"})]),_:1})]),_:1},8,["value"])]),_:1}),e(y,{style:{"margin-top":"6px"},label:"配置教程"},{default:t(()=>[e(I,{align:"center"},{default:t(()=>[e(i,{theme:"default",onClick:n[6]||(n[6]=f=>l(j)(l(E).msl_oauth))},{icon:t(()=>[e(l(X))]),default:t(()=>[n[13]||(n[13]=g(" 配置MSL账号快捷登录教程",-1))]),_:1})]),_:1})]),_:1}),e(p,{dashed:""}),n[19]||(n[19]=S("div",{class:"group-title"},"网络与安全",-1)),e(y,{label:"禁止本地访问",help:"开启后将禁止本地回环地址访问，增强安全性。"},{default:t(()=>[e(I,{align:"center"},{default:t(()=>[e($,{modelValue:d.fireWallBanLocalAddr,"onUpdate:modelValue":n[7]||(n[7]=f=>d.fireWallBanLocalAddr=f)},null,8,["modelValue"]),S("span",Ke,q(d.fireWallBanLocalAddr?"已开启":"已关闭"),1)]),_:1})]),_:1}),e(y,{label:"监听地址设置",help:"设置MSLX守护进程的监听地址。(需要重启守护进程生效,若不明白这是干什么的请一定不要修改！)",style:{"margin-top":"6px"}},{default:t(()=>[e(R,{gutter:16,style:{width:"100%"}},{default:t(()=>[e(A,{span:6},{default:t(()=>[e(a,{modelValue:d.listenHost,"onUpdate:modelValue":n[8]||(n[8]=f=>d.listenHost=f),placeholder:"localhost"},{"prefix-icon":t(()=>[e(l(te))]),_:1},8,["modelValue"])]),_:1}),e(A,{span:4,style:{display:"flex","align-items":"center"}},{default:t(()=>[n[14]||(n[14]=S("span",{style:{"margin-right":"8px",color:"var(--td-text-color-secondary)"}},":",-1)),e(a,{modelValue:d.listenPort,"onUpdate:modelValue":n[9]||(n[9]=f=>d.listenPort=f),placeholder:"1027",style:{width:"120px"}},{"prefix-icon":t(()=>[e(l(ae))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(y,{style:{"margin-top":"6px"},label:"远程访问"},{default:t(()=>[e(I,{align:"center"},{default:t(()=>[e(i,{theme:"default",onClick:n[10]||(n[10]=f=>l(j)(l(E).remote_access))},{icon:t(()=>[e(l(X))]),default:t(()=>[n[15]||(n[15]=g(" 配置远程访问说明",-1))]),_:1})]),_:1})]),_:1}),e(y,null,{default:t(()=>[e(i,{theme:"primary",type:"submit",loading:c.value,block:"",class:"action-btn"},{default:t(()=>[...n[16]||(n[16]=[g(" 保存系统设置 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["data"])]),_:1},8,["loading"])}}}),Re=F($e,[["__scopeId","data-v-f3a532cd"]]),Fe=W({__name:"WebPanelStyleCard",setup(z){const u=ne(),L=async(h,o)=>{var b;const c=((b=h[0])==null?void 0:b.raw)||h.raw;if(!c)return;const d=await u.uploadImage(c);d&&(u.settings[o]=d)};return(h,o)=>{const c=r("t-button"),d=r("t-upload"),b=r("t-input"),_=r("t-form-item"),s=r("t-divider"),m=r("t-slider"),P=r("t-col"),D=r("t-row"),C=r("t-form"),n=r("t-card");return x(),B(n,{bordered:!1,title:"面板自定义样式",description:"这里设置的样式需要在面板左上角的样式面板中启用背景美化才会生效哦！",loading:l(u).loading,class:"settings-card"},{actions:t(()=>[e(c,{theme:"default",onClick:o[0]||(o[0]=i=>l(j)(l(E).style))},{icon:t(()=>[e(l(X))]),default:t(()=>[o[11]||(o[11]=g(" 设置文档",-1))]),_:1})]),default:t(()=>[e(C,{data:l(u).settings,"label-width":120,"label-align":"left",onSubmit:l(u).saveSettings},{default:t(()=>[o[13]||(o[13]=S("div",{class:"group-title"},"背景图片设置",-1)),e(_,{label:"浅色背景",help:"留空则使用默认的背景图哦～"},{default:t(()=>[e(b,{modelValue:l(u).settings.webPanelStyleLightBackground,"onUpdate:modelValue":o[2]||(o[2]=i=>l(u).settings.webPanelStyleLightBackground=i),placeholder:"输入完整URL地址或者在右边上传图片"},{suffix:t(()=>[e(d,{theme:"custom",action:"","auto-upload":!1,"show-file-list":!1,accept:"image/png, image/jpeg, image/webp",onChange:o[1]||(o[1]=i=>L(i,"webPanelStyleLightBackground"))},{default:t(()=>[e(c,{variant:"text",shape:"square"},{default:t(()=>[e(l(le))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"深色背景"},{default:t(()=>[e(b,{modelValue:l(u).settings.webPanelStyleDarkBackground,"onUpdate:modelValue":o[4]||(o[4]=i=>l(u).settings.webPanelStyleDarkBackground=i),placeholder:"输入完整URL地址或者在右边上传图片"},{suffix:t(()=>[e(d,{theme:"custom","auto-upload":!1,"show-file-list":!1,accept:"image/png, image/jpeg, image/webp",onChange:o[3]||(o[3]=i=>L(i,"webPanelStyleDarkBackground"))},{default:t(()=>[e(c,{variant:"text",shape:"square"},{default:t(()=>[e(l(le))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(s,{dashed:""}),o[14]||(o[14]=S("div",{class:"group-title"},"透明度调整 (0.1 - 1.0)",-1)),e(D,{gutter:[32,16]},{default:t(()=>[e(P,{xs:24,sm:12,md:6},{default:t(()=>[e(_,{label:"浅色背景透明度"},{default:t(()=>[e(m,{modelValue:l(u).settings.webPanelStyleLightBackgroundOpacity,"onUpdate:modelValue":o[5]||(o[5]=i=>l(u).settings.webPanelStyleLightBackgroundOpacity=i),min:.1,max:1,step:.01,"tooltip-props":{theme:"light"}},null,8,["modelValue"])]),_:1})]),_:1}),e(P,{xs:24,sm:12,md:6},{default:t(()=>[e(_,{label:"浅色组件透明度"},{default:t(()=>[e(m,{modelValue:l(u).settings.webPanelStyleLightComponentsOpacity,"onUpdate:modelValue":o[6]||(o[6]=i=>l(u).settings.webPanelStyleLightComponentsOpacity=i),min:.1,max:1,step:.01,"tooltip-props":{theme:"light"}},null,8,["modelValue"])]),_:1})]),_:1}),e(P,{xs:24,sm:12,md:6},{default:t(()=>[e(_,{label:"深色背景透明度"},{default:t(()=>[e(m,{modelValue:l(u).settings.webPanelStyleDarkBackgroundOpacity,"onUpdate:modelValue":o[7]||(o[7]=i=>l(u).settings.webPanelStyleDarkBackgroundOpacity=i),min:.1,max:1,step:.01},null,8,["modelValue"])]),_:1})]),_:1}),e(P,{xs:24,sm:12,md:6},{default:t(()=>[e(_,{label:"深色组件透明度"},{default:t(()=>[e(m,{modelValue:l(u).settings.webPanelStyleDarkComponentsOpacity,"onUpdate:modelValue":o[8]||(o[8]=i=>l(u).settings.webPanelStyleDarkComponentsOpacity=i),min:.1,max:1,step:.01},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{dashed:""}),o[15]||(o[15]=S("div",{class:"group-title"},"终端毛玻璃强度 (Blur)",-1)),e(D,{gutter:[32,16]},{default:t(()=>[e(P,{xs:24,sm:12,md:6},{default:t(()=>[e(_,{label:"浅色模式模糊度"},{default:t(()=>[e(m,{modelValue:l(u).settings.webpPanelTerminalBlurLight,"onUpdate:modelValue":o[9]||(o[9]=i=>l(u).settings.webpPanelTerminalBlurLight=i),min:0,max:50,step:1,"input-number-props":{theme:"column",style:"width: 65px"}},{label:t(({value:i})=>[g(q(i)+"px ",1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(P,{xs:24,sm:12,md:6},{default:t(()=>[e(_,{label:"深色模式模糊度"},{default:t(()=>[e(m,{modelValue:l(u).settings.webpPanelTerminalBlurDark,"onUpdate:modelValue":o[10]||(o[10]=i=>l(u).settings.webpPanelTerminalBlurDark=i),min:0,max:50,step:1,"input-number-props":{theme:"column",style:"width: 65px"}},{label:t(({value:i})=>[g(q(i)+"px ",1)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(_,{style:{"margin-top":"24px"}},{default:t(()=>[e(c,{theme:"primary",type:"submit",loading:l(u).submitLoading,block:"",class:"action-btn"},{default:t(()=>[...o[12]||(o[12]=[g(" 应用样式设置 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["data","onSubmit"])]),_:1},8,["loading"])}}}),We=F(Fe,[["__scopeId","data-v-a1733c30"]]),ze={class:"settings-page"},Te=W({__name:"index",setup(z){const u=ne(),L=k(),h=k(),o=async()=>{const c=[];L.value&&c.push(L.value.initData()),h.value&&c.push(h.value.initData()),c.push(u.fetchSettings()),await Promise.all(c)};return se(()=>{o()}),(c,d)=>{const b=r("t-space");return x(),K("div",ze,[e(b,{direction:"vertical",size:"large",style:{width:"100%"}},{default:t(()=>[e(Oe,{ref_key:"userCardRef",ref:L},null,512),e(Re,{ref_key:"sysCardRef",ref:h,onRefresh:o},null,512),e(We)]),_:1})])}}}),Bt=F(Te,[["__scopeId","data-v-5abf49f6"]]);export{Bt as default};
