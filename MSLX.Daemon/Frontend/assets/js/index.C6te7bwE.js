import{u as ue,r as H,_ as F,c as te,F as me,G as pe,H as ae}from"./index.DCaoGYGa.js";import{a as X,b as G}from"./user.NqgVNGZ4.js";import{z as ce,aL as fe,ac as Q,aM as ge,B as _e,f as be,U as ye,a4 as E,a3 as we,a6 as Y,aN as J,ak as oe,a1 as Z}from"./tdesign-icons-vue-next.Q06Erwsy.js";import{M as w,D as N}from"./tdesign-vue-next.DWJvSscW.js";import{D as R,F as L,W as j,P as ve,b0 as r,b1 as q,aY as k,b2 as t,a$ as v,G as e,ao as g,b5 as D,aX as O,b6 as ee,ap as l,O as he,R as le}from"./index.BbdIPky0.js";import{D as ne}from"./docs.CxArFray.js";import{c as Se}from"./clipboard.Bwu5d1Ki.js";import"./pinia.DE9DXmFR.js";import"./pinia-plugin-persistedstate_561243483b11dd07f5acf9e797fda690.n2tMOXAx.js";import"./vue-router.CTuarHf7.js";import"./tvision-color.BU_YHHaJ.js";import"./chroma-js.Cmk4elvR.js";import"./bezier-easing.jp9ayU57.js";import"./lodash.B5_zCkFd.js";import"./axios.R-lXtGyY.js";import"./qs.pfv2Cuas.js";import"./side-channel.B7VpeXu7.js";import"./es-errors.CFxpeikN.js";import"./object-inspect.CD-SYzlK.js";import"./cron-parser.BqMfRICj.js";import"./luxon.BVaPVz1w.js";import"./side-channel-list.CQN2BsdT.js";import"./side-channel-map.mJjiYxsE.js";import"./get-intrinsic.DZF4l_-S.js";import"./es-object-atoms.Ditt1eQ6.js";import"./math-intrinsics.Cv-yPkyD.js";import"./gopd.fcd2-aIC.js";import"./es-define-property.bDCdrV83.js";import"./has-symbols.BaUvM3gb.js";import"./get-proto.GRuZvLsk.js";import"./dunder-proto.BfGlLUzx.js";import"./call-bind-apply-helpers.DPbVMkjK.js";import"./function-bind.CHqF18-c.js";import"./hasown.B1sN64jK.js";import"./call-bound.DTRAK3sj.js";import"./side-channel-weakmap.C4d6frlU.js";import"./nprogress.CMq2Rk2a.js";import"./core-js-pure.DghWRT_o.js";import"./crelt.C8TCjufn.js";import"./style-mod.Bc2inJdb.js";import"./w3c-keyname.Vcq4gwWv.js";import"./lodash-es.ClUTdtmA.js";import"./mitt.DJ65BbbF.js";import"./sortablejs.C83syoBY.js";const Ve={class:"profile-header"},xe={class:"avatar-col"},ke={class:"info-col"},Le={class:"main-row"},Pe={class:"nickname"},Ce={class:"sub-row"},Me={class:"username"},Ue={key:0,class:"last-login"},De={key:0,class:"bound-status"},qe={key:1},Be=R({__name:"UserProfileCard",setup(W,{expose:m}){const P=ue(),b=L(!1),o=L(!1),i=L(!1),x=L(""),_=L(""),f=L("qq"),s=j({id:"",username:"",name:"",avatar:"",role:"",apiKey:"",lastLoginTime:"",openMSLID:""}),p=j({changePassword:!1,newPassword:"",confirmPassword:""}),S=async()=>{b.value=!0;try{const u=await X();Object.assign(s,u),x.value=u.username;const a=u.avatar&&u.avatar.match(/nk=(\d+)/);a&&a[1]?(f.value="qq",_.value=a[1]):f.value="custom"}catch(u){w.error(u.message||"用户加载失败")}finally{b.value=!1}};ve(_,u=>{f.value==="qq"&&u&&(s.avatar=`https://q.qlogo.cn/g?b=qq&nk=${u}&s=640`)});const C=u=>{u==="qq"&&_.value&&(s.avatar=`https://q.qlogo.cn/g?b=qq&nk=${_.value}&s=640`)},n=()=>{s.apiKey&&navigator.clipboard.writeText(s.apiKey).then(()=>{w.success("API Key 已复制")})},U=()=>{const u=N.confirm({header:"重置 API 密钥",theme:"warning",body:"重置后，所有使用旧 Key 的外部工具将立即失效，确定要继续吗？",onConfirm:async()=>{try{u.hide(),await G({resetApiKey:!0}),w.success("API Key 重置成功");const a=await X();s.apiKey=a.apiKey}catch(a){w.error(a.message||"重置失败")}}})},d=async()=>{if(p.changePassword){if(!p.newPassword){w.warning("请输入新密码");return}if(p.newPassword!==p.confirmPassword){w.error("两次输入的密码不一致");return}}const u=s.username!==x.value,a=p.changePassword&&!!p.newPassword;o.value=!0;try{const V={username:s.username,name:s.name,avatar:s.avatar,password:a?p.newPassword:void 0,resetApiKey:!1};await G(V),p.changePassword=!1,p.newPassword="",p.confirmPassword="",x.value=s.username,w.success("个人信息保存成功"),u||a?N.alert({header:"重新登录",body:"账号或密码已变更，请重新登录以生效。",confirmBtn:"去登录",onConfirm:async()=>{await P.logout(),window.location.reload()}}):await P.getUserInfo()}catch(V){w.error(V.message)}finally{o.value=!1}};m({initData:S});const h=L(!1),z=async()=>{h.value=!0;try{const u=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);localStorage.setItem("oauth_state",u);const a=`${window.location.origin}/oauth/callback?mode=bind`,V=await H.get({url:"/api/auth/oauth/url",params:{state:u,callback:a}});V&&V.url?window.location.href=V.url:(w.error(V.message||"获取绑定地址失败"),h.value=!1)}catch(u){w.error(u.message||"请求失败"),h.value=!1}},K=()=>{const u=N.confirm({header:"解除绑定",theme:"warning",body:"确定要解除与 MSL 账户的绑定吗？解绑后您将无法使用 MSL 账户快捷登录。",onConfirm:async()=>{try{u.hide(),await H.post({url:"/api/auth/oauth/unbind"}),w.success("解绑成功"),await S()}catch(a){w.error(a.message||"解绑失败")}}})};return(u,a)=>{const V=r("t-avatar"),B=r("t-tag"),I=r("t-divider"),$=r("t-radio-button"),T=r("t-radio-group"),c=r("t-input"),se=r("t-space"),M=r("t-form-item"),A=r("t-button"),re=r("t-switch"),ie=r("t-form"),de=r("t-card");return k(),q(de,{bordered:!1,loading:b.value,class:"settings-card"},{default:t(()=>[v("div",Ve,[v("div",xe,[e(V,{image:s.avatar,size:"80px",shape:"circle",class:"user-avatar-shadow"},{default:t(()=>[g(D(s.name?s.name.slice(0,1).toUpperCase():"U"),1)]),_:1},8,["image"])]),v("div",ke,[v("div",Le,[v("span",Pe,D(s.name||"未设置昵称"),1),s.role==="admin"?(k(),q(B,{key:0,theme:"success",variant:"light",size:"small",shape:"round"},{default:t(()=>[...a[8]||(a[8]=[g("管理员",-1)])]),_:1})):(k(),q(B,{key:1,theme:"primary",variant:"light",size:"small",shape:"round"},{default:t(()=>[...a[9]||(a[9]=[g("普通用户",-1)])]),_:1}))]),v("div",Ce,[v("span",Me,"@"+D(s.username),1),s.lastLoginTime?(k(),O("span",Ue,[e(l(ce)),g(" "+D(new Date(s.lastLoginTime).toLocaleString()),1)])):ee("",!0)])])]),e(I),e(ie,{ref:"userForm",data:s,"label-width":100,"label-align":"left",onSubmit:d},{default:t(()=>[e(M,{label:"头像设置"},{default:t(()=>[e(se,{direction:"vertical",style:{width:"100%"}},{default:t(()=>[e(T,{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=y=>f.value=y),variant:"default-filled",onChange:C},{default:t(()=>[e($,{value:"qq"},{default:t(()=>[e(l(fe)),a[10]||(a[10]=g(" QQ头像",-1))]),_:1}),e($,{value:"custom"},{default:t(()=>[e(l(Q)),a[11]||(a[11]=g(" 链接",-1))]),_:1})]),_:1},8,["modelValue"]),f.value==="qq"?(k(),q(c,{key:0,modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=y=>_.value=y),placeholder:"输入QQ号自动获取",type:"number"},{"prefix-icon":t(()=>[e(l(ge))]),_:1},8,["modelValue"])):(k(),q(c,{key:1,modelValue:s.avatar,"onUpdate:modelValue":a[2]||(a[2]=y=>s.avatar=y),placeholder:"输入图片 URL 链接"},{"prefix-icon":t(()=>[e(l(_e))]),_:1},8,["modelValue"]))]),_:1})]),_:1}),e(M,{label:"用户昵称",name:"name"},{default:t(()=>[e(c,{modelValue:s.name,"onUpdate:modelValue":a[3]||(a[3]=y=>s.name=y),placeholder:"显示的名称"},null,8,["modelValue"])]),_:1}),e(M,{label:"登录账号",name:"username"},{default:t(()=>[e(c,{modelValue:s.username,"onUpdate:modelValue":a[4]||(a[4]=y=>s.username=y),placeholder:"登录唯一标识"},null,8,["modelValue"])]),_:1}),e(M,{label:"API Key",help:"用于第三方工具连接的凭证，请妥善保管"},{default:t(()=>[e(c,{value:s.apiKey,type:i.value?"text":"password",readonly:"",placeholder:"点击重置生成 Key"},{suffix:t(()=>[e(A,{variant:"text",size:"small",onClick:n},{icon:t(()=>[e(l(be))]),_:1}),e(A,{variant:"text",theme:"danger",size:"small",onClick:U},{icon:t(()=>[e(l(ye))]),_:1})]),_:1},8,["value","type"])]),_:1}),e(I,{dashed:""}),e(M,{label:"MSL 账户绑定",help:"绑定后可使用 MSL 账户直接登录本控制台"},{default:t(()=>[s.openMSLID&&s.openMSLID!=="0"?(k(),O("div",De,[e(B,{theme:"success",variant:"light",size:"medium"},{icon:t(()=>[e(l(E))]),default:t(()=>[g(" 已绑定 (MSL UID: "+D(s.openMSLID)+") ",1)]),_:1}),e(A,{theme:"danger",variant:"text",size:"small",style:{"margin-left":"12px"},onClick:K},{default:t(()=>[...a[12]||(a[12]=[g(" 解除绑定 ",-1)])]),_:1})])):(k(),O("div",qe,[e(A,{theme:"primary",variant:"outline",loading:h.value,onClick:z},{icon:t(()=>[e(l(Q))]),default:t(()=>[a[13]||(a[13]=g(" 绑定 MSL 账户 ",-1))]),_:1},8,["loading"])]))]),_:1}),e(I,{dashed:""}),e(M,{label:"修改密码"},{default:t(()=>[e(re,{modelValue:p.changePassword,"onUpdate:modelValue":a[5]||(a[5]=y=>p.changePassword=y)},null,8,["modelValue"])]),_:1}),p.changePassword?(k(),O(he,{key:0},[e(M,{label:"新密码","required-mark":""},{default:t(()=>[e(c,{modelValue:p.newPassword,"onUpdate:modelValue":a[6]||(a[6]=y=>p.newPassword=y),type:"password",placeholder:"请输入新密码"},{"prefix-icon":t(()=>[e(l(we))]),_:1},8,["modelValue"])]),_:1}),e(M,{label:"确认密码","required-mark":""},{default:t(()=>[e(c,{modelValue:p.confirmPassword,"onUpdate:modelValue":a[7]||(a[7]=y=>p.confirmPassword=y),type:"password",placeholder:"请再次输入新密码"},{"prefix-icon":t(()=>[e(l(E))]),_:1},8,["modelValue"])]),_:1})],64)):ee("",!0),e(M,null,{default:t(()=>[e(A,{theme:"primary",type:"submit",loading:o.value,block:"",class:"action-btn"},{default:t(()=>[...a[14]||(a[14]=[g(" 保存个人资料 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["data"])]),_:1},8,["loading"])}}}),Ie=F(Be,[["__scopeId","data-v-e8f682ba"]]),Ae={class:"status-label"},Oe=R({__name:"SystemSettingsCard",emits:["refresh"],setup(W,{expose:m,emit:P}){const b=L(!1),o=L(!1),i=j({fireWallBanLocalAddr:!1,openWebConsoleOnLaunch:!0,neoForgeInstallerMirrors:"MSL Mirrors",listenHost:"localhost",listenPort:1027,oAuthMSLClientID:"",oAuthMSLClientSecret:""}),x=[{label:"官方源 (较慢)",value:"Official"},{label:"MSL镜像源 (推荐)",value:"MSL Mirrors"},{label:"MSL镜像源 - 备用",value:"MSL Mirrors Backup"}],_=P,f=async()=>{b.value=!0;try{const C=await me();Object.assign(i,C)}catch(C){w.error(C.message||"系统设置加载失败")}finally{b.value=!1}},s=async()=>{o.value=!0;try{await pe(i),w.success("系统设置保存成功")}catch(C){w.error(C.message)}finally{o.value=!1}},p=()=>{f(),_("refresh")};m({initData:f});const S=L("");return le(()=>{S.value=`${window.location.origin}/oauth/callback`}),(C,n)=>{const U=r("t-button"),d=r("t-switch"),h=r("t-form-item"),z=r("t-select"),K=r("t-divider"),u=r("t-input"),a=r("t-icon"),V=r("t-space"),B=r("t-col"),I=r("t-row"),$=r("t-form"),T=r("t-card");return k(),q(T,{bordered:!1,title:"系统偏好设置",loading:b.value,class:"settings-card"},{actions:t(()=>[e(U,{theme:"primary",variant:"text",size:"small",onClick:p},{default:t(()=>[...n[9]||(n[9]=[g("刷新数据",-1)])]),_:1})]),default:t(()=>[e($,{ref:"sysForm",data:i,"label-width":120,"label-align":"left",onSubmit:s},{default:t(()=>[n[13]||(n[13]=v("div",{class:"group-title"},"守护进程",-1)),e(h,{label:"自动打开控制台",help:"MSLX 守护进程启动成功后，是否自动登录网页端控制台。"},{default:t(()=>[e(d,{modelValue:i.openWebConsoleOnLaunch,"onUpdate:modelValue":n[0]||(n[0]=c=>i.openWebConsoleOnLaunch=c)},null,8,["modelValue"])]),_:1}),e(h,{label:"安装镜像源",help:"选择在自动安装 NeoForge / Forge 时所使用的镜像源。",style:{"margin-top":"6px"}},{default:t(()=>[e(z,{modelValue:i.neoForgeInstallerMirrors,"onUpdate:modelValue":n[1]||(n[1]=c=>i.neoForgeInstallerMirrors=c),options:x},null,8,["modelValue"])]),_:1}),e(K,{dashed:""}),n[14]||(n[14]=v("div",{class:"group-title"},"MSL OAuth 2.0",-1)),e(h,{label:"Client ID",style:{"margin-top":"6px"}},{default:t(()=>[e(u,{modelValue:i.oAuthMSLClientID,"onUpdate:modelValue":n[2]||(n[2]=c=>i.oAuthMSLClientID=c),placeholder:"请输入 Client ID"},{"prefix-icon":t(()=>[e(l(Y))]),_:1},8,["modelValue"])]),_:1}),e(h,{label:"Client Secret",help:"配置MSL OAuth 2.0后即可使用您的MSL账号一键登录您的MSLX控制台。",style:{"margin-top":"16px"}},{default:t(()=>[e(u,{modelValue:i.oAuthMSLClientSecret,"onUpdate:modelValue":n[3]||(n[3]=c=>i.oAuthMSLClientSecret=c),type:"password",placeholder:"请输入 Client Secret"},{"prefix-icon":t(()=>[e(l(J))]),_:1},8,["modelValue"])]),_:1}),e(h,{label:"回调地址",help:"请将此地址复制并填入 MSL用户中心 OAuth应用配置的 [回调地址] 中",style:{"margin-top":"16px"}},{default:t(()=>[e(u,{value:S.value,readonly:"",placeholder:"正在获取当前域名..."},{"prefix-icon":t(()=>[e(l(Q))]),suffix:t(()=>[e(U,{variant:"text",shape:"square",onClick:n[4]||(n[4]=c=>l(Se)(S.value,!0,"回调地址复制成功"))},{default:t(()=>[e(a,{name:"file-copy"})]),_:1})]),_:1},8,["value"])]),_:1}),e(K,{dashed:""}),n[15]||(n[15]=v("div",{class:"group-title"},"网络与安全",-1)),e(h,{label:"禁止本地访问",help:"开启后将禁止本地回环地址访问，增强安全性。"},{default:t(()=>[e(V,{align:"center"},{default:t(()=>[e(d,{modelValue:i.fireWallBanLocalAddr,"onUpdate:modelValue":n[5]||(n[5]=c=>i.fireWallBanLocalAddr=c)},null,8,["modelValue"]),v("span",Ae,D(i.fireWallBanLocalAddr?"已开启":"已关闭"),1)]),_:1})]),_:1}),e(h,{label:"监听地址设置",help:"设置MSLX守护进程的监听地址。(需要重启守护进程生效,若不明白这是干什么的请一定不要修改！)",style:{"margin-top":"6px"}},{default:t(()=>[e(I,{gutter:16,style:{width:"100%"}},{default:t(()=>[e(B,{span:6},{default:t(()=>[e(u,{modelValue:i.listenHost,"onUpdate:modelValue":n[6]||(n[6]=c=>i.listenHost=c),placeholder:"localhost"},{"prefix-icon":t(()=>[e(l(Y))]),_:1},8,["modelValue"])]),_:1}),e(B,{span:4,style:{display:"flex","align-items":"center"}},{default:t(()=>[n[10]||(n[10]=v("span",{style:{"margin-right":"8px",color:"var(--td-text-color-secondary)"}},":",-1)),e(u,{modelValue:i.listenPort,"onUpdate:modelValue":n[7]||(n[7]=c=>i.listenPort=c),placeholder:"1027",style:{width:"120px"}},{"prefix-icon":t(()=>[e(l(J))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(h,{style:{"margin-top":"6px"},label:"远程访问"},{default:t(()=>[e(V,{align:"center"},{default:t(()=>[e(U,{theme:"default",onClick:n[8]||(n[8]=c=>l(te)(l(ne).remote_access))},{icon:t(()=>[e(l(oe))]),default:t(()=>[n[11]||(n[11]=g(" 配置远程访问说明",-1))]),_:1})]),_:1})]),_:1}),e(h,null,{default:t(()=>[e(U,{theme:"primary",type:"submit",loading:o.value,block:"",class:"action-btn"},{default:t(()=>[...n[12]||(n[12]=[g(" 保存系统设置 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["data"])]),_:1},8,["loading"])}}}),Ke=F(Oe,[["__scopeId","data-v-231433cb"]]),$e=R({__name:"WebPanelStyleCard",setup(W){const m=ae(),P=async(b,o)=>{var _;const i=((_=b[0])==null?void 0:_.raw)||b.raw;if(!i)return;const x=await m.uploadImage(i);x&&(m.settings[o]=x)};return(b,o)=>{const i=r("t-button"),x=r("t-upload"),_=r("t-input"),f=r("t-form-item"),s=r("t-divider"),p=r("t-slider"),S=r("t-col"),C=r("t-row"),n=r("t-form"),U=r("t-card");return k(),q(U,{bordered:!1,title:"面板自定义样式",description:"这里设置的样式需要在面板左上角的样式面板中启用背景美化才会生效哦！",loading:l(m).loading,class:"settings-card"},{actions:t(()=>[e(i,{theme:"default",onClick:o[0]||(o[0]=d=>l(te)(l(ne).style))},{icon:t(()=>[e(l(oe))]),default:t(()=>[o[11]||(o[11]=g(" 设置文档",-1))]),_:1})]),default:t(()=>[e(n,{data:l(m).settings,"label-width":120,"label-align":"left",onSubmit:l(m).saveSettings},{default:t(()=>[o[13]||(o[13]=v("div",{class:"group-title"},"背景图片设置",-1)),e(f,{label:"浅色背景",help:"留空则使用默认的背景图哦～"},{default:t(()=>[e(_,{modelValue:l(m).settings.webPanelStyleLightBackground,"onUpdate:modelValue":o[2]||(o[2]=d=>l(m).settings.webPanelStyleLightBackground=d),placeholder:"输入完整URL地址或者在右边上传图片"},{suffix:t(()=>[e(x,{theme:"custom",action:"","auto-upload":!1,"show-file-list":!1,accept:"image/png, image/jpeg, image/webp",onChange:o[1]||(o[1]=d=>P(d,"webPanelStyleLightBackground"))},{default:t(()=>[e(i,{variant:"text",shape:"square"},{default:t(()=>[e(l(Z))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(f,{label:"深色背景"},{default:t(()=>[e(_,{modelValue:l(m).settings.webPanelStyleDarkBackground,"onUpdate:modelValue":o[4]||(o[4]=d=>l(m).settings.webPanelStyleDarkBackground=d),placeholder:"输入完整URL地址或者在右边上传图片"},{suffix:t(()=>[e(x,{theme:"custom","auto-upload":!1,"show-file-list":!1,accept:"image/png, image/jpeg, image/webp",onChange:o[3]||(o[3]=d=>P(d,"webPanelStyleDarkBackground"))},{default:t(()=>[e(i,{variant:"text",shape:"square"},{default:t(()=>[e(l(Z))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(s,{dashed:""}),o[14]||(o[14]=v("div",{class:"group-title"},"透明度调整 (0.1 - 1.0)",-1)),e(C,{gutter:[32,16]},{default:t(()=>[e(S,{xs:24,sm:12,md:6},{default:t(()=>[e(f,{label:"浅色背景透明度"},{default:t(()=>[e(p,{modelValue:l(m).settings.webPanelStyleLightBackgroundOpacity,"onUpdate:modelValue":o[5]||(o[5]=d=>l(m).settings.webPanelStyleLightBackgroundOpacity=d),min:.1,max:1,step:.01,"tooltip-props":{theme:"light"}},null,8,["modelValue"])]),_:1})]),_:1}),e(S,{xs:24,sm:12,md:6},{default:t(()=>[e(f,{label:"浅色组件透明度"},{default:t(()=>[e(p,{modelValue:l(m).settings.webPanelStyleLightComponentsOpacity,"onUpdate:modelValue":o[6]||(o[6]=d=>l(m).settings.webPanelStyleLightComponentsOpacity=d),min:.1,max:1,step:.01,"tooltip-props":{theme:"light"}},null,8,["modelValue"])]),_:1})]),_:1}),e(S,{xs:24,sm:12,md:6},{default:t(()=>[e(f,{label:"深色背景透明度"},{default:t(()=>[e(p,{modelValue:l(m).settings.webPanelStyleDarkBackgroundOpacity,"onUpdate:modelValue":o[7]||(o[7]=d=>l(m).settings.webPanelStyleDarkBackgroundOpacity=d),min:.1,max:1,step:.01},null,8,["modelValue"])]),_:1})]),_:1}),e(S,{xs:24,sm:12,md:6},{default:t(()=>[e(f,{label:"深色组件透明度"},{default:t(()=>[e(p,{modelValue:l(m).settings.webPanelStyleDarkComponentsOpacity,"onUpdate:modelValue":o[8]||(o[8]=d=>l(m).settings.webPanelStyleDarkComponentsOpacity=d),min:.1,max:1,step:.01},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{dashed:""}),o[15]||(o[15]=v("div",{class:"group-title"},"终端毛玻璃强度 (Blur)",-1)),e(C,{gutter:[32,16]},{default:t(()=>[e(S,{xs:24,sm:12,md:6},{default:t(()=>[e(f,{label:"浅色模式模糊度"},{default:t(()=>[e(p,{modelValue:l(m).settings.webpPanelTerminalBlurLight,"onUpdate:modelValue":o[9]||(o[9]=d=>l(m).settings.webpPanelTerminalBlurLight=d),min:0,max:50,step:1,"input-number-props":{theme:"column",style:"width: 65px"}},{label:t(({value:d})=>[g(D(d)+"px ",1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(S,{xs:24,sm:12,md:6},{default:t(()=>[e(f,{label:"深色模式模糊度"},{default:t(()=>[e(p,{modelValue:l(m).settings.webpPanelTerminalBlurDark,"onUpdate:modelValue":o[10]||(o[10]=d=>l(m).settings.webpPanelTerminalBlurDark=d),min:0,max:50,step:1,"input-number-props":{theme:"column",style:"width: 65px"}},{label:t(({value:d})=>[g(D(d)+"px ",1)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(f,{style:{"margin-top":"24px"}},{default:t(()=>[e(i,{theme:"primary",type:"submit",loading:l(m).submitLoading,block:"",class:"action-btn"},{default:t(()=>[...o[12]||(o[12]=[g(" 应用样式设置 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["data","onSubmit"])]),_:1},8,["loading"])}}}),Fe=F($e,[["__scopeId","data-v-a1733c30"]]),Re={class:"settings-page"},We=R({__name:"index",setup(W){const m=ae(),P=L(),b=L(),o=async()=>{const i=[];P.value&&i.push(P.value.initData()),b.value&&i.push(b.value.initData()),i.push(m.fetchSettings()),await Promise.all(i)};return le(()=>{o()}),(i,x)=>{const _=r("t-space");return k(),O("div",Re,[e(_,{direction:"vertical",size:"large",style:{width:"100%"}},{default:t(()=>[e(Ie,{ref_key:"userCardRef",ref:P},null,512),e(Ke,{ref_key:"sysCardRef",ref:b,onRefresh:o},null,512),e(Fe)]),_:1})])}}}),qt=F(We,[["__scopeId","data-v-5abf49f6"]]);export{qt as default};
