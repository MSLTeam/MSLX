var le=Object.defineProperty;var $t=r=>{throw TypeError(r)};var fe=(r,t,e)=>t in r?le(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Lt=(r,t,e)=>fe(r,typeof t!="symbol"?t+"":t,e),Ct=(r,t,e)=>t.has(r)||$t("Cannot "+e);var s=(r,t,e)=>(Ct(r,t,"read from private field"),e?e.call(r):t.get(r)),v=(r,t,e)=>t.has(r)?$t("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),f=(r,t,e,i)=>(Ct(r,t,"write to private field"),i?i.call(r,e):t.set(r,e),e),l=(r,t,e)=>(Ct(r,t,"access private method"),e);import{v as F}from"./core-js-pure.DbDavgKW.js";import{l as ye}from"./luxon.BVaPVz1w.js";import{r as xt}from"./object-inspect.CWmL7r7A.js";var Oe={},H={},ut={},dt={},Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});var lt={},k={};Object.defineProperty(k,"__esModule",{value:!0});k.CronField=void 0;var at,ot,nt,R,ct,zt;const Wt=class Wt{constructor(t,e={rawValue:""}){v(this,ct);v(this,at,!1);v(this,ot,!1);v(this,nt,!1);v(this,R,[]);Lt(this,"options",{rawValue:""});if(!Array.isArray(t))throw new Error(`${this.constructor.name} Validation error, values is not an array`);if(!(t.length>0))throw new Error(`${this.constructor.name} Validation error, values contains no values`);this.options={...e,rawValue:e.rawValue??""},f(this,R,t.sort(Wt.sorter)),f(this,nt,this.options.wildcard!==void 0?this.options.wildcard:l(this,ct,zt).call(this)),f(this,at,this.options.rawValue.includes("L")||t.includes("L")),f(this,ot,this.options.rawValue.includes("?")||t.includes("?"))}static get min(){throw new Error("min must be overridden")}static get max(){throw new Error("max must be overridden")}static get chars(){return Object.freeze([])}static get validChars(){return/^[?,*\dH/-]+$|^.*H\(\d+-\d+\)\/\d+.*$|^.*H\(\d+-\d+\).*$|^.*H\/\d+.*$/}static get constraints(){return{min:this.min,max:this.max,chars:this.chars,validChars:this.validChars}}get min(){return this.constructor.min}get max(){return this.constructor.max}get chars(){return this.constructor.chars}get hasLastChar(){return s(this,at)}get hasQuestionMarkChar(){return s(this,ot)}get isWildcard(){return s(this,nt)}get values(){return s(this,R)}static sorter(t,e){const i=typeof t=="number",a=typeof e=="number";return i&&a?t-e:!i&&!a?t.localeCompare(e):i?-1:1}static findNearestValueInList(t,e,i=!1){if(i){for(let a=t.length-1;a>=0;a--)if(t[a]<e)return t[a];return null}for(let a=0;a<t.length;a++)if(t[a]>e)return t[a];return null}findNearestValue(t,e=!1){return this.constructor.findNearestValueInList(this.values,t,e)}serialize(){return{wildcard:s(this,nt),values:s(this,R)}}validate(){let t;const e=this.chars.length>0?` or chars ${this.chars.join("")}`:"",i=h=>y=>new RegExp(`^\\d{0,2}${y}$`).test(h),a=h=>(t=h,typeof h=="number"?h>=this.min&&h<=this.max:this.chars.some(i(h)));if(!s(this,R).every(a))throw new Error(`${this.constructor.name} Validation error, got value ${t} expected range ${this.min}-${this.max}${e}`);const o=s(this,R).find((h,y)=>s(this,R).indexOf(h)!==y);if(o)throw new Error(`${this.constructor.name} Validation error, duplicate values found: ${o}`)}};at=new WeakMap,ot=new WeakMap,nt=new WeakMap,R=new WeakMap,ct=new WeakSet,zt=function(){return this.options.rawValue.length>0?["*","?"].includes(this.options.rawValue):Array.from({length:this.max-this.min+1},(t,e)=>e+this.min).every(t=>s(this,R).includes(t))};let vt=Wt;k.CronField=vt;Object.defineProperty(lt,"__esModule",{value:!0});lt.CronDayOfMonth=void 0;const ge=k,me=1,Me=31,pe=Object.freeze(["L"]);class Ce extends ge.CronField{static get min(){return me}static get max(){return Me}static get chars(){return pe}static get validChars(){return/^[?,*\dLH/-]+$|^.*H\(\d+-\d+\)\/\d+.*$|^.*H\(\d+-\d+\).*$|^.*H\/\d+.*$/}constructor(t,e){super(t,e),this.validate()}get values(){return super.values}}lt.CronDayOfMonth=Ce;var ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.CronDayOfWeek=void 0;const ve=k,we=0,De=7,_e=Object.freeze(["L"]);class Se extends ve.CronField{static get min(){return we}static get max(){return De}static get chars(){return _e}static get validChars(){return/^[?,*\dLH#/-]+$|^.*H\(\d+-\d+\)\/\d+.*$|^.*H\(\d+-\d+\).*$|^.*H\/\d+.*$/}constructor(t,e){super(t,e),this.validate()}get values(){return super.values}get nthDay(){return this.options.nthDayOfWeek??0}}ft.CronDayOfWeek=Se;var yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.CronHour=void 0;const be=k,Ee=0,Ne=23,Te=Object.freeze([]);class He extends be.CronField{static get min(){return Ee}static get max(){return Ne}static get chars(){return Te}constructor(t,e){super(t,e),this.validate()}get values(){return super.values}}yt.CronHour=He;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.CronMinute=void 0;const Fe=k,Ie=0,je=59,We=Object.freeze([]);class Ae extends Fe.CronField{static get min(){return Ie}static get max(){return je}static get chars(){return We}constructor(t,e){super(t,e),this.validate()}get values(){return super.values}}Ot.CronMinute=Ae;var gt={},mt={};(function(r){var n,o,h,y,u,wt,M,$;Object.defineProperty(r,"__esModule",{value:!0}),r.CronDate=r.DAYS_IN_MONTH=r.DateMathOp=r.TimeUnit=void 0;const t=ye;var e;(function(m){m.Second="Second",m.Minute="Minute",m.Hour="Hour",m.Day="Day",m.Month="Month",m.Year="Year"})(e||(r.TimeUnit=e={}));var i;(function(m){m.Add="Add",m.Subtract="Subtract"})(i||(r.DateMathOp=i={})),r.DAYS_IN_MONTH=Object.freeze([31,29,31,30,31,30,31,31,30,31,30,31]);const N=class N{constructor(d,_){v(this,M);v(this,n);v(this,o,null);v(this,h,null);v(this,y,{add:{[e.Year]:this.addYear.bind(this),[e.Month]:this.addMonth.bind(this),[e.Day]:this.addDay.bind(this),[e.Hour]:this.addHour.bind(this),[e.Minute]:this.addMinute.bind(this),[e.Second]:this.addSecond.bind(this)},subtract:{[e.Year]:this.subtractYear.bind(this),[e.Month]:this.subtractMonth.bind(this),[e.Day]:this.subtractDay.bind(this),[e.Hour]:this.subtractHour.bind(this),[e.Minute]:this.subtractMinute.bind(this),[e.Second]:this.subtractSecond.bind(this)}});const b={zone:_};if(d?d instanceof N?(f(this,n,s(d,n)),f(this,o,s(d,o)),f(this,h,s(d,h))):d instanceof Date?f(this,n,t.DateTime.fromJSDate(d,b)):typeof d=="number"?f(this,n,t.DateTime.fromMillis(d,b)):(f(this,n,t.DateTime.fromISO(d,b)),s(this,n).isValid||f(this,n,t.DateTime.fromRFC2822(d,b)),s(this,n).isValid||f(this,n,t.DateTime.fromSQL(d,b)),s(this,n).isValid||f(this,n,t.DateTime.fromFormat(d,"EEE, d MMM yyyy HH:mm:ss",b))):f(this,n,t.DateTime.local()),!s(this,n).isValid)throw new Error(`CronDate: unhandled timestamp: ${d}`);_&&_!==s(this,n).zoneName&&f(this,n,s(this,n).setZone(_))}get dstStart(){return s(this,o)}set dstStart(d){f(this,o,d)}get dstEnd(){return s(this,h)}set dstEnd(d){f(this,h,d)}addYear(){f(this,n,s(this,n).plus({years:1}))}addMonth(){f(this,n,s(this,n).plus({months:1}).startOf("month"))}addDay(){f(this,n,s(this,n).plus({days:1}).startOf("day"))}addHour(){f(this,n,s(this,n).plus({hours:1}).startOf("hour"))}addMinute(){f(this,n,s(this,n).plus({minutes:1}).startOf("minute"))}addSecond(){f(this,n,s(this,n).plus({seconds:1}))}subtractYear(){f(this,n,s(this,n).minus({years:1}))}subtractMonth(){f(this,n,s(this,n).minus({months:1}).endOf("month").startOf("second"))}subtractDay(){f(this,n,s(this,n).minus({days:1}).endOf("day").startOf("second"))}subtractHour(){f(this,n,s(this,n).minus({hours:1}).endOf("hour").startOf("second"))}subtractMinute(){f(this,n,s(this,n).minus({minutes:1}).endOf("minute").startOf("second"))}subtractSecond(){f(this,n,s(this,n).minus({seconds:1}))}addUnit(d){s(this,y).add[d]()}subtractUnit(d){s(this,y).subtract[d]()}invokeDateOperation(d,_){if(d===i.Add){this.addUnit(_);return}if(d===i.Subtract){this.subtractUnit(_);return}throw new Error(`Invalid verb: ${d}`)}getDate(){return s(this,n).day}getFullYear(){return s(this,n).year}getDay(){const d=s(this,n).weekday;return d===7?0:d}getMonth(){return s(this,n).month-1}getHours(){return s(this,n).hour}getMinutes(){return s(this,n).minute}getSeconds(){return s(this,n).second}getMilliseconds(){return s(this,n).millisecond}getUTCOffset(){return s(this,n).offset}setStartOfDay(){f(this,n,s(this,n).startOf("day"))}setEndOfDay(){f(this,n,s(this,n).endOf("day"))}getTime(){return s(this,n).valueOf()}getUTCDate(){return l(this,M,$).call(this).day}getUTCFullYear(){return l(this,M,$).call(this).year}getUTCDay(){const d=l(this,M,$).call(this).weekday;return d===7?0:d}getUTCMonth(){return l(this,M,$).call(this).month-1}getUTCHours(){return l(this,M,$).call(this).hour}getUTCMinutes(){return l(this,M,$).call(this).minute}getUTCSeconds(){return l(this,M,$).call(this).second}toISOString(){return s(this,n).toUTC().toISO()}toJSON(){return s(this,n).toJSON()}setDate(d){f(this,n,s(this,n).set({day:d}))}setFullYear(d){f(this,n,s(this,n).set({year:d}))}setDay(d){f(this,n,s(this,n).set({weekday:d}))}setMonth(d){f(this,n,s(this,n).set({month:d+1}))}setHours(d){f(this,n,s(this,n).set({hour:d}))}setMinutes(d){f(this,n,s(this,n).set({minute:d}))}setSeconds(d){f(this,n,s(this,n).set({second:d}))}setMilliseconds(d){f(this,n,s(this,n).set({millisecond:d}))}toString(){return this.toDate().toString()}toDate(){return s(this,n).toJSDate()}isLastDayOfMonth(){var b;const{day:d,month:_}=s(this,n);if(_===2){const V=l(b=N,u,wt).call(b,s(this,n).year);return d===r.DAYS_IN_MONTH[_-1]-(V?0:1)}return d===r.DAYS_IN_MONTH[_-1]}isLastWeekdayOfMonth(){var V;const{day:d,month:_}=s(this,n);let b;return _===2?b=r.DAYS_IN_MONTH[_-1]-(l(V=N,u,wt).call(V,s(this,n).year)?0:1):b=r.DAYS_IN_MONTH[_-1],d>b-7}applyDateOperation(d,_,b){if(_===e.Month||_===e.Day){this.invokeDateOperation(d,_);return}const V=this.getHours();this.invokeDateOperation(d,_);const tt=this.getHours(),it=tt-V;it===2?b!==24&&(this.dstStart=tt):it===0&&this.getMinutes()===0&&this.getSeconds()===0&&b!==24&&(this.dstEnd=tt)}};n=new WeakMap,o=new WeakMap,h=new WeakMap,y=new WeakMap,u=new WeakSet,wt=function(d){return d%4===0&&d%100!==0||d%400===0},M=new WeakSet,$=function(){return s(this,n).toUTC()},v(N,u);let a=N;r.CronDate=a,r.default=a})(mt);Object.defineProperty(gt,"__esModule",{value:!0});gt.CronMonth=void 0;const Pe=mt,Re=k,ke=1,Ve=12,Ue=Object.freeze([]);class $e extends Re.CronField{static get min(){return ke}static get max(){return Ve}static get chars(){return Ue}static get daysInMonth(){return Pe.DAYS_IN_MONTH}constructor(t,e){super(t,e),this.validate()}get values(){return super.values}}gt.CronMonth=$e;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.CronSecond=void 0;const Le=k,xe=0,Ye=59,ze=Object.freeze([]);class Be extends Le.CronField{static get min(){return xe}static get max(){return Ye}static get chars(){return ze}constructor(t,e){super(t,e),this.validate()}get values(){return super.values}}Mt.CronSecond=Be;(function(r){var t=F&&F.__createBinding||(Object.create?function(i,a,n,o){o===void 0&&(o=n);var h=Object.getOwnPropertyDescriptor(a,n);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[n]}}),Object.defineProperty(i,o,h)}:function(i,a,n,o){o===void 0&&(o=n),i[o]=a[n]}),e=F&&F.__exportStar||function(i,a){for(var n in i)n!=="default"&&!Object.prototype.hasOwnProperty.call(a,n)&&t(a,i,n)};Object.defineProperty(r,"__esModule",{value:!0}),e(Yt,r),e(lt,r),e(ft,r),e(k,r),e(yt,r),e(Ot,r),e(gt,r),e(Mt,r)})(dt);Object.defineProperty(ut,"__esModule",{value:!0});ut.CronFieldCollection=void 0;const j=dt;var J,Q,q,K,U,x,st,Bt,Xt;const G=class G{constructor({second:t,minute:e,hour:i,dayOfMonth:a,month:n,dayOfWeek:o}){v(this,J);v(this,Q);v(this,q);v(this,K);v(this,U);v(this,x);if(!t)throw new Error("Validation error, Field second is missing");if(!e)throw new Error("Validation error, Field minute is missing");if(!i)throw new Error("Validation error, Field hour is missing");if(!a)throw new Error("Validation error, Field dayOfMonth is missing");if(!n)throw new Error("Validation error, Field month is missing");if(!o)throw new Error("Validation error, Field dayOfWeek is missing");if(n.values.length===1&&!a.hasLastChar&&!(parseInt(a.values[0],10)<=j.CronMonth.daysInMonth[n.values[0]-1]))throw new Error("Invalid explicit day of month definition");f(this,J,t),f(this,Q,e),f(this,q,i),f(this,U,n),f(this,x,o),f(this,K,a)}static from(t,e){return new G({second:this.resolveField(j.CronSecond,t.second,e.second),minute:this.resolveField(j.CronMinute,t.minute,e.minute),hour:this.resolveField(j.CronHour,t.hour,e.hour),dayOfMonth:this.resolveField(j.CronDayOfMonth,t.dayOfMonth,e.dayOfMonth),month:this.resolveField(j.CronMonth,t.month,e.month),dayOfWeek:this.resolveField(j.CronDayOfWeek,t.dayOfWeek,e.dayOfWeek)})}static resolveField(t,e,i){return i?i instanceof j.CronField?i:new t(i):e}get second(){return s(this,J)}get minute(){return s(this,Q)}get hour(){return s(this,q)}get dayOfMonth(){return s(this,K)}get month(){return s(this,U)}get dayOfWeek(){return s(this,x)}static compactField(t){if(t.length===0)return[];const e=[];let i;return t.forEach((a,n,o)=>{if(i===void 0){i={start:a,count:1};return}const h=o[n-1]||i.start,y=o[n+1];if(a==="L"||a==="W"){e.push(i),e.push({start:a,count:1}),i=void 0;return}if(i.step===void 0&&y!==void 0){const u=a-h,p=y-a;if(u<=p){i={...i,count:2,end:a,step:u};return}i.step=1}a-(i.end??0)===i.step?(i.count++,i.end=a):(i.count===1?e.push({start:i.start,count:1}):i.count===2?(e.push({start:i.start,count:1}),e.push({start:i.end??h,count:1})):e.push(i),i={start:a,count:1})}),i&&e.push(i),e}stringifyField(t){var n;let e=t.max,i=t.values;if(t instanceof j.CronDayOfWeek){e=6;const o=s(this,x).values;i=o[o.length-1]===7?o.slice(0,-1):o}t instanceof j.CronDayOfMonth&&(e=s(this,U).values.length===1?j.CronMonth.daysInMonth[s(this,U).values[0]-1]:t.max);const a=G.compactField(i);if(a.length===1){const o=l(n=G,st,Bt).call(n,t,a[0],e);if(o)return o}return a.map(o=>{var y;const h=o.count===1?o.start.toString():l(y=G,st,Xt).call(y,o,e);return t instanceof j.CronDayOfWeek&&t.nthDay>0?`${h}#${t.nthDay}`:h}).join(",")}stringify(t=!1){const e=[];return t&&e.push(this.stringifyField(s(this,J))),e.push(this.stringifyField(s(this,Q)),this.stringifyField(s(this,q)),this.stringifyField(s(this,K)),this.stringifyField(s(this,U)),this.stringifyField(s(this,x))),e.join(" ")}serialize(){return{second:s(this,J).serialize(),minute:s(this,Q).serialize(),hour:s(this,q).serialize(),dayOfMonth:s(this,K).serialize(),month:s(this,U).serialize(),dayOfWeek:s(this,x).serialize()}}};J=new WeakMap,Q=new WeakMap,q=new WeakMap,K=new WeakMap,U=new WeakMap,x=new WeakMap,st=new WeakSet,Bt=function(t,e,i){const a=e.step;return a?a===1&&e.start===t.min&&e.end&&e.end>=i?t.hasQuestionMarkChar?"?":"*":a!==1&&e.start===t.min&&e.end&&e.end>=i-a+1?`*/${a}`:null:null},Xt=function(t,e){const i=t.step;if(i===1)return`${t.start}-${t.end}`;const a=t.start===0?t.count-1:t.count;if(!i)throw new Error("Unexpected range step");if(!t.end)throw new Error("Unexpected range end");if(i*a>t.end){const n=(h,y)=>{if(typeof t.start!="number")throw new Error("Unexpected range start");return y%i===0?t.start+y:null};if(typeof t.start!="number")throw new Error("Unexpected range start");const o={length:t.end-t.start+1};return Array.from(o,n).filter(h=>h!==null).join(",")}return t.end===e-i+1?`${t.start}/${i}`:`${t.start}-${t.end}/${i}`},v(G,st);let Dt=G;ut.CronFieldCollection=Dt;var It={};(function(r){var a,n,o,h,y,u,p,M,w,L,m,B,Gt,Jt,Qt,qt,_t,Kt,Zt,et;Object.defineProperty(r,"__esModule",{value:!0}),r.CronExpression=r.LOOPS_LIMIT_EXCEEDED_ERROR_MESSAGE=r.TIME_SPAN_OUT_OF_BOUNDS_ERROR_MESSAGE=void 0;const t=mt;r.TIME_SPAN_OUT_OF_BOUNDS_ERROR_MESSAGE="Out of the time span range",r.LOOPS_LIMIT_EXCEEDED_ERROR_MESSAGE="Invalid expression, loop limit exceeded";const e=1e4,I=class I{constructor(c,g){v(this,m);v(this,a);v(this,n);v(this,o);v(this,h);v(this,y);v(this,u);v(this,p,null);v(this,M,!1);f(this,a,g),f(this,n,g.tz),f(this,h,g.startDate?new t.CronDate(g.startDate,s(this,n)):null),f(this,y,g.endDate?new t.CronDate(g.endDate,s(this,n)):null);let O=g.currentDate??g.startDate;if(O){const S=new t.CronDate(O,s(this,n));s(this,h)&&S.getTime()<s(this,h).getTime()?O=s(this,h):s(this,y)&&S.getTime()>s(this,y).getTime()&&(O=s(this,y))}f(this,o,new t.CronDate(O,s(this,n))),f(this,u,c)}get fields(){return s(this,u)}static fieldsToExpression(c,g){return new I(c,g||{})}next(){return l(this,m,et).call(this)}prev(){return l(this,m,et).call(this,!0)}hasNext(){const c=s(this,o);try{return l(this,m,et).call(this),!0}catch{return!1}finally{f(this,o,c)}}hasPrev(){const c=s(this,o);try{return l(this,m,et).call(this,!0),!0}catch{return!1}finally{f(this,o,c)}}take(c){const g=[];if(c>=0)for(let O=0;O<c;O++)try{g.push(this.next())}catch{return g}else for(let O=0;O>c;O--)try{g.push(this.prev())}catch{return g}return g}reset(c){f(this,o,new t.CronDate(c||s(this,a).currentDate))}stringify(c=!1){return s(this,u).stringify(c)}includesDate(c){const{second:g,minute:O,hour:S,month:E}=s(this,u),D=new t.CronDate(c,s(this,n));return!(!g.values.includes(D.getSeconds())||!O.values.includes(D.getMinutes())||!S.values.includes(D.getHours())||!E.values.includes(D.getMonth()+1)||!l(this,m,_t).call(this,D)||s(this,u).dayOfWeek.nthDay>0&&Math.ceil(D.getDate()/7)!==s(this,u).dayOfWeek.nthDay)}toString(){return s(this,a).expression||this.stringify(!0)}[Symbol.iterator](){return{next:()=>({value:l(this,m,et).call(this),done:!this.hasNext()})}}};a=new WeakMap,n=new WeakMap,o=new WeakMap,h=new WeakMap,y=new WeakMap,u=new WeakMap,p=new WeakMap,M=new WeakMap,w=new WeakSet,L=function(c,g){return g.some(O=>O===c)},m=new WeakSet,B=function(c,g){return c[g?c.length-1:0]},Gt=function(c){const g=`${c.getFullYear()}-${c.getMonth()+1}-${c.getDate()}`;if(s(this,p)===g)return s(this,M);const O=new t.CronDate(c);O.setStartOfDay();const S=new t.CronDate(c);return S.setEndOfDay(),f(this,p,g),f(this,M,O.getUTCOffset()!==S.getUTCOffset()),s(this,M)},Jt=function(c,g,O){const S=s(this,u).second.values,E=c.getSeconds(),D=s(this,u).second.findNearestValue(E,O);if(D!==null){c.setSeconds(D);return}c.applyDateOperation(g,t.TimeUnit.Minute,s(this,u).hour.values.length),c.setSeconds(l(this,m,B).call(this,S,O))},Qt=function(c,g,O){const S=s(this,u).minute.values,E=s(this,u).second.values,D=c.getMinutes(),P=s(this,u).minute.findNearestValue(D,O);if(P!==null){c.setMinutes(P),c.setSeconds(l(this,m,B).call(this,E,O));return}c.applyDateOperation(g,t.TimeUnit.Hour,s(this,u).hour.values.length),c.setMinutes(l(this,m,B).call(this,S,O)),c.setSeconds(l(this,m,B).call(this,E,O))},qt=function(c,g){const O=g.isLastWeekdayOfMonth();return c.some(S=>{const E=parseInt(S.toString().charAt(0),10)%7;if(Number.isNaN(E))throw new Error(`Invalid last weekday of the month expression: ${S}`);return g.getDay()===E&&O})},_t=function(c){var Y,ht,z;const g=s(this,u).dayOfMonth.isWildcard,O=!g,S=s(this,u).dayOfWeek.isWildcard,E=!S,D=l(Y=I,w,L).call(Y,c.getDate(),s(this,u).dayOfMonth.values)||s(this,u).dayOfMonth.hasLastChar&&c.isLastDayOfMonth(),P=l(ht=I,w,L).call(ht,c.getDay(),s(this,u).dayOfWeek.values)||s(this,u).dayOfWeek.hasLastChar&&l(z=I,w,qt).call(z,s(this,u).dayOfWeek.values,c);return!!(O&&E&&(D||P)||D&&!E||g&&!S&&P)},Kt=function(c,g,O){var kt,Vt;const S=s(this,u).hour.values,E=S,D=c.getHours(),P=l(kt=I,w,L).call(kt,D,S),Y=c.dstStart===D,ht=c.dstEnd===D;if(Y)return l(Vt=I,w,L).call(Vt,D-1,S)?!0:(c.invokeDateOperation(g,t.TimeUnit.Hour),!1);if(ht&&!O)return c.dstEnd=null,c.applyDateOperation(t.DateMathOp.Add,t.TimeUnit.Hour,E.length),!1;if(P)return!0;c.dstStart=null;const z=s(this,u).hour.findNearestValue(D,O);if(z===null)return c.applyDateOperation(g,t.TimeUnit.Day,E.length),!1;if(l(this,m,Gt).call(this,c)){const de=O?D-z:z-D;for(let Ut=0;Ut<de;Ut++)c.applyDateOperation(g,t.TimeUnit.Hour,E.length)}else c.setHours(z);return c.setMinutes(l(this,m,B).call(this,s(this,u).minute.values,O)),c.setSeconds(l(this,m,B).call(this,s(this,u).second.values,O)),!1},Zt=function(c){if(!s(this,h)&&!s(this,y))return;const g=c.getTime();if(s(this,h)&&g<s(this,h).getTime())throw new Error(r.TIME_SPAN_OUT_OF_BOUNDS_ERROR_MESSAGE);if(s(this,y)&&g>s(this,y).getTime())throw new Error(r.TIME_SPAN_OUT_OF_BOUNDS_ERROR_MESSAGE)},et=function(c=!1){var D,P,Y;const g=c?t.DateMathOp.Subtract:t.DateMathOp.Add,O=new t.CronDate(s(this,o)),S=O.getTime();let E=0;for(;++E<e;){if(l(this,m,Zt).call(this,O),!l(this,m,_t).call(this,O)){O.applyDateOperation(g,t.TimeUnit.Day,s(this,u).hour.values.length);continue}if(!(s(this,u).dayOfWeek.nthDay<=0||Math.ceil(O.getDate()/7)===s(this,u).dayOfWeek.nthDay)){O.applyDateOperation(g,t.TimeUnit.Day,s(this,u).hour.values.length);continue}if(!l(D=I,w,L).call(D,O.getMonth()+1,s(this,u).month.values)){O.applyDateOperation(g,t.TimeUnit.Month,s(this,u).hour.values.length);continue}if(l(this,m,Kt).call(this,O,g,c)){if(!l(P=I,w,L).call(P,O.getMinutes(),s(this,u).minute.values)){l(this,m,Qt).call(this,O,g,c);continue}if(!l(Y=I,w,L).call(Y,O.getSeconds(),s(this,u).second.values)){l(this,m,Jt).call(this,O,g,c);continue}if(S===O.getTime()){(g==="Add"||O.getMilliseconds()===0)&&O.applyDateOperation(g,t.TimeUnit.Second,s(this,u).hour.values.length);continue}break}}if(E>e)throw new Error(r.LOOPS_LIMIT_EXCEEDED_ERROR_MESSAGE);return O.getMilliseconds()!==0&&O.setMilliseconds(0),f(this,o,O),O},v(I,w);let i=I;r.CronExpression=i,r.default=i})(It);var jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.seededRandom=Je;function Xe(r){let t=2166136261;for(let e=0;e<r.length;e++)t^=r.charCodeAt(e),t=Math.imul(t,16777619);return()=>t>>>0}function Ge(r){return()=>{let t=r+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function Je(r){const t=r?Xe(r)():Math.floor(Math.random()*1e10);return Ge(t)}Object.defineProperty(H,"__esModule",{value:!0});H.CronExpressionParser=H.DayOfWeek=H.Months=H.CronUnit=H.PredefinedExpressions=void 0;const Qe=ut,qe=It,Ke=jt,W=dt;var St;(function(r){r["@yearly"]="0 0 0 1 1 *",r["@annually"]="0 0 0 1 1 *",r["@monthly"]="0 0 0 1 * *",r["@weekly"]="0 0 0 * * 0",r["@daily"]="0 0 0 * * *",r["@hourly"]="0 0 * * * *",r["@minutely"]="0 * * * * *",r["@secondly"]="* * * * * *",r["@weekdays"]="0 0 0 * * 1-5",r["@weekends"]="0 0 0 * * 0,6"})(St||(H.PredefinedExpressions=St={}));var A;(function(r){r.Second="Second",r.Minute="Minute",r.Hour="Hour",r.DayOfMonth="DayOfMonth",r.Month="Month",r.DayOfWeek="DayOfWeek"})(A||(H.CronUnit=A={}));var bt;(function(r){r[r.jan=1]="jan",r[r.feb=2]="feb",r[r.mar=3]="mar",r[r.apr=4]="apr",r[r.may=5]="may",r[r.jun=6]="jun",r[r.jul=7]="jul",r[r.aug=8]="aug",r[r.sep=9]="sep",r[r.oct=10]="oct",r[r.nov=11]="nov",r[r.dec=12]="dec"})(bt||(H.Months=bt={}));var Et;(function(r){r[r.sun=0]="sun",r[r.mon=1]="mon",r[r.tue=2]="tue",r[r.wed=3]="wed",r[r.thu=4]="thu",r[r.fri=5]="fri",r[r.sat=6]="sat"})(Et||(H.DayOfWeek=Et={}));var C,te,X,ee,re,ne,se,ie,ae,oe,Tt,ue,he;const T=class T{static parse(t,e={}){var _,b,V,tt,it,At,Pt,Rt;const{strict:i=!1,hashSeed:a}=e,n=(0,Ke.seededRandom)(a);t=St[t]||t;const o=l(_=T,C,te).call(_,t,i);if(!(o.dayOfMonth==="*"||o.dayOfWeek==="*"||!i))throw new Error("Cannot use both dayOfMonth and dayOfWeek together in strict mode!");const h=l(b=T,C,X).call(b,A.Second,o.second,W.CronSecond.constraints,n),y=l(V=T,C,X).call(V,A.Minute,o.minute,W.CronMinute.constraints,n),u=l(tt=T,C,X).call(tt,A.Hour,o.hour,W.CronHour.constraints,n),p=l(it=T,C,X).call(it,A.Month,o.month,W.CronMonth.constraints,n),M=l(At=T,C,X).call(At,A.DayOfMonth,o.dayOfMonth,W.CronDayOfMonth.constraints,n),{dayOfWeek:w,nthDayOfWeek:N}=l(Pt=T,C,ue).call(Pt,o.dayOfWeek),m=l(Rt=T,C,X).call(Rt,A.DayOfWeek,w,W.CronDayOfWeek.constraints,n),d=new Qe.CronFieldCollection({second:new W.CronSecond(h,{rawValue:o.second}),minute:new W.CronMinute(y,{rawValue:o.minute}),hour:new W.CronHour(u,{rawValue:o.hour}),dayOfMonth:new W.CronDayOfMonth(M,{rawValue:o.dayOfMonth}),month:new W.CronMonth(p,{rawValue:o.month}),dayOfWeek:new W.CronDayOfWeek(m,{rawValue:o.dayOfWeek,nthDayOfWeek:N})});return new qe.CronExpression(d,{...e,expression:t})}};C=new WeakSet,te=function(t,e){if(e&&!t.length)throw new Error("Invalid cron expression");t=t||"0 * * * * *";const i=t.trim().split(/\s+/);if(e&&i.length<6)throw new Error("Invalid cron expression, expected 6 fields");if(i.length>6)throw new Error("Invalid cron expression, too many fields");const a=["*","*","*","*","*","0"];i.length<a.length&&i.unshift(...a.slice(i.length));const[n,o,h,y,u,p]=i;return{second:n,minute:o,hour:h,dayOfMonth:y,month:u,dayOfWeek:p}},X=function(t,e,i,a){if((t===A.Month||t===A.DayOfWeek)&&(e=e.replace(/[a-z]{3}/gi,n=>{n=n.toLowerCase();const o=bt[n]||Et[n];if(o===void 0)throw new Error(`Validation error, cannot resolve alias "${n}"`);return o.toString()})),!i.validChars.test(e))throw new Error(`Invalid characters, got value: ${e}`);return e=l(this,C,ee).call(this,e,i),e=l(this,C,re).call(this,e,i,a),l(this,C,ne).call(this,t,e,i)},ee=function(t,e){return t.replace(/[*?]/g,e.min+"-"+e.max)},re=function(t,e,i){const a=i();return t.replace(/H(?:\((\d+)-(\d+)\))?(?:\/(\d+))?/g,(n,o,h,y)=>{if(o&&h&&y){const u=parseInt(o,10),p=parseInt(h,10),M=parseInt(y,10);if(u>p)throw new Error(`Invalid range: ${u}-${p}, min > max`);if(M<=0)throw new Error(`Invalid step: ${M}, must be positive`);const w=Math.max(u,e.min),N=Math.floor(a*M),m=[];for(let d=Math.floor(w/M)*M+N;d<=p;d+=M)d>=w&&m.push(d);return m.join(",")}else if(o&&h){const u=parseInt(o,10),p=parseInt(h,10);if(u>p)throw new Error(`Invalid range: ${u}-${p}, min > max`);return String(Math.floor(a*(p-u+1))+u)}else if(y){const u=parseInt(y,10);if(u<=0)throw new Error(`Invalid step: ${u}, must be positive`);const p=Math.floor(a*u),M=[];for(let w=Math.floor(e.min/u)*u+p;w<=e.max;w+=u)w>=e.min&&M.push(w);return M.join(",")}else return String(Math.floor(a*(e.max-e.min+1)+e.min))})},ne=function(t,e,i){const a=[];function n(h,y){var u;if(Array.isArray(h))a.push(...h);else if(l(u=T,C,he).call(u,y,h))a.push(h);else{const p=parseInt(h.toString(),10);if(!(p>=y.min&&p<=y.max))throw new Error(`Constraint error, got value ${h} expected range ${y.min}-${y.max}`);a.push(t===A.DayOfWeek?p%7:h)}}return e.split(",").forEach(h=>{var y;if(!(h.length>0))throw new Error("Invalid list value format");n(l(y=T,C,se).call(y,t,h,i),i)}),a},se=function(t,e,i){var n,o;const a=e.split("/");if(a.length>2)throw new Error(`Invalid repeat: ${e}`);return a.length===2?(isNaN(parseInt(a[0],10))||(a[0]=`${a[0]}-${i.max}`),l(n=T,C,Tt).call(n,t,a[0],parseInt(a[1],10),i)):l(o=T,C,Tt).call(o,t,e,1,i)},ie=function(t,e,i){if(!(!isNaN(t)&&!isNaN(e)&&t>=i.min&&e<=i.max))throw new Error(`Constraint error, got range ${t}-${e} expected range ${i.min}-${i.max}`);if(t>e)throw new Error(`Invalid range: ${t}-${e}, min(${t}) > max(${e})`)},ae=function(t){if(!(!isNaN(t)&&t>0))throw new Error(`Constraint error, cannot repeat at every ${t} time.`)},oe=function(t,e,i,a){const n=[];t===A.DayOfWeek&&i%7===0&&n.push(0);for(let o=e;o<=i;o+=a)n.indexOf(o)===-1&&n.push(o);return n},Tt=function(t,e,i,a){const n=e.split("-");if(n.length<=1)return isNaN(+e)?e:+e;const[o,h]=n.map(y=>parseInt(y,10));return l(this,C,ie).call(this,o,h,a),l(this,C,ae).call(this,i),l(this,C,oe).call(this,t,o,h,i)},ue=function(t){const e=t.split("#");if(e.length<=1)return{dayOfWeek:e[0]};const i=+e[e.length-1],a=t.match(/([,-/])/);if(a!==null)throw new Error(`Constraint error, invalid dayOfWeek \`#\` and \`${a==null?void 0:a[0]}\` special characters are incompatible`);if(!(e.length<=2&&!isNaN(i)&&i>=1&&i<=5))throw new Error("Constraint error, invalid dayOfWeek occurrence number (#)");return{dayOfWeek:e[0],nthDayOfWeek:i}},he=function(t,e){return t.chars.some(i=>e.toString().includes(i))},v(T,C);let Nt=T;H.CronExpressionParser=Nt;var pt={},Ze=F&&F.__createBinding||(Object.create?function(r,t,e,i){i===void 0&&(i=e);var a=Object.getOwnPropertyDescriptor(t,e);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,i,a)}:function(r,t,e,i){i===void 0&&(i=e),r[i]=t[e]}),tr=F&&F.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),er=F&&F.__importStar||function(){var r=function(t){return r=Object.getOwnPropertyNames||function(e){var i=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[i.length]=a);return i},r(t)};return function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i=r(t),a=0;a<i.length;a++)i[a]!=="default"&&Ze(e,t,i[a]);return tr(e,t),e}}();Object.defineProperty(pt,"__esModule",{value:!0});pt.CronFileParser=void 0;const rr=H;var Z,Ft,ce;const rt=class rt{static async parseFile(t){var a;const{readFile:e}=await Promise.resolve().then(()=>er(xt)),i=await e(t,"utf8");return l(a=rt,Z,Ft).call(a,i)}static parseFileSync(t){var a;const{readFileSync:e}=xt,i=e(t,"utf8");return l(a=rt,Z,Ft).call(a,i)}};Z=new WeakSet,Ft=function(t){var a;const e=t.split(`
`),i={variables:{},expressions:[],errors:{}};for(const n of e){const o=n.trim();if(o.length===0||o.startsWith("#"))continue;const h=o.match(/^(.*)=(.*)$/);if(h){const[,y,u]=h;i.variables[y]=u.replace(/["']/g,"");continue}try{const y=l(a=rt,Z,ce).call(a,o);i.expressions.push(y.interval)}catch(y){i.errors[o]=y}}return i},ce=function(t){const e=t.split(" ");return{interval:rr.CronExpressionParser.parse(e.slice(0,5).join(" ")),command:e.slice(5,e.length)}},v(rt,Z);let Ht=rt;pt.CronFileParser=Ht;(function(r){var t=F&&F.__createBinding||(Object.create?function(u,p,M,w){w===void 0&&(w=M);var N=Object.getOwnPropertyDescriptor(p,M);(!N||("get"in N?!p.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return p[M]}}),Object.defineProperty(u,w,N)}:function(u,p,M,w){w===void 0&&(w=M),u[w]=p[M]}),e=F&&F.__exportStar||function(u,p){for(var M in u)M!=="default"&&!Object.prototype.hasOwnProperty.call(p,M)&&t(p,u,M)};Object.defineProperty(r,"__esModule",{value:!0}),r.CronFileParser=r.CronExpressionParser=r.CronExpression=r.CronFieldCollection=r.CronDate=void 0;const i=H;var a=mt;Object.defineProperty(r,"CronDate",{enumerable:!0,get:function(){return a.CronDate}});var n=ut;Object.defineProperty(r,"CronFieldCollection",{enumerable:!0,get:function(){return n.CronFieldCollection}});var o=It;Object.defineProperty(r,"CronExpression",{enumerable:!0,get:function(){return o.CronExpression}});var h=H;Object.defineProperty(r,"CronExpressionParser",{enumerable:!0,get:function(){return h.CronExpressionParser}});var y=pt;Object.defineProperty(r,"CronFileParser",{enumerable:!0,get:function(){return y.CronFileParser}}),e(dt,r),r.default=i.CronExpressionParser})(Oe);export{Oe as d};
