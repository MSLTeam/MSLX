import{D as Me,F as u,R as ze,K as de,P as Te,aa as Pe,b0 as d,b1 as P,aY as v,b2 as a,a$ as o,G as e,aX as b,b6 as k,ak as H,al as W,ao as p,b5 as x,ap as se,bd as ol,O as Be,b3 as Ie,bb as Xe,be as qe,V as De,W as sl}from"./index.BbdIPky0.js";import{u as Ee,c as ce,_ as Le}from"./index.CJ_U555v.js";import{S as Ae,g as Ne,a as Oe}from"./localJava.Ds3VlJ4o.js";import{u as He,a as Ge}from"./instance.DDJZB1ws.js";import{d as Ve,i as Ze,u as Qe,f as We,c as nl}from"./files.B9HuDVeU.js";import{M as _}from"./tdesign-vue-next.EnwhK9x8.js";import"./core-js-pure.DghWRT_o.js";import"./crelt.C8TCjufn.js";import"./style-mod.Bc2inJdb.js";import"./w3c-keyname.Vcq4gwWv.js";import"./pinia.DE9DXmFR.js";import"./pinia-plugin-persistedstate.n2tMOXAx.js";import"./vue-router.CTuarHf7.js";import"./tvision-color.BU_YHHaJ.js";import"./chroma-js.Cmk4elvR.js";import"./bezier-easing.jp9ayU57.js";import"./lodash.BpjWTYO-.js";import"./axios.R-lXtGyY.js";import"./qs.CnepGyXr.js";import"./side-channel.Bf-JVZLg.js";import"./es-errors.CFxpeikN.js";import"./object-inspect.CD-SYzlK.js";import"./cron-parser.BqMfRICj.js";import"./luxon.BVaPVz1w.js";import"./side-channel-list.CQN2BsdT.js";import"./side-channel-map.BJ69Knz3.js";import"./get-intrinsic.CAdfHqt8.js";import"./es-object-atoms.Ditt1eQ6.js";import"./math-intrinsics.Cv-yPkyD.js";import"./gopd.fcd2-aIC.js";import"./es-define-property.bDCdrV83.js";import"./has-symbols.BaUvM3gb.js";import"./get-proto.Cbri-GHQ.js";import"./dunder-proto.q7lw_6_J.js";import"./call-bind-apply-helpers.BxcZtPLH.js";import"./function-bind.BbkWVFrm.js";import"./hasown.ckq0ukzO.js";import"./call-bound.BO70H6sD.js";import"./side-channel-weakmap.BkoVKe_V.js";import"./nprogress.CMq2Rk2a.js";import"./lodash-es.ClUTdtmA.js";import"./tdesign-icons-vue-next.DieAbZNO.js";import"./mitt.DJ65BbbF.js";import"./sortablejs.C83syoBY.js";const ul={class:"main-layout-container"},rl={class:"steps-aside"},il={class:"main-content"},dl={key:0,class:"form-step-container"},cl={class:"step-content"},vl={class:"step-content"},ml={style:{width:"100%"}},pl={class:"java-option-panel"},fl={key:0,class:"flex-row"},_l={class:"tip"},gl={key:1,class:"flex-row"},yl={key:2},hl={key:3},bl={class:"step-content"},kl={key:0,class:"online-select-area"},wl={class:"select-core-wrapper"},Vl={key:0,class:"selected-core-card"},Ml={class:"core-icon"},Ul={class:"core-info"},Sl={class:"core-filename"},Cl={key:1,class:"online-select-area"},$l={class:"select-core-wrapper"},xl={key:1,class:"uploading-state"},Fl={class:"core-filename"},Jl={key:2,class:"selected-core-card"},Kl={class:"core-icon"},jl={class:"core-info"},Rl={class:"core-filename"},Bl={class:"core-url"},Il={key:2,class:"online-select-area"},Ll={class:"step-content"},Gl={key:1,class:"step-content creation-progress"},zl={class:"progress-title"},Tl={class:"log-time"},Pl={class:"log-message"},Xl={key:2,class:"result-success"},ql={class:"result-success-title"},Dl=Me({__name:"QuickMode",setup(Ue){const I=Ee(),j=u(null),Y=He(),r=u(0),R=u(!1),B=u(!1),X=u(!1),w=u(0),N=u([]),F=u(null),q=u(null),T=u(null),$=u("online"),Z=u(!1),L=u(null),G=u(!1),K=u(0),ee=u(""),D=u(""),E=u("online"),O=u([]),ne=u([]),z=u(""),A=u(""),ue=async(c=!1)=>{try{c&&_.info("æ­£åœ¨åˆ·æ–°Javaç‰ˆæœ¬åˆ—è¡¨(é‡æ–°æ‰«æè€—æ—¶è¾ƒé•¿)...");const t=await Ne(I.userInfo.systemInfo.osType.toLowerCase().replace("os",""),I.userInfo.systemInfo.osArchitecture.toLowerCase());t&&Array.isArray(t)&&(O.value=t.map(y=>({label:`Java ${y}`,value:y})),O.value.length>0&&!z.value&&(z.value=O.value[1].value)),ne.value=(await Oe(c)).map(y=>({label:`Java ${y.version}${y.is64Bit?"":" (32ä½)"} (${y.vendor} | ${y.path})`,value:y.path})),ne.value.length>0&&(A.value=ne.value[0].value),c&&_.success("å·²åˆ·æ–°Javaç‰ˆæœ¬åˆ—è¡¨")}catch(t){_.warning("è·å–åœ¨çº¿Javaç‰ˆæœ¬å¤±è´¥"+t.message)}};ze(()=>{ue()});const n=u({name:"æ–°å»ºæœåŠ¡å™¨",path:"",java:"",core:"",coreUrl:"",coreSha256:"",coreFileKey:"",packageFileKey:"",minM:1024,maxM:4096,args:""}),Q=[{label:"GB",value:"GB"},{label:"MB",value:"MB"}],le=u("GB"),i=u("GB"),te=de({get:()=>le.value==="GB"?n.value.minM/1024:n.value.minM,set:c=>{n.value.minM=le.value==="GB"?Math.round(c*1024):c}}),ae=de({get:()=>i.value==="GB"?n.value.maxM/1024:n.value.maxM,set:c=>{n.value.maxM=i.value==="GB"?Math.round(c*1024):c}});Te([E,z,A],([c,t,y])=>{var C;c==="env"?n.value.java="java":c==="custom"||c==="local"?n.value.java=y:c==="online"&&(n.value.java=t?`MSLX://Java/${t}`:""),n.value.java&&((C=j.value)==null||C.validate({fields:["java"]}))},{immediate:!0});const me=de(()=>({name:[{required:!0,message:"å®ä¾‹åç§°ä¸èƒ½ä¸ºç©º",trigger:"blur"}],java:[{required:!0,message:"è¯·é…ç½® Java ç¯å¢ƒ",trigger:"change"}],core:[{required:!0,message:"æ ¸å¿ƒåç§°/æ–‡ä»¶ä¸èƒ½ä¸ºç©º",trigger:"change"}],coreUrl:[{validator:c=>{if($.value==="online"){if(!c)return{result:!1,message:"è¯·é€‰æ‹©ä¸€ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒ",type:"error"};if(c&&!/^https?:\/\/.+/.test(c))return{result:!1,message:"ä¸‹è½½åœ°å€å¿…é¡»ä»¥ http(s) å¼€å¤´",type:"error"}}return!0},trigger:"change"}],coreFileKey:[{validator:c=>$.value==="manual"&&!c?{result:!1,message:"è¯·ä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶",type:"error"}:!0,trigger:"change"}],minM:[{required:!0,min:1,message:"æœ€å°å†…å­˜å¿…é¡»å¤§äº0",trigger:"blur"}],maxM:[{required:!0,min:1,message:"æœ€å¤§å†…å­˜å¿…é¡»å¤§äº0",trigger:"blur"}]})),pe=[["name","path"],["java"],["core","coreUrl","coreSha256","coreFileKey"],["minM","maxM","args"]],fe=()=>{r.value>0&&(r.value-=1)},Se=async()=>{if(r.value===2){if($.value==="online"){if(!n.value.coreUrl||!n.value.core){_.warning("è¯·ç‚¹å‡»æŒ‰é’®é€‰æ‹©ä¸€ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒ");return}}else if($.value==="custom"){if(!n.value.core){_.warning("è¯·è¾“å…¥æ ¸å¿ƒæ–‡ä»¶å");return}}else if(!n.value.coreFileKey){_.warning("è¯·å…ˆä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶");return}}const c=await j.value.validate();if(c===!0){r.value<3&&(r.value+=1);return}const t=new Set(pe[r.value]);Object.keys(c).some(C=>t.has(C))?_.warning("è¯·æ£€æŸ¥å½“å‰æ­¥éª¤çš„è¾“å…¥"):r.value<3&&(r.value+=1)},Ce=c=>{n.value.core=c.filename,n.value.coreUrl=c.url,n.value.coreSha256=c.sha256,n.value.coreFileKey="",_.success(`å·²é€‰æ‹©: ${c.core} (${c.version})`),j.value.validate({fields:["core","coreUrl"]})},_e=()=>{var c;(c=L.value)==null||c.click()},$e=c=>{if(c===0)return"0 B";const t=1024,y=["B","KB","MB","GB"],C=Math.floor(Math.log(c)/Math.log(t));return parseFloat((c/Math.pow(t,C)).toFixed(2))+" "+y[C]},ge=async c=>{const t=c.target;if(!t.files||t.files.length===0)return;if(n.value.coreFileKey)try{await Ve(n.value.coreFileKey),console.log("æ—§ä¸´æ—¶æ–‡ä»¶å·²æ¸…ç†:",n.value.coreFileKey)}catch(s){console.warn("æ¸…ç†æ—§æ–‡ä»¶å¤±è´¥ï¼Œå¯èƒ½æ–‡ä»¶å·²è¿‡æœŸ",s)}const y=t.files[0],C=y.name;n.value.core=C,n.value.coreUrl="",n.value.coreSha256="",n.value.coreFileKey="",ee.value=C,D.value=$e(y.size),await xe(y),t.value=""},xe=async c=>{G.value=!0,K.value=0;const t=5*1024*1024,y=Math.ceil(c.size/t);try{const s=(await Ze()).uploadId;if(!s)throw new Error("æ— æ³•è·å–ä¸Šä¼ å‡­è¯");for(let f=0;f<y;f++){const M=f*t,U=Math.min(c.size,M+t),V=c.slice(M,U);await Qe(s,f,V),K.value=Math.floor((f+1)/y*100)}const m=(await We(s,y)).uploadId;n.value.coreFileKey=m,_.success("æ ¸å¿ƒæ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼"),j.value.validate({fields:["core","coreFileKey"]})}catch(C){console.error(C),_.error(`ä¸Šä¼ å¤±è´¥: ${C.message||"æœªçŸ¥é”™è¯¯"}`),n.value.core="",ee.value="",K.value=0}finally{G.value=!1}},Fe=async()=>{n.value.coreFileKey&&(await Ve(n.value.coreFileKey),n.value.coreFileKey="",n.value.core="",ee.value="",_.success("æ–‡ä»¶å·²ç§»é™¤"))},Je=async()=>{if(!(await j.value.validate()===!0)){_.warning("è¯·æ£€æŸ¥è¡¨å•æ‰€æœ‰å†…å®¹");return}R.value=!0,N.value=[];const y={...n.value,path:n.value.path||null,coreUrl:n.value.coreUrl||null,coreSha256:n.value.coreSha256||null,coreFileKey:n.value.coreFileKey||null,args:n.value.args||null};$.value==="manual"?(y.coreUrl=null,y.coreSha256=null):y.coreFileKey=null;try{const s=(await Ge(y)).serverId;if(!s)throw new Error("æœåŠ¡å™¨æœªè¿”å› ServerId");q.value=s.toString(),B.value=!0,r.value=4,await Ke(q.value)}catch(C){const s=C.message||"åˆ›å»ºè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–åç«¯æœåŠ¡";_.error(s),R.value=!1}},Ke=async c=>{const{baseUrl:t,token:y}=I;let C=!1;const s=new URL("/api/hubs/creationProgressHub",t||window.location.origin);s.searchParams.append("x-user-token",y),F.value=new Xe().withUrl(s.toString(),{withCredentials:!1}).configureLogging(qe.Information).build();const l=(m,f=null)=>{N.value.push({time:new Date().toLocaleTimeString(),message:m,progress:f}),De(()=>{T.value&&(T.value.scrollTop=T.value.scrollHeight)})};F.value.on("StatusUpdate",(m,f,M)=>{var U,V;m.toString()===c&&(l(f,M),M!==null&&M>=0&&(w.value=M),M===100?(C=!0,_.success("æœåŠ¡å™¨åˆ›å»ºæˆåŠŸï¼"),(U=F.value)==null||U.stop(),B.value=!1,X.value=!0,r.value=5,R.value=!1,Y.refreshInstanceList()):M===-1&&(_.error(f||"åˆ›å»ºè¿‡ç¨‹ä¸­å‘ç”ŸæœªçŸ¥é”™è¯¯"),(V=F.value)==null||V.stop(),B.value=!1,R.value=!1,r.value=0))});try{await F.value.start(),l("å·²è¿æ¥åˆ°å®æ—¶è¿›åº¦æœåŠ¡..."),await F.value.invoke("TrackServer",c),l("å·²è®¢é˜…ä»»åŠ¡ï¼Œç­‰å¾…æœåŠ¡å™¨å“åº”...")}catch(m){C||(l(`SignalR è¿æ¥å¤±è´¥: ${m.message}`,-1),_.error("æ— æ³•è¿æ¥åˆ°å®æ—¶è¿›åº¦æœåŠ¡"),B.value=!1,R.value=!1,r.value=0)}};return Pe(()=>{var c;(c=F.value)==null||c.stop()}),(c,t)=>{const y=d("t-step-item"),C=d("t-steps"),s=d("t-input"),l=d("t-form-item"),m=d("t-alert"),f=d("t-radio-button"),M=d("t-radio-group"),U=d("t-select"),V=d("t-button"),S=d("t-icon"),J=d("t-progress"),re=d("t-input-number"),ye=d("t-space"),he=d("t-col"),ve=d("t-row"),oe=d("t-textarea"),ie=d("t-form"),be=d("t-list-item-meta"),ke=d("t-list-item"),we=d("t-list"),je=d("t-card");return v(),P(je,{bordered:!1},{default:a(()=>[o("div",ul,[o("div",rl,[e(C,{layout:"vertical",style:{"margin-top":"16px"},current:r.value,status:"process",readonly:""},{default:a(()=>[e(y,{title:"åŸºæœ¬ä¿¡æ¯",content:"å¡«å†™å®ä¾‹åç§°å’Œè·¯å¾„"}),e(y,{title:"Java ç¯å¢ƒ",content:"é…ç½® Java è¿è¡Œæ—¶"}),e(y,{title:"æ ¸å¿ƒæ–‡ä»¶",content:"æŒ‡å®šæ ¸å¿ƒæ–‡ä»¶åŠä¸‹è½½"}),e(y,{title:"èµ„æºé…ç½®",content:"è®¾ç½®å†…å­˜ä¸ JVM å‚æ•°"}),e(y,{title:"åˆ›å»ºå®ä¾‹",content:"æäº¤å¹¶ç­‰å¾…åˆ›å»º"}),e(y,{title:"å®Œæˆ",content:"æŸ¥çœ‹åˆ›å»ºç»“æœ"})]),_:1},8,["current"])]),o("div",il,[!B.value&&!X.value?(v(),b("div",dl,[e(ie,{ref_key:"formRef",ref:j,data:n.value,rules:me.value,"label-align":"top",class:"step-form",onSubmit:Je},{default:a(()=>[H(o("div",cl,[e(l,{label:"å®ä¾‹åç§°",name:"name"},{default:a(()=>[e(s,{modelValue:n.value.name,"onUpdate:modelValue":t[0]||(t[0]=g=>n.value.name=g),placeholder:"ä¸ºä½ çš„æœåŠ¡å™¨èµ·ä¸ªåå­—"},null,8,["modelValue"])]),_:1}),e(l,{label:"å®ä¾‹è·¯å¾„",name:"path",help:"é€‰å¡«ï¼Œç•™ç©ºå°†ä½¿ç”¨é»˜è®¤è·¯å¾„"},{default:a(()=>[e(s,{modelValue:n.value.path,"onUpdate:modelValue":t[1]||(t[1]=g=>n.value.path=g),placeholder:"ä¾‹å¦‚: D:\\MyServer"},null,8,["modelValue"])]),_:1})],512),[[W,r.value===0]]),H(o("div",vl,[e(m,{theme:"info",title:"å¦‚ä½•é€‰æ‹© Java ç‰ˆæœ¬?",class:"java-alert"},{message:a(()=>[...t[20]||(t[20]=[o("p",null,"ä¸åŒçš„ Minecraft ç‰ˆæœ¬éœ€è¦ä¸åŒçš„ Java ç‰ˆæœ¬ã€‚",-1),o("ul",null,[o("li",null,[p("ç›®å‰æ¨èæœ€é«˜ä½¿ç”¨ "),o("b",null,"Java 21"),p(" ï¼ŒJava 25 å¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚")]),o("li",null,"MC 1.20.5 - æœ€æ–°ç‰ˆæœ¬: éœ€è¦ Java 21 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚"),o("li",null,"MC 1.18 - 1.20.4: éœ€è¦ Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚"),o("li",null,"MC 1.17/1.17.1: éœ€è¦ Java 16ã€‚"),o("li",null,"MC 1.13 - 1.16.5: éœ€è¦ Java 8 / 11ã€‚"),o("li",null,"MC 1.12.2 åŠä»¥ä¸‹: éœ€è¦ Java 8ã€‚")],-1)])]),_:1}),e(l,{label:"Java æ¥æº",name:"java"},{default:a(()=>[o("div",ml,[e(M,{modelValue:E.value,"onUpdate:modelValue":t[2]||(t[2]=g=>E.value=g),variant:"default-filled"},{default:a(()=>[e(f,{value:"online"},{default:a(()=>[...t[21]||(t[21]=[p("åœ¨çº¿ä¸‹è½½",-1)])]),_:1}),e(f,{value:"local"},{default:a(()=>[...t[22]||(t[22]=[p("é€‰æ‹©ç”µè„‘ä¸Šçš„ Java",-1)])]),_:1}),e(f,{value:"env"},{default:a(()=>[...t[23]||(t[23]=[p("ç¯å¢ƒå˜é‡",-1)])]),_:1}),e(f,{value:"custom"},{default:a(()=>[...t[24]||(t[24]=[p("è‡ªå®šä¹‰è·¯å¾„",-1)])]),_:1})]),_:1},8,["modelValue"]),o("div",pl,[E.value==="online"?(v(),b("div",fl,[e(U,{modelValue:z.value,"onUpdate:modelValue":t[3]||(t[3]=g=>z.value=g),options:O.value,placeholder:"è¯·é€‰æ‹© Java ç‰ˆæœ¬"},null,8,["modelValue","options"]),o("div",_l," å°†ä¸‹è½½å¹¶ä½¿ç”¨ Java "+x(z.value||"?")+" "+x(se(I).userInfo.systemInfo.osType.toLowerCase().replace("os",""))+" / "+x(se(I).userInfo.systemInfo.osArchitecture.toLowerCase()),1)])):k("",!0),E.value==="local"?(v(),b("div",gl,[e(U,{modelValue:A.value,"onUpdate:modelValue":t[4]||(t[4]=g=>A.value=g),options:ne.value,placeholder:"è¯·é€‰æ‹© Java ç‰ˆæœ¬"},null,8,["modelValue","options"]),e(V,{variant:"outline",theme:"primary",onClick:t[5]||(t[5]=g=>ue(!0))},{default:a(()=>[...t[25]||(t[25]=[p("é‡æ–°æ‰«æ",-1)])]),_:1})])):k("",!0),E.value==="env"?(v(),b("div",yl,[e(s,{"model-value":"java",readonly:"",disabled:""}),t[26]||(t[26]=o("div",{class:"tip"},"å°†ä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­çš„ java å‘½ä»¤",-1))])):k("",!0),E.value==="custom"?(v(),b("div",hl,[e(s,{modelValue:A.value,"onUpdate:modelValue":t[6]||(t[6]=g=>A.value=g),placeholder:"ä¾‹å¦‚: C:\\Program Files\\Java\\jdk-17\\bin\\java.exe"},null,8,["modelValue"])])):k("",!0)])])]),_:1})],512),[[W,r.value===1]]),H(o("div",bl,[e(l,{label:"é€‰æ‹©æ‚¨çš„Minecraftå¼€æœä½¿ç”¨çš„æœåŠ¡ç«¯æ ¸å¿ƒ"},{default:a(()=>[e(M,{modelValue:$.value,"onUpdate:modelValue":t[7]||(t[7]=g=>$.value=g),variant:"default-filled"},{default:a(()=>[e(f,{value:"online"},{default:a(()=>[...t[27]||(t[27]=[p("åœ¨çº¿ä¸‹è½½ (æ¨è)",-1)])]),_:1}),e(f,{value:"manual"},{default:a(()=>[...t[28]||(t[28]=[p("é€‰æ‹©æœ¬åœ°æ–‡ä»¶",-1)])]),_:1}),e(f,{value:"custom"},{default:a(()=>[...t[29]||(t[29]=[p("è‡ªå®šä¹‰æ–‡ä»¶å",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),$.value==="online"?(v(),b("div",kl,[e(l,{label:"é€‰æ‹©æœåŠ¡ç«¯æ ¸å¿ƒ",name:"coreUrl"},{default:a(()=>[o("div",wl,[e(V,{variant:"outline",onClick:t[8]||(t[8]=g=>Z.value=!0)},{icon:a(()=>[e(S,{name:"cloud-download"})]),default:a(()=>[t[30]||(t[30]=p(" ç‚¹å‡»æ‰“å¼€æœåŠ¡ç«¯æ ¸å¿ƒé€‰æ‹©åº“ ",-1))]),_:1}),n.value.core?(v(),b("div",Vl,[o("div",Ml,[e(S,{name:"check-circle-filled"})]),o("div",Ul,[o("div",Sl,x(n.value.core),1),t[31]||(t[31]=o("div",{class:"core-url",title:"MSLX å°†åœ¨ç¨åå¸®æ‚¨è‡ªåŠ¨ä¸‹è½½æ­¤æ–‡ä»¶..."}," MSLX å°†åœ¨ç¨åå¸®æ‚¨è‡ªåŠ¨ä¸‹è½½æ­¤æ–‡ä»¶... ",-1))]),e(V,{shape:"circle",variant:"text",theme:"danger",onClick:t[9]||(t[9]=g=>{n.value.core="",n.value.coreUrl=""})},{default:a(()=>[e(S,{name:"close"})]),_:1})])):k("",!0)])]),_:1}),H(o("input",{"onUpdate:modelValue":t[10]||(t[10]=g=>n.value.coreSha256=g),type:"hidden"},null,512),[[ol,n.value.coreSha256]])])):k("",!0),$.value==="manual"?(v(),b("div",Cl,[e(l,{label:"ä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶",name:"coreFileKey"},{default:a(()=>[o("div",$l,[o("input",{ref_key:"uploadInputRef",ref:L,accept:".jar",type:"file",style:{display:"none"},onChange:ge},null,544),!G.value&&!n.value.coreFileKey?(v(),P(V,{key:0,variant:"outline",onClick:_e},{icon:a(()=>[e(S,{name:"upload"})]),default:a(()=>[t[32]||(t[32]=p(" ç‚¹å‡»é€‰æ‹©æ–‡ä»¶å¹¶ä¸Šä¼  ",-1))]),_:1})):k("",!0),G.value?(v(),b("div",xl,[o("div",Fl,"æ­£åœ¨ä¸Šä¼ : "+x(ee.value)+" ("+x(D.value)+")",1),e(J,{theme:"line",percentage:K.value},null,8,["percentage"]),t[33]||(t[33]=o("div",{class:"tip"},"åˆ«ç€æ€¥ï¼Œå–æ¯èŒ¶ğŸµ...",-1))])):k("",!0),n.value.coreFileKey&&!G.value?(v(),b("div",Jl,[o("div",Kl,[e(S,{name:"check-circle-filled"})]),o("div",jl,[o("div",Rl,x(ee.value),1),o("div",Bl,x(D.value)+" | å·²ä¸Šä¼ å‡†å¤‡å°±ç»ª",1)]),e(V,{shape:"circle",variant:"text",theme:"primary",onClick:_e},{icon:a(()=>[e(S,{name:"swap"})]),_:1}),e(V,{shape:"circle",variant:"text",theme:"danger",onClick:Fe},{icon:a(()=>[e(S,{name:"delete"})]),_:1})])):k("",!0)])]),_:1})])):k("",!0),$.value==="custom"?(v(),b("div",Il,[e(m,{theme:"warning",message:"æ­¤æ¨¡å¼é€šå¸¸ç”¨äºæœåŠ¡å™¨ç›®å½•ä¸­å·²ç»å­˜åœ¨æ ¸å¿ƒæ–‡ä»¶ï¼Œæˆ–è€…æ‚¨æ‰“ç®—ç¨åæ‰‹åŠ¨é€šè¿‡æ–‡ä»¶ç®¡ç†ä¸Šä¼ æ ¸å¿ƒã€‚",style:{"margin-bottom":"16px"}}),e(l,{label:"æ ¸å¿ƒæ–‡ä»¶å",name:"core",help:"è¯·ç¡®ä¿æ–‡ä»¶ååŒ…å«åç¼€ï¼Œä¾‹å¦‚: server.jar"},{default:a(()=>[e(s,{modelValue:n.value.core,"onUpdate:modelValue":t[11]||(t[11]=g=>n.value.core=g),placeholder:"è¯·è¾“å…¥æ ¸å¿ƒæ–‡ä»¶å (ä¾‹å¦‚ server.jar)"},null,8,["modelValue"])]),_:1})])):k("",!0)],512),[[W,r.value===2]]),H(o("div",Ll,[e(ve,{gutter:[16,24]},{default:a(()=>[e(he,{xs:12,span:6},{default:a(()=>[e(l,{label:"æœ€å°å†…å­˜",name:"minM"},{default:a(()=>[e(ye,{size:8,style:{width:"100%"}},{default:a(()=>[e(re,{modelValue:te.value,"onUpdate:modelValue":t[12]||(t[12]=g=>te.value=g),min:0,"decimal-places":le.value==="GB"?1:0,placeholder:"Xms",theme:"column",style:{width:"100%"}},null,8,["modelValue","decimal-places"]),e(U,{modelValue:le.value,"onUpdate:modelValue":t[13]||(t[13]=g=>le.value=g),options:Q,clearable:!1,style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(he,{xs:12,span:6},{default:a(()=>[e(l,{label:"æœ€å¤§å†…å­˜",name:"maxM"},{default:a(()=>[e(ye,{size:8,style:{width:"100%"}},{default:a(()=>[e(re,{modelValue:ae.value,"onUpdate:modelValue":t[14]||(t[14]=g=>ae.value=g),min:0,"decimal-places":i.value==="GB"?1:0,placeholder:"Xmx",theme:"column",style:{width:"100%"}},null,8,["modelValue","decimal-places"]),e(U,{modelValue:i.value,"onUpdate:modelValue":t[15]||(t[15]=g=>i.value=g),options:Q,clearable:!1,style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(l,{label:"é¢å¤– JVM å‚æ•° (å¯é€‰)",name:"args",help:"ä¾‹å¦‚: -XX:+UseG1GC",style:{"margin-top":"16px"}},{default:a(()=>[e(oe,{modelValue:n.value.args,"onUpdate:modelValue":t[16]||(t[16]=g=>n.value.args=g),placeholder:"-XX:+UseG1GC"},null,8,["modelValue"])]),_:1})],512),[[W,r.value===3]]),e(l,{class:"step-actions"},{default:a(()=>[r.value>0?(v(),P(V,{key:0,theme:"default",onClick:fe},{default:a(()=>[...t[34]||(t[34]=[p("ä¸Šä¸€æ­¥",-1)])]),_:1})):k("",!0),r.value<3?(v(),P(V,{key:1,type:"button",onClick:Se},{default:a(()=>[...t[35]||(t[35]=[p("ä¸‹ä¸€æ­¥",-1)])]),_:1})):k("",!0),r.value===3?(v(),P(V,{key:2,theme:"primary",type:"submit",loading:R.value},{default:a(()=>[...t[36]||(t[36]=[p(" æäº¤åˆ›å»º ",-1)])]),_:1},8,["loading"])):k("",!0)]),_:1})]),_:1},8,["data","rules"])])):k("",!0),B.value?(v(),b("div",Gl,[o("div",zl,"æ­£åœ¨åˆ›å»ºå®ä¾‹ ("+x(q.value)+")",1),t[37]||(t[37]=o("p",null,"è¯·å‹¿å…³é—­æ­¤é¡µé¢ï¼Œåˆ›å»ºè¿‡ç¨‹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿ...",-1)),e(J,{theme:"plump",percentage:w.value,label:`${w.value.toFixed(2)}%`},null,8,["percentage","label"]),o("div",{ref_key:"logContainerRef",ref:T,class:"log-container"},[e(we,{split:!0},{default:a(()=>[(v(!0),b(Be,null,Ie(N.value,(g,Re)=>(v(),P(ke,{key:Re},{default:a(()=>[e(be,null,{description:a(()=>[o("span",Tl,"["+x(g.time)+"]",1),o("span",Pl,x(g.message),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})],512)])):k("",!0),X.value?(v(),b("div",Xl,[e(S,{class:"result-success-icon",name:"check-circle"}),o("div",ql,"æœåŠ¡å™¨ ("+x(q.value)+") å·²åˆ›å»ºæˆåŠŸ",1),t[40]||(t[40]=o("div",{class:"result-success-describe"},"ä½ ç°åœ¨å¯ä»¥å»æœåŠ¡å™¨åˆ—è¡¨å¯åŠ¨å®ƒäº†",-1)),o("div",null,[e(V,{onClick:t[17]||(t[17]=g=>se(ce)("/instance/list"))},{default:a(()=>[...t[38]||(t[38]=[p(" è¿”å›æœåŠ¡ç«¯åˆ—è¡¨ ",-1)])]),_:1}),e(V,{theme:"default",onClick:t[18]||(t[18]=g=>se(ce)(`/instance/console/${q.value}`))},{default:a(()=>[...t[39]||(t[39]=[p(" å‰å¾€æ§åˆ¶å° ",-1)])]),_:1})])])):k("",!0)])]),e(Ae,{visible:Z.value,"onUpdate:visible":t[19]||(t[19]=g=>Z.value=g),onConfirm:Ce},null,8,["visible"])]),_:1})}}}),El=Le(Dl,[["__scopeId","data-v-801274de"]]),Al={key:1,class:"result-success"},Nl={class:"result-success-title"},Ol=Me({__name:"CustomMode",setup(Ue){const I=u(!1),j=u(0),Y=u(null),r=sl({name:"",path:null,java:"none",core:"none",coreUrl:"",coreSha256:"",coreFileKey:"",packageFileKey:"",minM:1027,maxM:1027,args:""}),R={name:[{required:!0,message:"è¯·è¾“å…¥æœåŠ¡å™¨åç§°",type:"error"}],args:[{required:!0,message:"è¯·è¾“å…¥è‡ªå®šä¹‰å¯åŠ¨å‚æ•°",type:"error"}]},B=async({validateResult:X})=>{if(X===!0)try{const w=await Ge(r);j.value=w.serverId,_.success("åˆ›å»ºæˆåŠŸ"),I.value=!0}catch(w){_.error("åˆ›å»ºå¤±è´¥ï¼"+w.message)}else _.warning("è¯·æ£€æŸ¥è¡¨å•å¡«å†™")};return(X,w)=>{const N=d("t-input"),F=d("t-form-item"),q=d("t-textarea"),T=d("t-button"),$=d("t-space"),Z=d("t-form"),L=d("t-card"),G=d("t-icon");return v(),b("div",null,[I.value?(v(),b("div",Al,[e(G,{class:"result-success-icon",name:"check-circle"}),o("div",Nl,"æœåŠ¡å™¨ ("+x(j.value)+") å·²åˆ›å»ºæˆåŠŸ",1),w[9]||(w[9]=o("div",{class:"result-success-describe"},"ä½ ç°åœ¨å¯ä»¥å»æœåŠ¡å™¨åˆ—è¡¨å¯åŠ¨å®ƒäº†",-1)),o("div",null,[e(T,{onClick:w[3]||(w[3]=K=>se(ce)("/instance/list"))},{default:a(()=>[...w[7]||(w[7]=[p(" è¿”å›æœåŠ¡ç«¯åˆ—è¡¨ ",-1)])]),_:1}),e(T,{theme:"default",onClick:w[4]||(w[4]=K=>se(ce)(`/instance/console/${j.value}`))},{default:a(()=>[...w[8]||(w[8]=[p(" å‰å¾€æ§åˆ¶å° ",-1)])]),_:1})])])):(v(),P(L,{key:0,bordered:!1},{header:a(()=>[...w[5]||(w[5]=[o("span",{style:{"font-weight":"bold","font-size":"16px"}},"è‡ªå®šä¹‰å¯åŠ¨æŒ‡ä»¤æ¨¡å¼",-1)])]),default:a(()=>[e(Z,{ref_key:"formRef",ref:Y,rules:R,data:r,"label-align":"top",onSubmit:B},{default:a(()=>[e(F,{label:"æœåŠ¡å™¨åç§°",name:"name"},{default:a(()=>[e(N,{modelValue:r.name,"onUpdate:modelValue":w[0]||(w[0]=K=>r.name=K),placeholder:"ç»™ä½ çš„æœåŠ¡å™¨èµ·ä¸€ä¸ªåå­—"},null,8,["modelValue"])]),_:1}),e(F,{label:"å­˜å‚¨è·¯å¾„(å¯é€‰)",name:"path",help:"ä¸å¡«å†™å°†ä½¿ç”¨é»˜è®¤çš„ä¿å­˜è·¯å¾„ã€‚"},{default:a(()=>[e(N,{modelValue:r.path,"onUpdate:modelValue":w[1]||(w[1]=K=>r.path=K),placeholder:"è¯·å¡«å†™æœåŠ¡ç«¯ä¿å­˜ä½ç½®"},null,8,["modelValue"])]),_:1}),e(F,{label:"å¯åŠ¨æŒ‡ä»¤",name:"args",help:"æ­¤æ¨¡å¼ä¸ä¼šè‡ªåŠ¨å¸®æ‚¨é…ç½®Javaç¯å¢ƒï¼Œæ‚¨éœ€è¦å¡«å†™å®Œæ•´çš„å¯åŠ¨å‘½ä»¤ã€‚"},{default:a(()=>[e(q,{modelValue:r.args,"onUpdate:modelValue":w[2]||(w[2]=K=>r.args=K),placeholder:"start.bat...",autosize:{minRows:5,maxRows:25},class:"code-font-textarea"},null,8,["modelValue"])]),_:1}),e(F,null,{default:a(()=>[e($,null,{default:a(()=>[e(T,{theme:"primary",type:"submit"},{default:a(()=>[...w[6]||(w[6]=[p("æäº¤åˆ›å»º",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])]),_:1}))])}}}),Hl=Le(Ol,[["__scopeId","data-v-9be1ba99"]]),Zl={class:"main-layout-container"},Ql={class:"steps-aside"},Wl={class:"main-content"},Yl={key:0,class:"form-step-container"},et={class:"step-content"},lt={class:"step-content"},tt={class:"select-core-wrapper"},at={key:1,class:"uploading-state"},ot={class:"core-filename"},st={key:2,class:"uploading-state"},nt={key:3,class:"selected-core-card"},ut={class:"core-icon"},rt={class:"core-info"},it={class:"core-filename"},dt={class:"core-url"},ct={class:"step-content"},vt={key:0},mt={key:1},pt={key:0,class:"online-select-area"},ft={class:"select-core-wrapper"},_t={key:0,class:"selected-core-card"},gt={class:"core-icon"},yt={class:"core-info"},ht={class:"core-filename"},bt={key:1,class:"online-select-area"},kt={class:"step-content"},wt={style:{width:"100%"}},Vt={class:"java-option-panel"},Mt={key:0,class:"flex-row"},Ut={key:1,class:"flex-row"},St={key:2},Ct={key:3},$t={class:"step-content"},xt={key:1,class:"step-content creation-progress"},Ft={class:"progress-title"},Jt={key:2,class:"result-success"},Kt=Me({__name:"PackageMode",setup(Ue){const I=Ee(),j=u(null),Y=He(),r=u(0),R=u(!1),B=u(!1),X=u(!1),w=u(0),N=u([]),F=u(null),q=u(null),T=u(null),$=u("online"),Z=u(!1),L=u([]),G=u(!1),K=u(""),ee=u(null),D=u(!1),E=u(0),O=u(""),ne=u(""),z=u("online"),A=u([]),ue=u([]),n=u(""),Q=u(""),le=async(s=!1)=>{try{s&&_.info("æ­£åœ¨åˆ·æ–°Javaç‰ˆæœ¬åˆ—è¡¨...");const l=await Ne(I.userInfo.systemInfo.osType.toLowerCase().replace("os",""),I.userInfo.systemInfo.osArchitecture.toLowerCase());l&&Array.isArray(l)&&(A.value=l.map(m=>({label:`Java ${m}`,value:m})),A.value.length>0&&!n.value&&(n.value=A.value[1].value)),ue.value=(await Oe(s)).map(m=>({label:`Java ${m.version}${m.is64Bit?"":" (32ä½)"} (${m.vendor} | ${m.path})`,value:m.path})),ue.value.length>0&&(Q.value=ue.value[0].value),s&&_.success("å·²åˆ·æ–°Javaç‰ˆæœ¬åˆ—è¡¨")}catch(l){_.warning("è·å–åœ¨çº¿Javaç‰ˆæœ¬å¤±è´¥: "+l.message)}};ze(()=>{le()});const i=u({name:"æ–°å»ºæ•´åˆåŒ…æœåŠ¡å™¨",path:"",java:"",core:"",coreUrl:"",coreSha256:"",coreFileKey:"",packageFileKey:"",minM:2048,maxM:6144,args:""}),te=u("GB"),ae=u("GB"),me=[{label:"MB",value:"MB"},{label:"GB",value:"GB"}],pe=de({get:()=>te.value==="GB"?i.value.minM/1024:i.value.minM,set:s=>{i.value.minM=te.value==="GB"?Math.round(s*1024):s}}),fe=de({get:()=>ae.value==="GB"?i.value.maxM/1024:i.value.maxM,set:s=>{i.value.maxM=ae.value==="GB"?Math.round(s*1024):s}});Te([z,n,Q],([s,l,m])=>{var f;s==="env"?i.value.java="java":s==="custom"||s==="local"?i.value.java=m:s==="online"&&(i.value.java=l?`MSLX://Java/${l}`:""),i.value.java&&((f=j.value)==null||f.validate({fields:["java"]}))},{immediate:!0});const Se=de(()=>({name:[{required:!0,message:"å®ä¾‹åç§°ä¸èƒ½ä¸ºç©º",trigger:"blur"}],packageFileKey:[{required:!0,message:"è¯·ä¸Šä¼ æ•´åˆåŒ…æ–‡ä»¶",trigger:"change"}],core:[{validator:s=>{if(L.value.length>0){if(!s)return{result:!1,message:"è¯·é€‰æ‹©ä¸€ä¸ªå¯åŠ¨Jar",type:"error"}}else{if($.value==="online"&&!i.value.coreUrl)return{result:!1,message:"è¯·é€‰æ‹©æœåŠ¡ç«¯æ ¸å¿ƒ",type:"error"};if($.value==="manual"&&!i.value.coreFileKey)return{result:!1,message:"è¯·ä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶",type:"error"}}return!0},trigger:"change"}],java:[{required:!0,message:"è¯·é…ç½® Java ç¯å¢ƒ",trigger:"change"}],minM:[{required:!0,min:1,message:"å¿…é¡»å¤§äº0",trigger:"blur"}],maxM:[{required:!0,min:1,message:"å¿…é¡»å¤§äº0",trigger:"blur"}]})),Ce=[["name","path"],["packageFileKey"],["core","coreUrl","coreFileKey"],["java"],["minM","maxM","args"]],_e=()=>{r.value>0&&(r.value-=1)},$e=async()=>{if(r.value===1){if(!i.value.packageFileKey){_.warning("è¯·å…ˆä¸Šä¼ æœåŠ¡ç«¯æ•´åˆåŒ…(Zip)");return}if(D.value||G.value){_.warning("è¯·ç­‰å¾…ä¸Šä¼ æˆ–åˆ†æå®Œæˆ");return}}if(r.value===2)if(L.value.length>0){if(!i.value.core){_.warning("è¯·ä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªå¯åŠ¨æ ¸å¿ƒ");return}}else{if($.value==="online"&&(!i.value.coreUrl||!i.value.core)){_.warning("è¯·é€‰æ‹©ä¸€ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒ");return}if($.value==="manual"&&!i.value.coreFileKey){_.warning("è¯·ä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶");return}}const s=await j.value.validate();if(s===!0){r.value<4&&(r.value+=1);return}const l=new Set(Ce[r.value]);Object.keys(s).some(f=>l.has(f))?_.warning("è¯·æ£€æŸ¥å½“å‰æ­¥éª¤çš„è¾“å…¥"):r.value<4&&(r.value+=1)},ge=()=>{var s;(s=ee.value)==null||s.click()},xe=s=>{if(s===0)return"0 B";const l=1024,m=["B","KB","MB","GB"],f=Math.floor(Math.log(s)/Math.log(l));return parseFloat((s/Math.pow(l,f)).toFixed(2))+" "+m[f]},Fe=async s=>{const l=s.target;if(!l.files||l.files.length===0)return;if(i.value.packageFileKey)try{await Ve(i.value.packageFileKey)}catch(f){console.error(f)}i.value.core="",L.value=[],K.value="";const m=l.files[0];O.value=m.name,ne.value=xe(m.size),await Je(m),l.value=""},Je=async s=>{D.value=!0,E.value=0;const l=5*1024*1024,m=Math.ceil(s.size/l);try{const M=(await Ze()).uploadId;if(!M)throw new Error("æ— æ³•è·å–ä¸Šä¼ å‡­è¯");for(let S=0;S<m;S++){const J=S*l,re=Math.min(s.size,J+l);await Qe(M,S,s.slice(J,re)),E.value=Math.floor((S+1)/m*100)}const V=(await We(M,m)).uploadId;i.value.packageFileKey=V,_.success("ä¸Šä¼ æˆåŠŸï¼Œæ­£åœ¨åˆ†ææ•´åˆåŒ…å†…å®¹..."),await Ke(V)}catch(f){console.error(f),_.error(`ä¸Šä¼ å¤±è´¥: ${f.message||"æœªçŸ¥é”™è¯¯"}`),O.value="",E.value=0}finally{D.value=!1}},Ke=async s=>{G.value=!0;try{const l=await nl(s);L.value=l.jars||[],K.value=l.detectedRoot||"",l.count===1&&l.jars.length>0?(i.value.core=l.jars[0],_.success(`è‡ªåŠ¨è¯†åˆ«åˆ°æœåŠ¡ç«¯æ ¸å¿ƒ: ${l.jars[0]}`)):l.count>1?_.info(`æ•´åˆåŒ…å†…æ£€æµ‹åˆ° ${l.count} ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒï¼Œè¯·åœ¨ä¸‹ä¸€æ­¥é€‰æ‹©`):_.warning("æœªæ£€æµ‹åˆ°æ•´åˆåŒ…å†…å­˜åœ¨æœåŠ¡ç«¯æ ¸å¿ƒï¼Œè¯·åœ¨ä¸‹ä¸€æ­¥æ‰‹åŠ¨é…ç½®æ ¸å¿ƒ")}catch(l){_.error("æ•´åˆåŒ…åˆ†æå¤±è´¥: "+l.message)}finally{G.value=!1}},c=async()=>{i.value.packageFileKey&&(await Ve(i.value.packageFileKey),i.value.packageFileKey="",O.value="",L.value=[],i.value.core="",_.success("æ–‡ä»¶å·²ç§»é™¤"))},t=s=>{i.value.core=s.filename,i.value.coreUrl=s.url,i.value.coreSha256=s.sha256,i.value.coreFileKey="",_.success(`å·²é€‰æ‹©: ${s.core} (${s.version})`)},y=async()=>{if(await j.value.validate()!==!0){_.warning("è¯·æ£€æŸ¥è¡¨å•æ‰€æœ‰å†…å®¹");return}R.value=!0,N.value=[];const l={...i.value,path:i.value.path||null,coreUrl:i.value.coreUrl||null,coreSha256:i.value.coreSha256||null,coreFileKey:i.value.coreFileKey||null,args:i.value.args||null};L.value.length>0?(l.coreUrl=null,l.coreSha256=null,l.coreFileKey=null):$.value==="manual"?(l.coreUrl=null,l.coreSha256=null):l.coreFileKey=null;try{const f=(await Ge(l)).serverId;if(!f)throw new Error("æœåŠ¡å™¨æœªè¿”å› ServerId");q.value=f.toString(),B.value=!0,r.value=5,await C(q.value)}catch(m){_.error(m.message||"åˆ›å»ºè¯·æ±‚å¤±è´¥"),R.value=!1}},C=async s=>{const{baseUrl:l,token:m}=I;if(!l||!m)return;const f=new URL("/api/hubs/creationProgressHub",l||window.location.origin);f.searchParams.append("x-user-token",m),F.value=new Xe().withUrl(f.toString(),{withCredentials:!1}).configureLogging(qe.Information).build(),F.value.on("StatusUpdate",(M,U,V)=>{var S,J;M.toString()===s&&(N.value.push({time:new Date().toLocaleTimeString(),message:U,progress:V}),De(()=>{T.value&&(T.value.scrollTop=T.value.scrollHeight)}),V!==null&&V>=0&&(w.value=V),V===100?(_.success("æœåŠ¡å™¨åˆ›å»ºæˆåŠŸï¼"),(S=F.value)==null||S.stop(),B.value=!1,X.value=!0,r.value=6,R.value=!1,Y.refreshInstanceList()):V===-1&&(_.error(U||"é”™è¯¯"),(J=F.value)==null||J.stop(),B.value=!1,R.value=!1,r.value=0))});try{await F.value.start(),await F.value.invoke("TrackServer",s)}catch(M){console.error("SignalR Error",M)}};return Pe(()=>{var s;(s=F.value)==null||s.stop()}),(s,l)=>{const m=d("t-step-item"),f=d("t-steps"),M=d("t-input"),U=d("t-form-item"),V=d("t-alert"),S=d("t-icon"),J=d("t-button"),re=d("t-progress"),ye=d("t-loading"),he=d("t-radio"),ve=d("t-radio-group"),oe=d("t-radio-button"),ie=d("t-select"),be=d("t-input-number"),ke=d("t-space"),we=d("t-col"),je=d("t-row"),g=d("t-textarea"),Re=d("t-form"),Ye=d("t-list-item-meta"),el=d("t-list-item"),ll=d("t-list"),tl=d("t-card");return v(),P(tl,{bordered:!1},{default:a(()=>[o("div",Zl,[o("div",Ql,[e(f,{layout:"vertical",style:{"margin-top":"16px"},current:r.value,status:"process",readonly:""},{default:a(()=>[e(m,{title:"åŸºæœ¬ä¿¡æ¯",content:"å¡«å†™å®ä¾‹åç§°"}),e(m,{title:"ä¸Šä¼ æ•´åˆåŒ…",content:"ä¸Šä¼ æœåŠ¡ç«¯ Zip åŒ…"}),e(m,{title:"æ ¸å¿ƒé…ç½®",content:"ç¡®è®¤å¯åŠ¨çš„æœåŠ¡ç«¯æ ¸å¿ƒ"}),e(m,{title:"Java ç¯å¢ƒ",content:"é…ç½® Java è¿è¡Œæ—¶"}),e(m,{title:"èµ„æºé…ç½®",content:"è®¾ç½®å†…å­˜å‚æ•°"}),e(m,{title:"åˆ›å»ºå®ä¾‹",content:"æäº¤å¹¶ç­‰å¾…è§£å‹"}),e(m,{title:"å®Œæˆ",content:"æŸ¥çœ‹ç»“æœ"})]),_:1},8,["current"])]),o("div",Wl,[!B.value&&!X.value?(v(),b("div",Yl,[e(Re,{ref_key:"formRef",ref:j,data:i.value,rules:Se.value,"label-align":"top",class:"step-form",onSubmit:y},{default:a(()=>[H(o("div",et,[e(U,{label:"å®ä¾‹åç§°",name:"name"},{default:a(()=>[e(M,{modelValue:i.value.name,"onUpdate:modelValue":l[0]||(l[0]=h=>i.value.name=h),placeholder:"ä¸ºä½ çš„æœåŠ¡å™¨èµ·ä¸ªåå­—"},null,8,["modelValue"])]),_:1}),e(U,{label:"å®ä¾‹è·¯å¾„",name:"path",help:"é€‰å¡«ï¼Œç•™ç©ºå°†ä½¿ç”¨é»˜è®¤è·¯å¾„"},{default:a(()=>[e(M,{modelValue:i.value.path,"onUpdate:modelValue":l[1]||(l[1]=h=>i.value.path=h),placeholder:"ä¾‹å¦‚: D:\\MyServer"},null,8,["modelValue"])]),_:1})],512),[[W,r.value===0]]),H(o("div",lt,[e(V,{theme:"info",class:"mb-4"},{message:a(()=>[...l[18]||(l[18]=[p(" è¯·ä¸Šä¼ åŒ…å«æœåŠ¡ç«¯æ–‡ä»¶çš„ ",-1),o("b",null,".zip",-1),p(" å‹ç¼©åŒ…ã€‚ä¸Šä¼ å®Œæˆåç³»ç»Ÿå°†è‡ªåŠ¨åˆ†æåŒ…å†…çš„æœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶ã€‚ ",-1)])]),_:1}),e(U,{label:"ä¸Šä¼ æœåŠ¡ç«¯æ•´åˆåŒ… (Zip)",name:"packageFileKey"},{default:a(()=>[o("div",tt,[o("input",{ref_key:"uploadInputRef",ref:ee,accept:".zip",type:"file",style:{display:"none"},onChange:Fe},null,544),!D.value&&!i.value.packageFileKey?(v(),P(J,{key:0,variant:"outline",onClick:ge},{icon:a(()=>[e(S,{name:"upload"})]),default:a(()=>[l[19]||(l[19]=p(" ç‚¹å‡»é€‰æ‹© Zip æ–‡ä»¶å¹¶ä¸Šä¼  ",-1))]),_:1})):k("",!0),D.value?(v(),b("div",at,[o("div",ot,"æ­£åœ¨ä¸Šä¼ : "+x(O.value)+" ("+x(ne.value)+")",1),e(re,{theme:"line",percentage:E.value},null,8,["percentage"]),l[20]||(l[20]=o("div",{class:"tip"},"åˆ«ç€æ€¥ï¼Œå–æ¯å’–å•¡â˜•ï¸...",-1))])):k("",!0),!D.value&&G.value?(v(),b("div",st,[e(ye,{text:"æ­£åœ¨åˆ†æå‹ç¼©åŒ…ç»“æ„...",size:"small"})])):k("",!0),i.value.packageFileKey&&!D.value&&!G.value?(v(),b("div",nt,[o("div",ut,[e(S,{name:"folder-zip"})]),o("div",rt,[o("div",it,x(O.value),1),o("div",dt,x(L.value.length>0?`å‘ç° ${L.value.length} ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶`:"æœªå‘ç°æœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶")+" "+x(K.value?`| æ ¹ç›®å½•: /${K.value}`:""),1)]),e(J,{shape:"circle",variant:"text",theme:"primary",onClick:ge},{icon:a(()=>[e(S,{name:"swap"})]),_:1}),e(J,{shape:"circle",variant:"text",theme:"danger",onClick:c},{icon:a(()=>[e(S,{name:"delete"})]),_:1})])):k("",!0)])]),_:1})],512),[[W,r.value===1]]),H(o("div",ct,[L.value.length>0?(v(),b("div",vt,[e(V,{theme:"success",class:"mb-4"},{message:a(()=>[...l[21]||(l[21]=[p("æˆ‘ä»¬åœ¨å‹ç¼©åŒ…ä¸­å‘ç°äº†ä»¥ä¸‹æœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶ï¼Œè¯·é€‰æ‹©å“ªä¸€ä¸ªä½œä¸º",-1),o("b",null,"å¯åŠ¨æ ¸å¿ƒ",-1),p("ã€‚",-1)])]),_:1}),e(U,{label:"é€‰æ‹©å¯åŠ¨æ ¸å¿ƒ",name:"core"},{default:a(()=>[e(ve,{modelValue:i.value.core,"onUpdate:modelValue":l[2]||(l[2]=h=>i.value.core=h),class:"vertical-radio-group"},{default:a(()=>[(v(!0),b(Be,null,Ie(L.value,h=>(v(),b("div",{key:h,class:"jar-option-item"},[e(he,{value:h},{default:a(()=>[p(x(h),1)]),_:2},1032,["value"])]))),128))]),_:1},8,["modelValue"])]),_:1})])):(v(),b("div",mt,[e(V,{theme:"warning",class:"mb-4"},{message:a(()=>[...l[22]||(l[22]=[p("åœ¨ä¸Šä¼ çš„åŒ…ä¸­æœªå‘ç°æœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶ã€‚è¯·åœ¨æ­¤å¤„ä¸‹è½½ä¸€ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒã€‚",-1)])]),_:1}),e(U,{label:"è¡¥å……æœåŠ¡ç«¯æ ¸å¿ƒ"},{default:a(()=>[e(ve,{modelValue:$.value,"onUpdate:modelValue":l[3]||(l[3]=h=>$.value=h),variant:"default-filled"},{default:a(()=>[e(oe,{value:"online"},{default:a(()=>[...l[23]||(l[23]=[p("åœ¨çº¿ä¸‹è½½æ ¸å¿ƒ",-1)])]),_:1}),e(oe,{disabled:"",value:"manual"},{default:a(()=>[...l[24]||(l[24]=[p("è‡ªè¡Œä¸Šä¼ (ä¸æ”¯æŒ)",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),$.value==="online"?(v(),b("div",pt,[e(U,{label:"é€‰æ‹©æœåŠ¡ç«¯æ ¸å¿ƒ",name:"coreUrl"},{default:a(()=>[o("div",ft,[e(J,{variant:"outline",onClick:l[4]||(l[4]=h=>Z.value=!0)},{icon:a(()=>[e(S,{name:"cloud-download"})]),default:a(()=>[l[25]||(l[25]=p(" æ‰“å¼€æ ¸å¿ƒåº“ ",-1))]),_:1}),i.value.core&&$.value==="online"?(v(),b("div",_t,[o("div",gt,[e(S,{name:"check-circle-filled"})]),o("div",yt,[o("div",ht,x(i.value.core),1),l[26]||(l[26]=o("div",{class:"core-url"},"å°†åœ¨åˆ›å»ºæ—¶è‡ªåŠ¨ä¸‹è½½",-1))])])):k("",!0)])]),_:1})])):k("",!0),$.value==="manual"?(v(),b("div",bt,[l[27]||(l[27]=o("div",{class:"tip-text"},"è¯·åœ¨æ•´åˆåŒ…è§£å‹åæ‰‹åŠ¨æ”¾å…¥æ ¸å¿ƒï¼Œæˆ–åœ¨æ­¤å¤„ä¸å¡«å†™ç­‰å¾…åˆ›å»ºåæ‰‹åŠ¨ä¸Šä¼ ã€‚",-1)),e(V,{theme:"error",message:"æ­¤æ¨¡å¼ä¸‹å»ºè®®ç¡®ä¿å‹ç¼©åŒ…å†…åŒ…å«æ ¸å¿ƒï¼Œæˆ–è€…ä½¿ç”¨åœ¨çº¿ä¸‹è½½åŠŸèƒ½ã€‚"})])):k("",!0)]))],512),[[W,r.value===2]]),H(o("div",kt,[e(V,{theme:"info",title:"å¦‚ä½•é€‰æ‹© Java ç‰ˆæœ¬?",class:"java-alert"},{message:a(()=>[...l[28]||(l[28]=[o("p",null,"ä¸åŒçš„ Minecraft ç‰ˆæœ¬éœ€è¦ä¸åŒçš„ Java ç‰ˆæœ¬ã€‚",-1),o("ul",null,[o("li",null,[p("ç›®å‰æ¨èæœ€é«˜ä½¿ç”¨ "),o("b",null,"Java 21"),p(" ï¼ŒJava 25 å¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚")]),o("li",null,"MC 1.20.5 - æœ€æ–°ç‰ˆæœ¬: éœ€è¦ Java 21 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚"),o("li",null,"MC 1.18 - 1.20.4: éœ€è¦ Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚"),o("li",null,"MC 1.17/1.17.1: éœ€è¦ Java 16ã€‚"),o("li",null,"MC 1.13 - 1.16.5: éœ€è¦ Java 8 / 11ã€‚"),o("li",null,"MC 1.12.2 åŠä»¥ä¸‹: éœ€è¦ Java 8ã€‚")],-1)])]),_:1}),e(U,{label:"Java æ¥æº",name:"java"},{default:a(()=>[o("div",wt,[e(ve,{modelValue:z.value,"onUpdate:modelValue":l[5]||(l[5]=h=>z.value=h),variant:"default-filled"},{default:a(()=>[e(oe,{value:"online"},{default:a(()=>[...l[29]||(l[29]=[p("åœ¨çº¿ä¸‹è½½",-1)])]),_:1}),e(oe,{value:"local"},{default:a(()=>[...l[30]||(l[30]=[p("æœ¬æœº Java",-1)])]),_:1}),e(oe,{value:"env"},{default:a(()=>[...l[31]||(l[31]=[p("ç¯å¢ƒå˜é‡",-1)])]),_:1}),e(oe,{value:"custom"},{default:a(()=>[...l[32]||(l[32]=[p("è‡ªå®šä¹‰è·¯å¾„",-1)])]),_:1})]),_:1},8,["modelValue"]),o("div",Vt,[z.value==="online"?(v(),b("div",Mt,[e(ie,{modelValue:n.value,"onUpdate:modelValue":l[6]||(l[6]=h=>n.value=h),options:A.value,placeholder:"è¯·é€‰æ‹© Java ç‰ˆæœ¬"},null,8,["modelValue","options"])])):k("",!0),z.value==="local"?(v(),b("div",Ut,[e(ie,{modelValue:Q.value,"onUpdate:modelValue":l[7]||(l[7]=h=>Q.value=h),options:ue.value,placeholder:"è¯·é€‰æ‹© Java"},null,8,["modelValue","options"]),e(J,{variant:"text",onClick:l[8]||(l[8]=h=>le(!0))},{default:a(()=>[...l[33]||(l[33]=[p("åˆ·æ–°",-1)])]),_:1})])):k("",!0),z.value==="env"?(v(),b("div",St,[e(M,{"model-value":"java",readonly:"",disabled:""})])):k("",!0),z.value==="custom"?(v(),b("div",Ct,[e(M,{modelValue:Q.value,"onUpdate:modelValue":l[9]||(l[9]=h=>Q.value=h),placeholder:"C:\\Path\\To\\java.exe"},null,8,["modelValue"])])):k("",!0)])])]),_:1})],512),[[W,r.value===3]]),H(o("div",$t,[e(je,{gutter:[16,24]},{default:a(()=>[e(we,{xs:12,span:6},{default:a(()=>[e(U,{label:"æœ€å°å†…å­˜",name:"minM"},{default:a(()=>[e(ke,{size:8,style:{width:"100%"}},{default:a(()=>[e(be,{modelValue:pe.value,"onUpdate:modelValue":l[10]||(l[10]=h=>pe.value=h),min:0,"decimal-places":te.value==="GB"?1:0,placeholder:"Xms",theme:"column",style:{width:"100%"}},null,8,["modelValue","decimal-places"]),e(ie,{modelValue:te.value,"onUpdate:modelValue":l[11]||(l[11]=h=>te.value=h),options:me,clearable:!1,style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(we,{xs:12,span:6},{default:a(()=>[e(U,{label:"æœ€å¤§å†…å­˜",name:"maxM"},{default:a(()=>[e(ke,{size:8,style:{width:"100%"}},{default:a(()=>[e(be,{modelValue:fe.value,"onUpdate:modelValue":l[12]||(l[12]=h=>fe.value=h),min:0,"decimal-places":ae.value==="GB"?1:0,placeholder:"Xmx",theme:"column",style:{width:"100%"}},null,8,["modelValue","decimal-places"]),e(ie,{modelValue:ae.value,"onUpdate:modelValue":l[13]||(l[13]=h=>ae.value=h),options:me,clearable:!1,style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(U,{label:"JVM å‚æ•°",name:"args",style:{"margin-top":"16px"}},{default:a(()=>[e(g,{modelValue:i.value.args,"onUpdate:modelValue":l[14]||(l[14]=h=>i.value.args=h),placeholder:"-XX:+UseG1GC"},null,8,["modelValue"])]),_:1})],512),[[W,r.value===4]]),e(U,{class:"step-actions",style:{"margin-top":"16px"}},{default:a(()=>[r.value>0?(v(),P(J,{key:0,theme:"default",onClick:_e},{default:a(()=>[...l[34]||(l[34]=[p("ä¸Šä¸€æ­¥",-1)])]),_:1})):k("",!0),r.value<4?(v(),P(J,{key:1,type:"button",loading:D.value||G.value,onClick:$e},{default:a(()=>[...l[35]||(l[35]=[p("ä¸‹ä¸€æ­¥",-1)])]),_:1},8,["loading"])):k("",!0),r.value===4?(v(),P(J,{key:2,theme:"primary",type:"submit",loading:R.value},{default:a(()=>[...l[36]||(l[36]=[p("æäº¤åˆ›å»º",-1)])]),_:1},8,["loading"])):k("",!0)]),_:1})]),_:1},8,["data","rules"])])):k("",!0),B.value?(v(),b("div",xt,[o("div",Ft,"æ­£åœ¨åˆ›å»ºæ•´åˆåŒ…å®ä¾‹ ("+x(q.value)+")",1),l[37]||(l[37]=o("p",null,"æ­£åœ¨è§£å‹æ–‡ä»¶å¹¶é…ç½®ç¯å¢ƒ...",-1)),e(re,{theme:"plump",percentage:w.value,label:`${w.value.toFixed(2)}%`},null,8,["percentage","label"]),o("div",{ref_key:"logContainerRef",ref:T,class:"log-container"},[e(ll,{split:!0},{default:a(()=>[(v(!0),b(Be,null,Ie(N.value,(h,al)=>(v(),P(el,{key:al},{default:a(()=>[e(Ye,{description:`[${h.time}] ${h.message}`},null,8,["description"])]),_:2},1024))),128))]),_:1})],512)])):k("",!0),X.value?(v(),b("div",Jt,[e(S,{class:"result-success-icon",name:"check-circle"}),l[40]||(l[40]=o("div",{class:"result-success-title"},"æ•´åˆåŒ…æœåŠ¡å™¨å·²éƒ¨ç½²æˆåŠŸ",-1)),l[41]||(l[41]=o("div",{class:"result-success-describe"},"æ–‡ä»¶å·²è§£å‹ï¼Œç¯å¢ƒå·²é…ç½®å°±ç»ª",-1)),o("div",null,[e(J,{onClick:l[15]||(l[15]=h=>se(ce)("/instance/list"))},{default:a(()=>[...l[38]||(l[38]=[p(" è¿”å›æœåŠ¡ç«¯åˆ—è¡¨ ",-1)])]),_:1}),e(J,{theme:"default",onClick:l[16]||(l[16]=h=>se(ce)(`/instance/console/${q.value}`))},{default:a(()=>[...l[39]||(l[39]=[p(" å‰å¾€æ§åˆ¶å° ",-1)])]),_:1})])])):k("",!0)])]),e(Ae,{visible:Z.value,"onUpdate:visible":l[17]||(l[17]=h=>Z.value=h),onConfirm:t},null,8,["visible"])]),_:1})}}}),jt=Le(Kt,[["__scopeId","data-v-9f2678d4"]]),Ma=Me({__name:"index",setup(Ue){const I=u(1);return(j,Y)=>{const r=d("t-tab-panel"),R=d("t-tabs"),B=d("t-card");return v(),b("div",null,[e(B,{direction:"vertical"},{default:a(()=>[e(R,{modelValue:I.value,"onUpdate:modelValue":Y[0]||(Y[0]=X=>I.value=X)},{default:a(()=>[e(r,{value:1,label:"å¿«é€Ÿæ¨¡å¼","destroy-on-hide":!1},{default:a(()=>[e(El,{style:{margin:"10px"}})]),_:1}),e(r,{value:2,label:"ä¸Šä¼ æ•´åˆåŒ…æ¨¡å¼","destroy-on-hide":!1},{default:a(()=>[e(jt,{style:{margin:"10px"}})]),_:1}),e(r,{value:3,label:"è‡ªå®šä¹‰æ¨¡å¼","destroy-on-hide":!1},{default:a(()=>[e(Hl,{style:{margin:"10px"}})]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}});export{Ma as default};
