var Qe=Object.defineProperty;var et=(t,n,s)=>n in t?Qe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s;var Te=(t,n,s)=>et(t,typeof n!="symbol"?n+"":n,s);import{C as De,D as le,F as se,G as X,H as ce,I as tt,J as P,K as G,M as nt,L as rt,N as S,O as st,U as be,P as B,Q as ot,R as Z,S as at,T as ue,V as ne}from"./index.jXwDIiIy.js";import{M as it}from"./markdown-it.Baj76ayU.js";import{r as lt}from"./markdown-it-image-figures.IpqUZCLv.js";import{s as ct}from"./markdown-it-sub.Bxi31R0z.js";import{s as ut}from"./markdown-it-sup.Bp2DoVCN.js";import{L as dt}from"./lru-cache.DJEINSmt.js";import{m as ft}from"./medium-zoom.bWEtUbjf.js";const h="md-editor",j="https://unpkg.com",pt=`${j}/@highlightjs/cdn-assets@11.10.0/highlight.min.js`,Ce={main:`${j}/prettier@3.3.3/standalone.js`,markdown:`${j}/prettier@3.3.3/plugins/markdown.js`},mt={css:`${j}/cropperjs@1.6.2/dist/cropper.min.css`,js:`${j}/cropperjs@1.6.2/dist/cropper.min.js`},ht=`${j}/screenfull@5.2.0/dist/screenfull.js`,gt=`${j}/mermaid@11.9.0/dist/mermaid.min.js`,vt={js:`${j}/katex@0.16.22/dist/katex.min.js`,css:`${j}/katex@0.16.22/dist/katex.min.css`},ye={a11y:{light:`${j}/@highlightjs/cdn-assets@11.10.0/styles/a11y-light.min.css`,dark:`${j}/@highlightjs/cdn-assets@11.10.0/styles/a11y-dark.min.css`},atom:{light:`${j}/@highlightjs/cdn-assets@11.10.0/styles/atom-one-light.min.css`,dark:`${j}/@highlightjs/cdn-assets@11.10.0/styles/atom-one-dark.min.css`},github:{light:`${j}/@highlightjs/cdn-assets@11.10.0/styles/github.min.css`,dark:`${j}/@highlightjs/cdn-assets@11.10.0/styles/github-dark.min.css`},gradient:{light:`${j}/@highlightjs/cdn-assets@11.10.0/styles/gradient-light.min.css`,dark:`${j}/@highlightjs/cdn-assets@11.10.0/styles/gradient-dark.min.css`},kimbie:{light:`${j}/@highlightjs/cdn-assets@11.10.0/styles/kimbie-light.min.css`,dark:`${j}/@highlightjs/cdn-assets@11.10.0/styles/kimbie-dark.min.css`},paraiso:{light:`${j}/@highlightjs/cdn-assets@11.10.0/styles/paraiso-light.min.css`,dark:`${j}/@highlightjs/cdn-assets@11.10.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${j}/@highlightjs/cdn-assets@11.10.0/styles/qtcreator-light.min.css`,dark:`${j}/@highlightjs/cdn-assets@11.10.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${j}/@highlightjs/cdn-assets@11.10.0/styles/stackoverflow-light.min.css`,dark:`${j}/@highlightjs/cdn-assets@11.10.0/styles/stackoverflow-dark.min.css`}},kt=`${j}/echarts@6.0.0/dist/echarts.min.js`,Ie={"zh-CN":{toolbarTips:{bold:"加粗",underline:"下划线",italic:"斜体",strikeThrough:"删除线",title:"标题",sub:"下标",sup:"上标",quote:"引用",unorderedList:"无序列表",orderedList:"有序列表",task:"任务列表",codeRow:"行内代码",code:"块级代码",link:"链接",image:"图片",table:"表格",mermaid:"mermaid图",katex:"katex公式",revoke:"后退",next:"前进",save:"保存",prettier:"美化",pageFullscreen:"浏览器全屏",fullscreen:"屏幕全屏",preview:"预览",previewOnly:"仅预览",htmlPreview:"html代码预览",catalog:"目录",github:"源码地址"},titleItem:{h1:"一级标题",h2:"二级标题",h3:"三级标题",h4:"四级标题",h5:"五级标题",h6:"六级标题"},imgTitleItem:{link:"添加链接",upload:"上传图片",clip2upload:"裁剪上传"},linkModalTips:{linkTitle:"添加链接",imageTitle:"添加图片",descLabel:"链接描述：",descLabelPlaceHolder:"请输入描述...",urlLabel:"链接地址：",urlLabelPlaceHolder:"请输入链接...",buttonOK:"确定"},clipModalTips:{title:"裁剪图片上传",buttonUpload:"上传"},copyCode:{text:"复制代码",successTips:"已复制！",failTips:"复制失败！"},mermaid:{flow:"流程图",sequence:"时序图",gantt:"甘特图",class:"类图",state:"状态图",pie:"饼图",relationship:"关系图",journey:"旅程图"},katex:{inline:"行内公式",block:"块级公式"},footer:{markdownTotal:"字数",scrollAuto:"同步滚动"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",previewOnly:"preview only",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Image Link",upload:"Upload Images",clip2upload:"Crop And Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Character Count",scrollAuto:"Scroll Auto"}}},W={editorExtensions:{highlight:{js:pt,css:ye},prettier:{standaloneJs:Ce.main,parserMarkdownJs:Ce.markdown},cropper:{...mt},screenfull:{js:ht},mermaid:{js:gt,enableZoom:!0},katex:{...vt},echarts:{js:kt}},editorExtensionsAttrs:{},editorConfig:{languageUserDefined:{},mermaidTemplate:{},renderDelay:500,zIndex:2e4},codeMirrorExtensions:t=>t,markdownItConfig:()=>{},markdownItPlugins:t=>t,mermaidConfig:t=>t,katexConfig:t=>t,echartsConfig:t=>t},bt=({instance:t,ctx:n,props:s={}},o="default")=>{const a=(t==null?void 0:t.$slots[o])||(n==null?void 0:n.slots[o]);return(a?a(t):"")||s[o]},yt="buildFinished",we="errorCatcher",de="catalogChanged",wt="pushCatalog",We="rerender",$t="taskStateChanged";class xt{constructor(){Te(this,"pools",{})}remove(n,s,o){const a=this.pools[n]&&this.pools[n][s];a&&(this.pools[n][s]=a.filter(e=>e!==o))}clear(n){this.pools[n]={}}on(n,s){return this.pools[n]||(this.pools[n]={}),this.pools[n][s.name]||(this.pools[n][s.name]=[]),this.pools[n][s.name].push(s.callback),this.pools[n][s.name].includes(s.callback)}emit(n,s,...o){this.pools[n]||(this.pools[n]={});const a=this.pools[n][s];a&&a.forEach(e=>{try{e(...o)}catch(u){console.error(`${s} monitor event exception！`,u)}})}}const D=new xt,Tt=(t,n)=>{if(!t)return t;const s=n.split(`
`),o=['<span rn-wrapper aria-hidden="true">'];return s.forEach(()=>{o.push("<span></span>")}),o.push("</span>"),`<span class="${h}-code-block">${t}</span>${o.join("")}`},Ct={copy:`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy ${h}-icon"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>`,"collapse-tips":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-chevron-left ${h}-icon"><circle cx="12" cy="12" r="10"/><path d="m14 16-4-4 4-4"/></svg>`,pin:`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pin ${h}-icon"><path d="M12 17v5"/><path d="M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z"/></svg>`,"pin-off":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pin-off ${h}-icon"><path d="M12 17v5"/><path d="M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89"/><path d="m2 2 20 20"/><path d="M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11"/></svg>`,check:`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check ${h}-icon"><path d="M20 6 9 17l-5-5"/></svg>`},Y=(t,n)=>typeof n[t]=="string"?n[t]:Ct[t],Q=(t,n,s="")=>{var a;const o=document.getElementById(n.id);if(o)s!==""&&(Reflect.get(window,s)?(a=n.onload)==null||a.call(o,new Event("load")):n.onload&&o.addEventListener("load",n.onload));else{const e={...n};e.onload=null;const u=Lt(t,e);n.onload&&u.addEventListener("load",n.onload),document.head.appendChild(u)}},It=(t,n)=>{var s;(s=document.getElementById(n.id))==null||s.remove(),Q(t,n)},Lt=(t,n)=>{const s=document.createElement(t);return Object.keys(n).forEach(o=>{n[o]!==void 0&&(s[o]=n[o])}),s},At=(t,n)=>{const s=new Map;return t==null||t.forEach(o=>{let a=o.querySelector(`.${h}-mermaid-action`);a?a.querySelector(`.${h}-mermaid-copy`)||a.insertAdjacentHTML("beforeend",`<span class="${h}-mermaid-copy">${Y("copy",n.customIcon)}</span>`):(o.insertAdjacentHTML("beforeend",`<div class="${h}-mermaid-action"><span class="${h}-mermaid-copy">${Y("copy",n.customIcon)}</span></div>`),a=o.querySelector(`.${h}-mermaid-action`));const e=a.querySelector(`.${h}-mermaid-copy`);let u=-1;const d=()=>{clearTimeout(u),De(o.dataset.content||"").then(()=>{e.innerHTML=Y("check",n.customIcon)}).catch(()=>{e.innerHTML=Y("copy",n.customIcon)}).finally(()=>{u=window.setTimeout(()=>{e.innerHTML=Y("copy",n.customIcon)},1500)})};e.addEventListener("click",d),s.set(o,{removeClick:()=>{e.removeEventListener("click",d)}})}),()=>{s.forEach(({removeClick:o})=>{o==null||o()}),s.clear()}},St=(()=>{const t=n=>{if(!n)return()=>{};const s=n.firstChild;let o=1,a=0,e=0,u=!1,d,c,k,f=1;const r=()=>{s.style.transform=`translate(${a}px, ${e}px) scale(${o})`},i=y=>{y.touches.length===1?(u=!0,d=y.touches[0].clientX-a,c=y.touches[0].clientY-e):y.touches.length===2&&(k=Math.hypot(y.touches[0].clientX-y.touches[1].clientX,y.touches[0].clientY-y.touches[1].clientY),f=o)},l=y=>{if(y.preventDefault(),u&&y.touches.length===1)a=y.touches[0].clientX-d,e=y.touches[0].clientY-c,r();else if(y.touches.length===2){const T=Math.hypot(y.touches[0].clientX-y.touches[1].clientX,y.touches[0].clientY-y.touches[1].clientY)/k,x=o;o=f*(1+(T-1));const L=(y.touches[0].clientX+y.touches[1].clientX)/2,E=(y.touches[0].clientY+y.touches[1].clientY)/2,R=s.getBoundingClientRect(),V=(L-R.left)/x,F=(E-R.top)/x;a-=V*(o-x),e-=F*(o-x),r()}},p=()=>{u=!1},v=y=>{y.preventDefault();const T=.02,x=o;y.deltaY<0?o+=T:o=Math.max(.1,o-T);const L=s.getBoundingClientRect(),E=y.clientX-L.left,R=y.clientY-L.top;a-=E/x*(o-x),e-=R/x*(o-x),r()},m=y=>{u=!0,d=y.clientX-a,c=y.clientY-e},I=y=>{u&&(a=y.clientX-d,e=y.clientY-c,r())},b=()=>{u=!1},$=()=>{u=!1};return n.addEventListener("touchstart",i,{passive:!1}),n.addEventListener("touchmove",l,{passive:!1}),n.addEventListener("touchend",p),n.addEventListener("wheel",v,{passive:!1}),n.addEventListener("mousedown",m),n.addEventListener("mousemove",I),n.addEventListener("mouseup",b),n.addEventListener("mouseleave",$),()=>{n.removeEventListener("touchstart",i),n.removeEventListener("touchmove",l),n.removeEventListener("touchend",p),n.removeEventListener("wheel",v),n.removeEventListener("mousedown",m),n.removeEventListener("mousemove",I),n.removeEventListener("mouseup",b),n.removeEventListener("mouseleave",$)}};return(n,s)=>{const o=new Map;return n==null||n.forEach(a=>{let e=a.querySelector(`.${h}-mermaid-action`);e?e.querySelector(`.${h}-mermaid-zoom`)||e.insertAdjacentHTML("beforeend",`<span class="${h}-mermaid-zoom">${Y("pin-off",s.customIcon)}</span>`):(a.insertAdjacentHTML("beforeend",`<div class="${h}-mermaid-action"><span class="${h}-mermaid-zoom">${Y("pin-off",s.customIcon)}</span></div>`),e=a.querySelector(`.${h}-mermaid-action`));const u=e.querySelector(`.${h}-mermaid-zoom`),d=()=>{const c=o.get(a);if(c!=null&&c.removeEvent)c.removeEvent(),a.removeAttribute("data-grab"),o.set(a,{removeClick:c.removeClick}),u.innerHTML=Y("pin-off",s.customIcon);else{const k=t(a);a.setAttribute("data-grab",""),o.set(a,{removeEvent:k,removeClick:c==null?void 0:c.removeClick}),u.innerHTML=Y("pin",s.customIcon)}};u.addEventListener("click",d),o.set(a,{removeClick:()=>u.removeEventListener("click",d)})}),()=>{o.forEach(({removeEvent:a,removeClick:e})=>{a==null||a(),e==null||e()}),o.clear()}}})(),J={hljs:`${h}-hljs`,hlcss:`${h}-hlCss`,mermaidM:`${h}-mermaid-m`,mermaid:`${h}-mermaid`,katexjs:`${h}-katex`,katexcss:`${h}-katexCss`,echarts:`${h}-echarts`},Et=(t,{editorId:n,rootRef:s,setting:o})=>{const a=W.editorExtensions.highlight,e=W.editorExtensionsAttrs.highlight;P("editorId",n),P("rootRef",s),P("theme",G(()=>t.theme)),P("language",G(()=>t.language)),P("highlight",G(()=>{const{js:d}=a,c={...ye,...a.css},{js:k,css:f={}}=e||{},r=t.codeStyleReverse&&t.codeStyleReverseList.includes(t.previewTheme)?"dark":t.theme,i=c[t.codeTheme]?c[t.codeTheme][r]:ye.atom[r],l=c[t.codeTheme]&&f[t.codeTheme]?f[t.codeTheme][r]:f.atom?f.atom[r]:{};return{js:{src:d,...k},css:{href:i,...l}}})),P("showCodeRowNumber",t.showCodeRowNumber);const u=G(()=>{const d={...Ie,...W.editorConfig.languageUserDefined};return nt(rt(Ie["en-US"]),d[t.language]||{})});return P("usedLanguageText",u),P("previewTheme",G(()=>t.previewTheme)),P("customIcon",G(()=>t.customIcon)),P("setting",G(()=>o?{...o}:{preview:!0,htmlPreview:!1,previewOnly:!1,pageFullscreen:!1,fullscreen:!1})),{editorId:n}},jt=t=>{const n=tt();return t.id||t.editorId||`${h}-${n}`},Mt=(t,n,s)=>{const o=S("editorId"),a=S("rootRef"),e=S("usedLanguageText"),u=S("setting"),d=()=>{a.value.querySelectorAll(`#${o} .${h}-preview .${h}-code`).forEach(f=>{let r=-1;const i=f.querySelector(`.${h}-copy-button`);i&&(i.onclick=l=>{l.preventDefault(),clearTimeout(r);const p=(f.querySelector("input:checked + pre code")||f.querySelector("pre code")).textContent,{text:v,successTips:m,failTips:I}=e.value.copyCode;let b=m;De(t.formatCopiedText(p||"")).catch(()=>{b=I}).finally(()=>{i.dataset.isIcon?i.dataset.tips=b:i.innerHTML=b,r=window.setTimeout(()=>{i.dataset.isIcon?i.dataset.tips=v:i.innerHTML=v},1500)})})})},c=()=>{ne(d)},k=f=>{f&&ne(d)};B([n,s],c),B(()=>u.value.preview,k),B(()=>u.value.htmlPreview,k),Z(d)},Ht=t=>{const n=S("editorId"),s=S("theme"),o=S("rootRef"),{editorExtensions:a,editorExtensionsAttrs:e}=W;let u=a.echarts.instance;const d=ue(-1),c=()=>{!t.noEcharts&&u&&(d.value=d.value+1)};B(()=>s.value,()=>{c()}),Z(()=>{var v;if(t.noEcharts||u)return;const p=a.echarts.js;Q("script",{...(v=e.echarts)==null?void 0:v.js,src:p,id:J.echarts,onload(){u=window.echarts,c()}},"echarts")});let k,f=[],r=[];const i=()=>{f.forEach(p=>{p.dispose()}),r.forEach(p=>{p.disconnect()}),f=[],k=[],r=[]},l=()=>{i(),!t.noEcharts&&u&&(k=Array.from(o.value.querySelectorAll(`#${n} div.${h}-echarts:not([data-processed])`)),k.forEach(p=>{if(p.dataset.closed==="false")return!1;try{const v=new Function(`return ${p.innerText}`)(),m=u.init(p,s.value);m.setOption(v),p.setAttribute("data-processed",""),f.push(m);const I=new ResizeObserver(()=>{m.resize()});I.observe(p),r.push(I)}catch(v){D.emit(n,we,{name:"echarts",message:v==null?void 0:v.message,error:v})}}))};return ce(()=>{i()}),{reRenderEcharts:d,replaceEcharts:l}},Ft=t=>{const n=S("highlight"),s=ue(W.editorExtensions.highlight.instance);return Z(()=>{t.noHighlight||s.value||(Q("link",{...n.value.css,rel:"stylesheet",id:J.hlcss}),Q("script",{...n.value.js,id:J.hljs,onload(){s.value=window.hljs}},"hljs"))}),B(()=>n.value.css,()=>{t.noHighlight||W.editorExtensions.highlight.instance||It("link",{...n.value.css,rel:"stylesheet",id:J.hlcss})}),s},Rt=t=>{const n=ue(W.editorExtensions.katex.instance);return Z(()=>{var a,e;if(t.noKatex||n.value)return;const{editorExtensions:s,editorExtensionsAttrs:o}=W;Q("script",{...(a=o.katex)==null?void 0:a.js,src:s.katex.js,id:J.katexjs,onload(){n.value=window.katex}},"katex"),Q("link",{...(e=o.katex)==null?void 0:e.css,rel:"stylesheet",href:s.katex.css,id:J.katexcss})}),n},ae=new dt({max:1e3,ttl:6e5}),Ot=t=>{const n=S("editorId"),s=S("theme"),o=S("rootRef"),{editorExtensions:a,editorExtensionsAttrs:e,mermaidConfig:u}=W;let d=a.mermaid.instance;const c=ue(-1),k=()=>{!t.noMermaid&&d&&(d.initialize(u({startOnLoad:!1,theme:s.value==="dark"?"dark":"default"})),c.value=c.value+1)};return B(()=>s.value,()=>{ae.clear(),k()}),Z(()=>{var r,i;if(t.noMermaid||d)return;const f=a.mermaid.js;/\.mjs/.test(f)?(Q("link",{...(r=e.mermaid)==null?void 0:r.js,rel:"modulepreload",href:f,id:J.mermaidM}),import(f).then(l=>{d=l.default,k()}).catch(l=>{D.emit(n,we,{name:"mermaid",message:`Failed to load mermaid module: ${l.message}`,error:l})})):Q("script",{...(i=e.mermaid)==null?void 0:i.js,src:f,id:J.mermaid,onload(){d=window.mermaid,k()}},"mermaid")}),{reRenderRef:c,replaceMermaid:async()=>{if(!t.noMermaid&&d){const f=o.value.querySelectorAll(`div.${h}-mermaid`),r=document.createElement("div"),i=document.body.offsetWidth>1366?document.body.offsetWidth:1366,l=document.body.offsetHeight>768?document.body.offsetHeight:768;r.style.width=i+"px",r.style.height=l+"px",r.style.position="fixed",r.style.zIndex="-10000",r.style.top="-10000";let p=f.length;p>0&&document.body.appendChild(r),await Promise.allSettled(Array.from(f).map(v=>(async m=>{var $;if(m.dataset.closed==="false")return!1;const I=m.innerText;let b=ae.get(I);if(!b){const y=be();let T={svg:""};try{T=await d.render(y,I,r),b=await t.sanitizeMermaid(T.svg);const x=document.createElement("p");x.className=`${h}-mermaid`,x.setAttribute("data-processed",""),x.setAttribute("data-content",I),x.innerHTML=b,($=x.children[0])==null||$.removeAttribute("height"),ae.set(I,x.innerHTML),m.dataset.line!==void 0&&(x.dataset.line=m.dataset.line),m.replaceWith(x)}catch(x){D.emit(n,we,{name:"mermaid",message:x.message,error:x})}--p===0&&r.remove()}})(v)))}}}},zt=(t,n)=>{n=n||{};const s=3,o=n.marker||"!",a=o.charCodeAt(0),e=o.length;let u="",d="";const c=(f,r,i,l,p)=>{const v=f[r];return v.type==="admonition_open"?f[r].attrPush(["class",`${h}-admonition ${h}-admonition-${v.info}`]):v.type==="admonition_title_open"&&f[r].attrPush(["class",`${h}-admonition-title`]),p.renderToken(f,r,i)},k=f=>{const r=f.trim().split(" ",2);d="",u=r[0],r.length>1&&(d=f.substring(u.length+2))};t.block.ruler.before("code","admonition",(f,r,i,l)=>{let p,v,m,I=!1,b=f.bMarks[r]+f.tShift[r],$=f.eMarks[r];if(a!==f.src.charCodeAt(b))return!1;for(p=b+1;p<=$&&o[(p-b)%e]===f.src[p];p++);const y=Math.floor((p-b)/e);if(y!==s)return!1;p-=(p-b)%e;const T=f.src.slice(b,p),x=f.src.slice(p,$);if(k(x),l)return!0;for(v=r;v++,!(v>=i||(b=f.bMarks[v]+f.tShift[v],$=f.eMarks[v],b<$&&f.sCount[v]<f.blkIndent));)if(a===f.src.charCodeAt(b)&&!(f.sCount[v]-f.blkIndent>=4)){for(p=b+1;p<=$&&o[(p-b)%e]===f.src[p];p++);if(!(Math.floor((p-b)/e)<y)&&(p-=(p-b)%e,p=f.skipSpaces(p),!(p<$))){I=!0;break}}const L=f.parentType,E=f.lineMax;return f.parentType="root",f.lineMax=v,m=f.push("admonition_open","div",1),m.markup=T,m.block=!0,m.info=u,m.map=[r,v],d&&(m=f.push("admonition_title_open","p",1),m.markup=T+" "+u,m.map=[r,v],m=f.push("inline","",0),m.content=d,m.map=[r,f.line-1],m.children=[],m=f.push("admonition_title_close","p",-1),m.markup=T+" "+u),f.md.block.tokenize(f,r+1,v),m=f.push("admonition_close","div",-1),m.markup=f.src.slice(b,p),m.block=!0,f.parentType=L,f.lineMax=E,f.line=v+(I?1:0),!0},{alt:["paragraph","reference","blockquote","list"]}),t.renderer.rules.admonition_open=c,t.renderer.rules.admonition_title_open=c,t.renderer.rules.admonition_title_close=c,t.renderer.rules.admonition_close=c},ie=(t,n)=>{const s=t.attrs?t.attrs.slice():[];return n.forEach(o=>{const a=t.attrIndex(o[0]);a<0?s.push(o):(s[a]=s[a].slice(),s[a][1]+=` ${o[1]}`)}),s},_t=(t,n)=>{const s=t.renderer.rules.fence,o=t.utils.unescapeAll,a=/\[(\w*)(?::([\w ]*))?\]/,e=/::(open|close)/,u=r=>r.info?o(r.info).trim():"",d=r=>{const i=u(r),[l=null,p=""]=(a.exec(i)||[]).slice(1);return[l,p]},c=r=>{const i=u(r);return i?i.split(/(\s+)/g)[0]:""},k=r=>{const i=r.info.match(e)||[],l=i[1]==="open"||i[1]!=="close"&&n.codeFoldable&&r.content.trim().split(`
`).length<n.autoFoldThreshold,p=i[1]||n.codeFoldable?"details":"div",v=i[1]||n.codeFoldable?"summary":"div";return{open:l,tagContainer:p,tagHeader:v}},f=(r,i,l,p,v)=>{var A;if(r[i].hidden)return"";const m=(A=n.usedLanguageTextRef.value)==null?void 0:A.copyCode.text,I=n.customIconRef.value.copy||m,b=!!n.customIconRef.value.copy,$=`<span class="${h}-collapse-tips">${Y("collapse-tips",n.customIconRef.value)}</span>`,[y]=d(r[i]);if(y===null){const{open:g,tagContainer:C,tagHeader:O}=k(r[i]),N=[["class",`${h}-code`]];g&&N.push(["open",""]);const _={attrs:ie(r[i],N)};r[i].info=r[i].info.replace(e,"");const ee=s(r,i,l,p,v);return`
        <${C} ${v.renderAttrs(_)}>
          <${O} class="${h}-code-head">
            <div class="${h}-code-flag"><span></span><span></span><span></span></div>
            <div class="${h}-code-action">
              <span class="${h}-code-lang">${t.utils.escapeHtml(r[i].info.trim())}</span>
              <span class="${h}-copy-button" data-tips="${m}"${b?" data-is-icon=true":""}>${I}</span>
              ${n.extraTools instanceof Function?n.extraTools({lang:r[i].info.trim()}):n.extraTools||""}
              ${C==="details"?$:""}
            </div>
          </${O}>
          ${ee}
        </${C}>
      `}let T,x,L,E,R="",V="",F="";const{open:z,tagContainer:K,tagHeader:q}=k(r[i]),H=[["class",`${h}-code`]];z&&H.push(["open",""]);const w={attrs:ie(r[i],H)};for(let g=i;g<r.length&&(T=r[g],[x,L]=d(T),x===y);g++){T.info=T.info.replace(a,"").replace(e,""),T.hidden=!0;const C=`${h}-codetab-${n.editorId}-${i}-${g-i}`;E=g-i>0?"":"checked",R+=`
        <li>
          <input
            type="radio"
            id="label-${h}-codetab-label-1-${n.editorId}-${i}-${g-i}"
            name="${h}-codetab-label-${n.editorId}-${i}"
            class="${C}"
            ${E}
          >
          <label
            for="label-${h}-codetab-label-1-${n.editorId}-${i}-${g-i}"
            onclick="this.getRootNode().querySelectorAll('.${C}').forEach(e => e.click())"
          >
            ${t.utils.escapeHtml(L||c(T))}
          </label>
        </li>`,V+=`
        <div role="tabpanel">
          <input
            type="radio"
            name="${h}-codetab-pre-${n.editorId}-${i}"
            class="${C}"
            ${E}
            role="presentation">
          ${s(r,g,l,p,v)}
        </div>`,F+=`
        <input
          type="radio"
          name="${h}-codetab-lang-${n.editorId}-${i}"
          class="${C}"
          ${E}
          role="presentation">
        <span class=${h}-code-lang role="note">${t.utils.escapeHtml(c(T))}</span>`}return`
      <${K} ${v.renderAttrs(w)}>
        <${q} class="${h}-code-head">
          <div class="${h}-code-flag">
            <ul class="${h}-codetab-label" role="tablist">${R}</ul>
          </div>
          <div class="${h}-code-action">
            <span class="${h}-codetab-lang">${F}</span>
            <span class="${h}-copy-button" data-tips="${m}"${b?" data-is-icon=true":""}>${I}</span>
            ${n.extraTools instanceof Function?n.extraTools({lang:r[i].info.trim()}):n.extraTools||""}
            ${K==="details"?$:""}
          </div>
        </${q}>
        ${V}
      </${K}>
    `};t.renderer.rules.fence=f,t.renderer.rules.code_block=f},Bt=(t,n)=>{const s=t.renderer.rules.fence.bind(t.renderer.rules);t.renderer.rules.fence=(o,a,e,u,d)=>{var f,r;const c=o[a],k=c.content.trim();if(c.info==="echarts"){if(c.attrSet("class",`${h}-echarts`),c.attrSet("data-echarts-theme",n.themeRef.value),c.map&&c.level===0){const i=c.map[1]-1,l=!!((r=(f=u.srcLines[i])==null?void 0:f.trim())!=null&&r.startsWith("```"));c.attrSet("data-closed",`${l}`),c.attrSet("data-line",String(c.map[0]))}return`<div ${d.renderAttrs(c)} style="width: 100%; aspect-ratio: 4 / 3;">${t.utils.escapeHtml(k)}</div>`}return s(o,a,e,u,d)}},Vt=(t,n)=>{t.renderer.rules.heading_open=(s,o)=>{var d;const a=s[o],e=((d=s[o+1].children)==null?void 0:d.reduce((c,k)=>c+(["text","code_inline","math_inline"].includes(k.type)&&k.content||""),""))||"",u=a.markup.length;return n.headsRef.value.push({text:e,level:u,line:a.map[0],currentToken:a,nextToken:s[o+1]}),a.map&&a.level===0&&a.attrSet("id",n.mdHeadingId({text:e,level:u,index:n.headsRef.value.length,currentToken:a,nextToken:s[o+1]})),t.renderer.renderToken(s,o,n)},t.renderer.rules.heading_close=(s,o,a,e,u)=>u.renderToken(s,o,a)},Le={block:[{open:"$$",close:"$$"},{open:"\\[",close:"\\]"}],inline:[{open:"$$",close:"$$"},{open:"$",close:"$"},{open:"\\[",close:"\\]"},{open:"\\(",close:"\\)"}]},qt=t=>(n,s)=>{const o=t.delimiters;let a,e,u;for(const d of o)if(n.src.startsWith(d.open,n.pos)){const c=n.pos+d.open.length;for(a=c;(a=n.src.indexOf(d.close,a))!==-1;){for(u=a-1;n.src[u]==="\\";)u-=1;if((a-u)%2===1)break;a+=d.close.length}if(a===-1)return s||(n.pending+=d.open),n.pos=c,!0;if(a-c===0)return s||(n.pending+=d.open+d.close),n.pos=c+d.close.length,!0;if(!s){const k=n.src.slice(c,a);e=n.push("math_inline","math",0),e.markup=d.open,e.content=k}return n.pos=a+d.close.length,!0}return!1},Nt=t=>(n,s,o,a)=>{const e=t.delimiters;let u,d,c,k,f=!1,r=n.bMarks[s]+n.tShift[s],i=n.eMarks[s];for(const l of e)if(n.src.slice(r,r+l.open.length)===l.open&&n.src.slice(i-l.close.length,i)===l.close){if(r+=l.open.length,u=n.src.slice(r,i),a)return!0;for(u.trim().slice(-l.close.length)===l.close&&(u=u.trim().slice(0,-l.close.length),f=!0),c=s;!f&&(c++,!(c>=o||(r=n.bMarks[c]+n.tShift[c],i=n.eMarks[c],r<i&&n.tShift[c]<n.blkIndent)));)n.src.slice(r,i).trim().slice(-l.close.length)===l.close&&(k=n.src.slice(0,i).lastIndexOf(l.close),d=n.src.slice(r,k),f=!0);n.line=c+1;const p=n.push("math_block","math",0);return p.block=!0,p.content=(u&&u.trim()?u+`
`:"")+n.getLines(s+1,c,n.tShift[s],!0)+(d&&d.trim()?d:""),p.map=[s,n.line],p.markup=l.open,!0}return!1},Dt=(t,{katexRef:n,inlineDelimiters:s,blockDelimiters:o})=>{const a=(u,d,c,k,f)=>{const r=u[d],i={attrs:ie(r,[["class",`${h}-katex-inline`]])};if(n.value){const l=n.value.renderToString(r.content,W.katexConfig({throwOnError:!1}));return`<span ${f.renderAttrs(i)} data-processed>${l}</span>`}else return`<span ${f.renderAttrs(i)}>${r.content}</span>`},e=(u,d,c,k,f)=>{const r=u[d],i={attrs:ie(r,[["class",`${h}-katex-block`]])};if(n.value){const l=n.value.renderToString(r.content,W.katexConfig({throwOnError:!1,displayMode:!0}));return`<p ${f.renderAttrs(i)} data-processed>${l}</p>`}else return`<p ${f.renderAttrs(i)}>${r.content}</p>`};t.inline.ruler.before("escape","math_inline",qt({delimiters:s||Le.inline})),t.block.ruler.after("blockquote","math_block",Nt({delimiters:o||Le.block}),{alt:["paragraph","reference","blockquote","list"]}),t.renderer.rules.math_inline=a,t.renderer.rules.math_block=e},Wt=(t,n)=>{const s=t.renderer.rules.fence.bind(t.renderer.rules);t.renderer.rules.fence=(o,a,e,u,d)=>{var f,r;const c=o[a],k=c.content.trim();if(c.info==="mermaid"){if(c.attrSet("class",`${h}-mermaid`),c.attrSet("data-mermaid-theme",n.themeRef.value),c.map&&c.level===0){const l=c.map[1]-1,p=!!((r=(f=u.srcLines[l])==null?void 0:f.trim())!=null&&r.startsWith("```"));c.attrSet("data-closed",`${p}`),c.attrSet("data-line",String(c.map[0]))}const i=ae.get(k);return i?(c.attrSet("data-processed",""),c.attrSet("data-content",k),`<p ${d.renderAttrs(c)}>${i}</p>`):`<div ${d.renderAttrs(c)}>${t.utils.escapeHtml(k)}</div>`}return s(o,a,e,u,d)}},Ae=(t,n,s)=>{const o=t.attrIndex(n),a=[n,s];o<0?t.attrPush(a):(t.attrs=t.attrs||[],t.attrs[o]=a)},Pt=t=>t.type==="inline",Xt=t=>t.type==="paragraph_open",Yt=t=>t.type==="list_item_open",Kt=t=>t.content.indexOf("[ ] ")===0||t.content.indexOf("[x] ")===0||t.content.indexOf("[X] ")===0,Ut=(t,n)=>Pt(t[n])&&Xt(t[n-1])&&Yt(t[n-2])&&Kt(t[n]),Zt=(t,n)=>{const s=t[n].level-1;for(let o=n-1;o>=0;o--)if(t[o].level===s)return o;return-1},Gt=t=>{const n=new t("html_inline","",0);return n.content="<label>",n},Jt=t=>{const n=new t("html_inline","",0);return n.content="</label>",n},Qt=(t,n,s)=>{const o=new s("html_inline","",0);return o.content='<label class="task-list-item-label" for="'+n+'">'+t+"</label>",o.attrs=[["for",n]],o},en=(t,n,s)=>{const o=new n("html_inline","",0),a=s.enabled?" ":' disabled="" ';return t.content.indexOf("[ ] ")===0?o.content='<input class="task-list-item-checkbox"'+a+'type="checkbox">':(t.content.indexOf("[x] ")===0||t.content.indexOf("[X] ")===0)&&(o.content='<input class="task-list-item-checkbox" checked=""'+a+'type="checkbox">'),o},tn=(t,n,s)=>{if(t.children=t.children||[],t.children.unshift(en(t,n,s)),t.children[1].content=t.children[1].content.slice(3),t.content=t.content.slice(3),s.label)if(s.labelAfter){t.children.pop();const o="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);t.children[0].content=t.children[0].content.slice(0,-1)+' id="'+o+'">',t.children.push(Qt(t.content,o,n))}else t.children.unshift(Gt(n)),t.children.push(Jt(n))},nn=(t,n={})=>{t.core.ruler.after("inline","github-task-lists",s=>{const o=s.tokens;for(let a=2;a<o.length;a++)Ut(o,a)&&(tn(o[a],s.Token,n),Ae(o[a-2],"class","task-list-item"+(n.enabled?" enabled":" ")),Ae(o[Zt(o,a-2)],"class","contains-task-list"))})},rn=t=>{t.core.ruler.push("init-line-number",n=>(n.tokens.forEach(s=>{s.map&&(s.attrs||(s.attrs=[]),s.attrs.push(["data-line",s.map[0].toString()]))}),!0))},sn=(t,n)=>{const{editorConfig:s,markdownItPlugins:o}=W,a=S("editorId"),e=S("language"),u=S("usedLanguageText"),d=S("showCodeRowNumber"),c=S("theme"),k=S("customIcon"),f=S("rootRef"),r=S("setting"),i=se([]),l=Ft(t),p=Rt(t),{reRenderRef:v,replaceMermaid:m}=Ot(t),{reRenderEcharts:I,replaceEcharts:b}=Ht(t),$=it({html:!0,breaks:!0,linkify:!0}),y=[{type:"image",plugin:lt,options:{figcaption:!0,classes:"md-zoom"}},{type:"admonition",plugin:zt,options:{}},{type:"taskList",plugin:nn,options:{}},{type:"heading",plugin:Vt,options:{mdHeadingId:t.mdHeadingId,headsRef:i}},{type:"code",plugin:_t,options:{editorId:a,usedLanguageTextRef:u,codeFoldable:t.codeFoldable,autoFoldThreshold:t.autoFoldThreshold,customIconRef:k}},{type:"sub",plugin:ct,options:{}},{type:"sup",plugin:ut,options:{}}];t.noKatex||y.push({type:"katex",plugin:Dt,options:{katexRef:p}}),t.noMermaid||y.push({type:"mermaid",plugin:Wt,options:{themeRef:c}}),t.noEcharts||y.push({type:"echarts",plugin:Bt,options:{themeRef:c}}),o(y,{editorId:a}).forEach(H=>{$.use(H.plugin,H.options)});const T=$.options.highlight;$.set({highlight:(H,w,A)=>{if(T){const O=T(H,w,A);if(O)return O}let g;!t.noHighlight&&l.value?l.value.getLanguage(w)?g=l.value.highlight(H,{language:w,ignoreIllegals:!0}).value:g=l.value.highlightAuto(H).value:g=$.utils.escapeHtml(H);const C=d?Tt(g.replace(/^\n+|\n+$/g,""),H.replace(/^\n+|\n+$/g,"")):`<span class="${h}-code-block">${g.replace(/^\n+|\n+$/g,"")}</span>`;return`<pre><code class="language-${w}" language=${w}>${C}</code></pre>`}}),rn($);const x=se(`_article-key_${be()}`),L=se(t.sanitize($.render(t.modelValue,{srcLines:t.modelValue.split(`
`)})));let E=()=>{},R=()=>{};const V=()=>{var w;const H=(w=f.value)==null?void 0:w.querySelectorAll(`#${a} p.${h}-mermaid:not([data-closed=false])`);R(),R=At(H,{customIcon:k.value}),E(),E=St(H,{customIcon:k.value})},F=()=>{D.emit(a,yt,L.value),t.onHtmlChanged(L.value),t.onGetCatalog(i.value),D.emit(a,de,i.value),ne(()=>{m().then(V),b()})},z=()=>{i.value=[],L.value=t.sanitize($.render(t.modelValue,{srcLines:t.modelValue.split(`
`)}))},K=G(()=>(t.noKatex||!!p.value)&&(t.noHighlight||!!l.value));let q=-1;return B([ot(t,"modelValue"),K,v,e],()=>{q=window.setTimeout(()=>{z()},n?0:s.renderDelay)}),B(()=>r.value.preview,()=>{r.value.preview&&ne(()=>{m().then(V),b(),D.emit(a,de,i.value)})}),B([L,I],()=>{F()}),Z(F),Z(()=>{D.on(a,{name:wt,callback(){D.emit(a,de,i.value)}}),D.on(a,{name:We,callback:()=>{x.value=`_article-key_${be()}`,z()}})}),ce(()=>{E(),R(),clearTimeout(q)}),{html:L,key:x}},on=(t,n)=>{const s=S("editorId"),o=S("setting"),{noImgZoomIn:a}=t,e=at(()=>{const u=document.querySelectorAll(`#${s}-preview img:not(.not-zoom):not(.medium-zoom-image)`);u.length!==0&&ft(u,{background:"#00000073"})});Z(async()=>{!a&&o.value.preview&&await e()}),B([n,()=>o.value.preview],async()=>{!a&&o.value.preview&&await e()})},Se={checked:{regexp:/- \[x\]/,value:"- [ ]"},unChecked:{regexp:/- \[\s\]/,value:"- [x]"}},an=(t,n)=>{const s=S("editorId"),o=S("rootRef");let a=()=>{};const e=()=>{if(!o.value)return!1;const u=o.value.querySelectorAll(".task-list-item.enabled"),d=c=>{var p;c.preventDefault();const k=c.target.checked?"unChecked":"checked",f=(p=c.target.parentElement)==null?void 0:p.dataset.line;if(!f)return;const r=Number(f),i=t.modelValue.split(`
`),l=i[Number(r)].replace(Se[k].regexp,Se[k].value);t.previewOnly?(i[Number(r)]=l,t.onChange(i.join(`
`))):D.emit(s,$t,r+1,l)};u.forEach(c=>{c.addEventListener("click",d)}),a=()=>{u.forEach(c=>{c.removeEventListener("click",d)})}};ce(()=>{a()}),B([n],()=>{a(),ne(e)},{immediate:!0})},ln=(t,n,s)=>{const o=S("setting"),a=()=>{ne(()=>{var u;(u=t.onRemount)==null||u.call(t)})},e=u=>{u&&a()};B([n,s],a),B(()=>o.value.preview,e),B(()=>o.value.htmlPreview,e),Z(a)},Pe={modelValue:{type:String,default:""},onChange:{type:Function,default:()=>{}},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},mdHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:t=>t},noKatex:{type:Boolean,default:!1},formatCopiedText:{type:Function,default:t=>t},noHighlight:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean},sanitizeMermaid:{type:Function},codeFoldable:{type:Boolean},autoFoldThreshold:{type:Number},onRemount:{type:Function},noEcharts:{type:Boolean}};({...Pe});const cn=t=>{const n=new DOMParser().parseFromString(t,"text/html");return Array.from(n.body.childNodes)},un=(t,n)=>{const s=[],o=[];if(t.forEach((a,e)=>{const u=n[e];if(!u){s.push({index:e,newNode:a});return}(a.nodeType!==u.nodeType||a.textContent!==u.textContent||a.nodeType===1&&a.outerHTML!==u.outerHTML)&&s.push({index:e,newNode:a})}),n.length>t.length)for(let a=t.length;a<n.length;a++)o.push(n[a]);return{updates:s,deletes:o}},Ee=le({name:"UpdateOnDemand",props:{html:{type:String,required:!0}},setup(t){const n=S("editorId"),s=S("previewTheme"),o=S("showCodeRowNumber"),a=se(),e=t.html,u=(d,c)=>{a.value&&(c.forEach(k=>{k.remove()}),d.forEach(({index:k,newNode:f})=>{var i,l,p;const r=(i=a.value)==null?void 0:i.childNodes[k];r?(l=a.value)==null||l.replaceChild(f.cloneNode(!0),r):(p=a.value)==null||p.appendChild(f.cloneNode(!0))}))};return B(()=>t.html,d=>{var i;const c=cn(d),k=Array.from(((i=a.value)==null?void 0:i.childNodes)||[]),{updates:f,deletes:r}=un(c,k);u(f,r)}),()=>X("div",{id:`${n}-preview`,class:[`${h}-preview`,`${s==null?void 0:s.value}-theme`,o&&`${h}-scrn`],innerHTML:e,ref:a},null)}}),dn=le({name:"ContentPreview",props:Pe,setup(t){const n=S("editorId"),s=S("setting"),{html:o,key:a}=sn(t,t.previewOnly);return Mt(t,o,a),on(t,o),an(t,o),ln(t,o,a),()=>X(st,null,[s.value.preview&&(t.previewOnly?X(Ee,{key:a.value,html:o.value},null):X("div",{id:`${n}-preview-wrapper`,class:`${h}-preview-wrapper`,key:"content-preview-wrapper"},[X(Ee,{key:a.value,html:o.value},null)])),s.value.htmlPreview&&X("div",{id:`${n}-html-wrapper`,class:`${h}-preview-wrapper`,key:"html-preview-wrapper"},[X("div",{class:`${h}-html`},[o.value])])])}}),fn=({text:t})=>t,Xe={modelValue:{type:String,default:""},onChange:{type:Function,default:void 0},theme:{type:String,default:"light"},class:{type:String,default:""},language:{type:String,default:"zh-CN"},onHtmlChanged:{type:Function,default:void 0},onGetCatalog:{type:Function,default:void 0},editorId:{type:String,default:void 0},id:{type:String,default:void 0},showCodeRowNumber:{type:Boolean,default:!0},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:fn},sanitize:{type:Function,default:t=>t},noMermaid:{type:Boolean,default:!1},noKatex:{type:Boolean,default:!1},codeTheme:{type:String,default:"atom"},formatCopiedText:{type:Function,default:t=>t},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},noHighlight:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean,default:!1},customIcon:{type:Object,default:{}},sanitizeMermaid:{type:Function,default:t=>Promise.resolve(t)},codeFoldable:{type:Boolean,default:!0},autoFoldThreshold:{type:Number,default:30},onRemount:{type:Function,default:void 0},noEcharts:{type:Boolean,default:!1}};({...Xe});const Ye=["onHtmlChanged","onGetCatalog","onChange","onRemount","update:modelValue"];[...Ye];const pn=(t,n,s)=>{const{editorId:o}=s,a={rerender(){D.emit(o,We)}};n.expose(a)},fe=le({name:"MdPreview",props:Xe,emits:Ye,setup(t,n){const{noKatex:s,noMermaid:o,noHighlight:a}=t,e=se(),u=jt(t);return Et(t,{rootRef:e,editorId:u}),pn(t,n,{editorId:u}),ce(()=>{D.clear(u)}),()=>X("div",{id:u,class:[h,t.class,t.theme==="dark"&&`${h}-dark`,`${h}-previewOnly`],style:t.style,ref:e},[X(dn,{modelValue:t.modelValue,onChange:d=>{var c;(c=t.onChange)==null||c.call(t,d),n.emit("onChange",d),n.emit("update:modelValue",d)},onHtmlChanged:d=>{var c;(c=t.onHtmlChanged)==null||c.call(t,d),n.emit("onHtmlChanged",d)},onGetCatalog:d=>{var c;(c=t.onGetCatalog)==null||c.call(t,d),n.emit("onGetCatalog",d)},mdHeadingId:t.mdHeadingId,noMermaid:o,sanitize:t.sanitize,noKatex:s,formatCopiedText:t.formatCopiedText,noHighlight:a,noImgZoomIn:t.noImgZoomIn,previewOnly:!0,sanitizeMermaid:t.sanitizeMermaid,codeFoldable:t.codeFoldable,autoFoldThreshold:t.autoFoldThreshold,onRemount:()=>{var d;(d=t.onRemount)==null||d.call(t),n.emit("onRemount")},noEcharts:t.noEcharts},null)])}});fe.install=t=>(t.component(fe.name,fe),t);const mn={onClick:{type:Function,default:void 0},language:{type:String,default:void 0},theme:{type:String,default:void 0},disabled:{type:Boolean,default:void 0}},pe=le({name:"NormalFooterToolbar",props:mn,emits:["onClick"],setup(t,n){return()=>{const s=bt({props:t,ctx:n});return X("div",{class:[`${h}-footer-item`,t.disabled&&`${h}-disabled`],onClick:o=>{var a;t.disabled||((a=t.onClick)==null||a.call(t,o),n.emit("onClick",o))}},[s])}}});pe.install=t=>(t.component(pe.name,pe),t);var me={exports:{}},M={},he={exports:{}},te={},je;function Ke(){if(je)return te;je=1;function t(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function n(e,u,d){}function s(e,u,d){}var o=/javascript\s*\:/img;function a(e,u){return o.test(u)?"":u}return te.whiteList=t(),te.getDefaultWhiteList=t,te.onAttr=n,te.onIgnoreAttr=s,te.safeAttrValue=a,te}var Me,He;function Ue(){return He||(He=1,Me={indexOf:function(t,n){var s,o;if(Array.prototype.indexOf)return t.indexOf(n);for(s=0,o=t.length;s<o;s++)if(t[s]===n)return s;return-1},forEach:function(t,n,s){var o,a;if(Array.prototype.forEach)return t.forEach(n,s);for(o=0,a=t.length;o<a;o++)n.call(s,t[o],o,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}}),Me}var ge,Fe;function hn(){if(Fe)return ge;Fe=1;var t=Ue();function n(s,o){s=t.trimRight(s),s[s.length-1]!==";"&&(s+=";");var a=s.length,e=!1,u=0,d=0,c="";function k(){if(!e){var i=t.trim(s.slice(u,d)),l=i.indexOf(":");if(l!==-1){var p=t.trim(i.slice(0,l)),v=t.trim(i.slice(l+1));if(p){var m=o(u,c.length,p,v,i);m&&(c+=m+"; ")}}}u=d+1}for(;d<a;d++){var f=s[d];if(f==="/"&&s[d+1]==="*"){var r=s.indexOf("*/",d+2);if(r===-1)break;d=r+1,u=d+1,e=!1}else f==="("?e=!0:f===")"?e=!1:f===";"?e||k():f===`
`&&k()}return t.trim(c)}return ge=n,ge}var ve,Re;function gn(){if(Re)return ve;Re=1;var t=Ke(),n=hn();Ue();function s(e){return e==null}function o(e){var u={};for(var d in e)u[d]=e[d];return u}function a(e){e=o(e||{}),e.whiteList=e.whiteList||t.whiteList,e.onAttr=e.onAttr||t.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||t.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||t.safeAttrValue,this.options=e}return a.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var u=this,d=u.options,c=d.whiteList,k=d.onAttr,f=d.onIgnoreAttr,r=d.safeAttrValue,i=n(e,function(l,p,v,m,I){var b=c[v],$=!1;if(b===!0?$=b:typeof b=="function"?$=b(m):b instanceof RegExp&&($=b.test(m)),$!==!0&&($=!1),m=r(v,m),!!m){var y={position:p,sourcePosition:l,source:I,isWhite:$};if($){var T=k(v,m,y);return s(T)?v+":"+m:T}else{var T=f(v,m,y);if(!s(T))return T}}});return i},ve=a,ve}var Oe;function $e(){return Oe||(Oe=1,function(t,n){var s=Ke(),o=gn();function a(u,d){var c=new o(d);return c.process(u)}n=t.exports=a,n.FilterCSS=o;for(var e in s)n[e]=s[e];typeof window<"u"&&(window.filterCSS=t.exports)}(he,he.exports)),he.exports}var ze,_e;function xe(){return _e||(_e=1,ze={indexOf:function(t,n){var s,o;if(Array.prototype.indexOf)return t.indexOf(n);for(s=0,o=t.length;s<o;s++)if(t[s]===n)return s;return-1},forEach:function(t,n,s){var o,a;if(Array.prototype.forEach)return t.forEach(n,s);for(o=0,a=t.length;o<a;o++)n.call(s,t[o],o,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var n=/\s|\n|\t/,s=n.exec(t);return s?s.index:-1}}),ze}var Be;function Ze(){if(Be)return M;Be=1;var t=$e().FilterCSS,n=$e().getDefaultWhiteList,s=xe();function o(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var a=new t;function e(w,A,g){}function u(w,A,g){}function d(w,A,g){}function c(w,A,g){}function k(w){return w.replace(r,"&lt;").replace(i,"&gt;")}function f(w,A,g,C){if(g=V(g),A==="href"||A==="src"){if(g=s.trim(g),g==="#")return"#";if(!(g.substr(0,7)==="http://"||g.substr(0,8)==="https://"||g.substr(0,7)==="mailto:"||g.substr(0,4)==="tel:"||g.substr(0,11)==="data:image/"||g.substr(0,6)==="ftp://"||g.substr(0,2)==="./"||g.substr(0,3)==="../"||g[0]==="#"||g[0]==="/"))return""}else if(A==="background"){if(b.lastIndex=0,b.test(g))return""}else if(A==="style"){if($.lastIndex=0,$.test(g)||(y.lastIndex=0,y.test(g)&&(b.lastIndex=0,b.test(g))))return"";C!==!1&&(C=C||a,g=C.process(g))}return g=F(g),g}var r=/</g,i=/>/g,l=/"/g,p=/&quot;/g,v=/&#([a-zA-Z0-9]*);?/gim,m=/&colon;?/gim,I=/&newline;?/gim,b=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,$=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,y=/u\s*r\s*l\s*\(.*/gi;function T(w){return w.replace(l,"&quot;")}function x(w){return w.replace(p,'"')}function L(w){return w.replace(v,function(A,g){return g[0]==="x"||g[0]==="X"?String.fromCharCode(parseInt(g.substr(1),16)):String.fromCharCode(parseInt(g,10))})}function E(w){return w.replace(m,":").replace(I," ")}function R(w){for(var A="",g=0,C=w.length;g<C;g++)A+=w.charCodeAt(g)<32?" ":w.charAt(g);return s.trim(A)}function V(w){return w=x(w),w=L(w),w=E(w),w=R(w),w}function F(w){return w=T(w),w=k(w),w}function z(){return""}function K(w,A){typeof A!="function"&&(A=function(){});var g=!Array.isArray(w);function C(_){return g?!0:s.indexOf(w,_)!==-1}var O=[],N=!1;return{onIgnoreTag:function(_,ee,U){if(C(_))if(U.isClosing){var re="[/removed]",Je=U.position+re.length;return O.push([N!==!1?N:U.position,Je]),N=!1,re}else return N||(N=U.position),"[removed]";else return A(_,ee,U)},remove:function(_){var ee="",U=0;return s.forEach(O,function(re){ee+=_.slice(U,re[0]),U=re[1]}),ee+=_.slice(U),ee}}}function q(w){for(var A="",g=0;g<w.length;){var C=w.indexOf("<!--",g);if(C===-1){A+=w.slice(g);break}A+=w.slice(g,C);var O=w.indexOf("-->",C);if(O===-1)break;g=O+3}return A}function H(w){var A=w.split("");return A=A.filter(function(g){var C=g.charCodeAt(0);return C===127?!1:C<=31?C===10||C===13:!0}),A.join("")}return M.whiteList=o(),M.getDefaultWhiteList=o,M.onTag=e,M.onIgnoreTag=u,M.onTagAttr=d,M.onIgnoreTagAttr=c,M.safeAttrValue=f,M.escapeHtml=k,M.escapeQuote=T,M.unescapeQuote=x,M.escapeHtmlEntities=L,M.escapeDangerHtml5Entities=E,M.clearNonPrintableCharacter=R,M.friendlyAttrValue=V,M.escapeAttrValue=F,M.onIgnoreTagStripAll=z,M.StripTagBody=K,M.stripCommentTag=q,M.stripBlankChar=H,M.attributeWrapSign='"',M.cssFilter=a,M.getDefaultCSSWhiteList=n,M}var oe={},Ve;function Ge(){if(Ve)return oe;Ve=1;var t=xe();function n(r){var i=t.spaceIndex(r),l;return i===-1?l=r.slice(1,-1):l=r.slice(1,i+1),l=t.trim(l).toLowerCase(),l.slice(0,1)==="/"&&(l=l.slice(1)),l.slice(-1)==="/"&&(l=l.slice(0,-1)),l}function s(r){return r.slice(0,2)==="</"}function o(r,i,l){var p="",v=0,m=!1,I=!1,b=0,$=r.length,y="",T="";e:for(b=0;b<$;b++){var x=r.charAt(b);if(m===!1){if(x==="<"){m=b;continue}}else if(I===!1){if(x==="<"){p+=l(r.slice(v,b)),m=b,v=b;continue}if(x===">"||b===$-1){p+=l(r.slice(v,m)),T=r.slice(m,b+1),y=n(T),p+=i(m,p.length,y,T,s(T)),v=b+1,m=!1;continue}if(x==='"'||x==="'")for(var L=1,E=r.charAt(b-L);E.trim()===""||E==="=";){if(E==="="){I=x;continue e}E=r.charAt(b-++L)}}else if(x===I){I=!1;continue}}return v<$&&(p+=l(r.substr(v))),p}var a=/[^a-zA-Z0-9\\_:.-]/gim;function e(r,i){var l=0,p=0,v=[],m=!1,I=r.length;function b(L,E){if(L=t.trim(L),L=L.replace(a,"").toLowerCase(),!(L.length<1)){var R=i(L,E||"");R&&v.push(R)}}for(var $=0;$<I;$++){var y=r.charAt($),T,x;if(m===!1&&y==="="){m=r.slice(l,$),l=$+1,p=r.charAt(l)==='"'||r.charAt(l)==="'"?l:d(r,$+1);continue}if(m!==!1&&$===p){if(x=r.indexOf(y,$+1),x===-1)break;T=t.trim(r.slice(p+1,x)),b(m,T),m=!1,$=x,l=$+1;continue}if(/\s|\n|\t/.test(y))if(r=r.replace(/\s|\n|\t/g," "),m===!1)if(x=u(r,$),x===-1){T=t.trim(r.slice(l,$)),b(T),m=!1,l=$+1;continue}else{$=x-1;continue}else if(x=c(r,$-1),x===-1){T=t.trim(r.slice(l,$)),T=f(T),b(m,T),m=!1,l=$+1;continue}else continue}return l<r.length&&(m===!1?b(r.slice(l)):b(m,f(t.trim(r.slice(l))))),t.trim(v.join(" "))}function u(r,i){for(;i<r.length;i++){var l=r[i];if(l!==" ")return l==="="?i:-1}}function d(r,i){for(;i<r.length;i++){var l=r[i];if(l!==" ")return l==="'"||l==='"'?i:-1}}function c(r,i){for(;i>0;i--){var l=r[i];if(l!==" ")return l==="="?i:-1}}function k(r){return r[0]==='"'&&r[r.length-1]==='"'||r[0]==="'"&&r[r.length-1]==="'"}function f(r){return k(r)?r.substr(1,r.length-2):r}return oe.parseTag=o,oe.parseAttr=e,oe}var ke,qe;function vn(){if(qe)return ke;qe=1;var t=$e().FilterCSS,n=Ze(),s=Ge(),o=s.parseTag,a=s.parseAttr,e=xe();function u(r){return r==null}function d(r){var i=e.spaceIndex(r);if(i===-1)return{html:"",closing:r[r.length-2]==="/"};r=e.trim(r.slice(i+1,-1));var l=r[r.length-1]==="/";return l&&(r=e.trim(r.slice(0,-1))),{html:r,closing:l}}function c(r){var i={};for(var l in r)i[l]=r[l];return i}function k(r){var i={};for(var l in r)Array.isArray(r[l])?i[l.toLowerCase()]=r[l].map(function(p){return p.toLowerCase()}):i[l.toLowerCase()]=r[l];return i}function f(r){r=c(r||{}),r.stripIgnoreTag&&(r.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),r.onIgnoreTag=n.onIgnoreTagStripAll),r.whiteList||r.allowList?r.whiteList=k(r.whiteList||r.allowList):r.whiteList=n.whiteList,this.attributeWrapSign=r.singleQuotedAttributeValue===!0?"'":n.attributeWrapSign,r.onTag=r.onTag||n.onTag,r.onTagAttr=r.onTagAttr||n.onTagAttr,r.onIgnoreTag=r.onIgnoreTag||n.onIgnoreTag,r.onIgnoreTagAttr=r.onIgnoreTagAttr||n.onIgnoreTagAttr,r.safeAttrValue=r.safeAttrValue||n.safeAttrValue,r.escapeHtml=r.escapeHtml||n.escapeHtml,this.options=r,r.css===!1?this.cssFilter=!1:(r.css=r.css||{},this.cssFilter=new t(r.css))}return f.prototype.process=function(r){if(r=r||"",r=r.toString(),!r)return"";var i=this,l=i.options,p=l.whiteList,v=l.onTag,m=l.onIgnoreTag,I=l.onTagAttr,b=l.onIgnoreTagAttr,$=l.safeAttrValue,y=l.escapeHtml,T=i.attributeWrapSign,x=i.cssFilter;l.stripBlankChar&&(r=n.stripBlankChar(r)),l.allowCommentTag||(r=n.stripCommentTag(r));var L=!1;l.stripIgnoreTagBody&&(L=n.StripTagBody(l.stripIgnoreTagBody,m),m=L.onIgnoreTag);var E=o(r,function(R,V,F,z,K){var q={sourcePosition:R,position:V,isClosing:K,isWhite:Object.prototype.hasOwnProperty.call(p,F)},H=v(F,z,q);if(!u(H))return H;if(q.isWhite){if(q.isClosing)return"</"+F+">";var w=d(z),A=p[F],g=a(w.html,function(C,O){var N=e.indexOf(A,C)!==-1,_=I(F,C,O,N);return u(_)?N?(O=$(F,C,O,x),O?C+"="+T+O+T:C):(_=b(F,C,O,N),u(_)?void 0:_):_});return z="<"+F,g&&(z+=" "+g),w.closing&&(z+=" /"),z+=">",z}else return H=m(F,z,q),u(H)?y(z):H},y);return L&&(E=L.remove(E)),E},ke=f,ke}var Ne;function kn(){return Ne||(Ne=1,function(t,n){var s=Ze(),o=Ge(),a=vn();function e(d,c){var k=new a(c);return k.process(d)}n=t.exports=e,n.filterXSS=e,n.FilterXSS=a,function(){for(var d in s)n[d]=s[d];for(var c in o)n[c]=o[c]}(),typeof window<"u"&&(window.filterXSS=t.exports);function u(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}u()&&(self.filterXSS=t.exports)}(me,me.exports)),me.exports}kn();export{fe as r};
