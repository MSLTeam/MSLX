import{D as _e,F as u,R as Ke,P as Re,K as je,aa as Ie,b0 as i,b1 as q,aY as v,b2 as a,a$ as o,G as e,aX as k,b6 as h,ak as O,al as Q,ao as p,b5 as F,ap as le,bc as We,O as Ue,b3 as Fe,bd as Le,be as ze,V as Be,W as Ye}from"./index.jXwDIiIy.js";import{u as Te,c as ne,_ as Je}from"./index.Brpe3J6P.js";import{S as Pe,g as qe,a as De}from"./localJava.BH09KFPD.js";import{u as Ee,a as xe}from"./instance.DhPJQ1dR.js";import{d as fe,i as Xe,u as Ge,f as Ae,c as et}from"./files.BqJHKyjT.js";import{M as _}from"./tdesign-vue-next.B-7BKoqk.js";import"./core-js-pure.B3GbnEth.js";import"./crelt.C8TCjufn.js";import"./style-mod.Bc2inJdb.js";import"./w3c-keyname.Vcq4gwWv.js";import"./pinia.0hRipQgY.js";import"./pinia-plugin-persistedstate.n2tMOXAx.js";import"./vue-router.D-iQ2OF3.js";import"./tvision-color.C7wwferE.js";import"./chroma-js.CkGq980d.js";import"./bezier-easing.CPMHfRa9.js";import"./lodash.iY27rsMZ.js";import"./axios.R-lXtGyY.js";import"./qs.D0saImlE.js";import"./side-channel.DWC36ANH.js";import"./es-errors.CFxpeikN.js";import"./object-inspect.B1mntT96.js";import"./cron-parser.DOnFJhWU.js";import"./luxon.BVaPVz1w.js";import"./side-channel-list.Df5Vde-x.js";import"./side-channel-map.4MBLZtF4.js";import"./get-intrinsic.CAdfHqt8.js";import"./es-object-atoms.Ditt1eQ6.js";import"./math-intrinsics.Cv-yPkyD.js";import"./gopd.fcd2-aIC.js";import"./es-define-property.bDCdrV83.js";import"./has-symbols.BaUvM3gb.js";import"./get-proto.Cbri-GHQ.js";import"./dunder-proto.q7lw_6_J.js";import"./call-bind-apply-helpers.BxcZtPLH.js";import"./function-bind.BbkWVFrm.js";import"./hasown.ckq0ukzO.js";import"./call-bound.BO70H6sD.js";import"./side-channel-weakmap.BIAXU6K3.js";import"./nprogress.Nt2Hi8cf.js";import"./lodash-es.ClUTdtmA.js";import"./tdesign-icons-vue-next.pM9rkfXR.js";import"./mitt.DJ65BbbF.js";import"./sortablejs.C83syoBY.js";const tt={class:"main-layout-container"},lt={class:"steps-aside"},at={class:"main-content"},ot={key:0,class:"form-step-container"},st={class:"step-content"},nt={class:"step-content"},rt={style:{width:"100%"}},ut={class:"java-option-panel"},it={key:0,class:"flex-row"},ct={class:"tip"},vt={key:1,class:"flex-row"},dt={key:2},mt={key:3},pt={class:"step-content"},ft={key:0,class:"online-select-area"},_t={class:"select-core-wrapper"},gt={key:0,class:"selected-core-card"},yt={class:"core-icon"},kt={class:"core-info"},bt={class:"core-filename"},ht={key:1,class:"online-select-area"},wt={class:"select-core-wrapper"},Vt={key:1,class:"uploading-state"},St={class:"core-filename"},Mt={key:2,class:"selected-core-card"},$t={class:"core-icon"},Ct={class:"core-info"},Ut={class:"core-filename"},Ft={class:"core-url"},Jt={class:"step-content"},xt={key:1,class:"step-content creation-progress"},Kt={class:"progress-title"},Rt={class:"log-time"},jt={class:"log-message"},It={key:2,class:"result-success"},Lt={class:"result-success-title"},zt=_e({__name:"QuickMode",setup(ge){const L=Te(),R=u(null),W=Ee(),r=u(0),j=u(!1),I=u(!1),D=u(!1),w=u(0),N=u([]),J=u(null),E=u(null),P=u(null),U=u("online"),Z=u(!1),z=u(null),B=u(!1),K=u(0),Y=u(""),X=u(""),G=u("online"),H=u([]),ae=u([]),T=u(""),A=u(""),oe=async(d=!1)=>{try{d&&_.info("æ­£åœ¨åˆ·æ–°Javaç‰ˆæœ¬åˆ—è¡¨(é‡æ–°æ‰«æè€—æ—¶è¾ƒé•¿)...");const l=await qe(L.userInfo.systemInfo.osType.toLowerCase().replace("os",""),L.userInfo.systemInfo.osArchitecture.toLowerCase());l&&Array.isArray(l)&&(H.value=l.map(g=>({label:`Java ${g}`,value:g})),H.value.length>0&&!T.value&&(T.value=H.value[1].value)),ae.value=(await De(d)).map(g=>({label:`Java ${g.version}${g.is64Bit?"":" (32ä½)"} (${g.vendor} | ${g.path})`,value:g.path})),ae.value.length>0&&(A.value=ae.value[0].value),d&&_.success("å·²åˆ·æ–°Javaç‰ˆæœ¬åˆ—è¡¨")}catch(l){_.warning("è·å–åœ¨çº¿Javaç‰ˆæœ¬å¤±è´¥"+l.message)}};Ke(()=>{oe()});const n=u({name:"æ–°å»ºæœåŠ¡å™¨",path:"",java:"",core:"",coreUrl:"",coreSha256:"",coreFileKey:"",packageFileKey:"",minM:1024,maxM:4096,args:""});Re([G,T,A],([d,l,g])=>{var $;d==="env"?n.value.java="java":d==="custom"||d==="local"?n.value.java=g:d==="online"&&(n.value.java=l?`MSLX://Java/${l}`:""),n.value.java&&(($=R.value)==null||$.validate({fields:["java"]}))},{immediate:!0});const ee=je(()=>({name:[{required:!0,message:"å®ä¾‹åç§°ä¸èƒ½ä¸ºç©º",trigger:"blur"}],java:[{required:!0,message:"è¯·é…ç½® Java ç¯å¢ƒ",trigger:"change"}],core:[{required:!0,message:"æ ¸å¿ƒåç§°/æ–‡ä»¶ä¸èƒ½ä¸ºç©º",trigger:"change"}],coreUrl:[{validator:d=>{if(U.value==="online"){if(!d)return{result:!1,message:"è¯·é€‰æ‹©ä¸€ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒ",type:"error"};if(d&&!/^https?:\/\/.+/.test(d))return{result:!1,message:"ä¸‹è½½åœ°å€å¿…é¡»ä»¥ http(s) å¼€å¤´",type:"error"}}return!0},trigger:"change"}],coreFileKey:[{validator:d=>U.value==="manual"&&!d?{result:!1,message:"è¯·ä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶",type:"error"}:!0,trigger:"change"}],minM:[{required:!0,min:1,message:"æœ€å°å†…å­˜å¿…é¡»å¤§äº0",trigger:"blur"}],maxM:[{required:!0,min:1,message:"æœ€å¤§å†…å­˜å¿…é¡»å¤§äº0",trigger:"blur"}]})),ue=[["name","path"],["java"],["core","coreUrl","coreSha256","coreFileKey"],["minM","maxM","args"]],c=()=>{r.value>0&&(r.value-=1)},ye=async()=>{if(r.value===2){if(U.value==="online"){if(!n.value.coreUrl||!n.value.core){_.warning("è¯·ç‚¹å‡»æŒ‰é’®é€‰æ‹©ä¸€ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒ");return}}else if(!n.value.coreFileKey){_.warning("è¯·å…ˆä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶");return}}const d=await R.value.validate();if(d===!0){r.value<3&&(r.value+=1);return}const l=new Set(ue[r.value]);Object.keys(d).some($=>l.has($))?_.warning("è¯·æ£€æŸ¥å½“å‰æ­¥éª¤çš„è¾“å…¥"):r.value<3&&(r.value+=1)},ke=d=>{n.value.core=d.filename,n.value.coreUrl=d.url,n.value.coreSha256=d.sha256,n.value.coreFileKey="",_.success(`å·²é€‰æ‹©: ${d.core} (${d.version})`),R.value.validate({fields:["core","coreUrl"]})},ie=()=>{var d;(d=z.value)==null||d.click()},be=d=>{if(d===0)return"0 B";const l=1024,g=["B","KB","MB","GB"],$=Math.floor(Math.log(d)/Math.log(l));return parseFloat((d/Math.pow(l,$)).toFixed(2))+" "+g[$]},ce=async d=>{const l=d.target;if(!l.files||l.files.length===0)return;if(n.value.coreFileKey)try{await fe(n.value.coreFileKey),console.log("æ—§ä¸´æ—¶æ–‡ä»¶å·²æ¸…ç†:",n.value.coreFileKey)}catch(s){console.warn("æ¸…ç†æ—§æ–‡ä»¶å¤±è´¥ï¼Œå¯èƒ½æ–‡ä»¶å·²è¿‡æœŸ",s)}const g=l.files[0],$=g.name;n.value.core=$,n.value.coreUrl="",n.value.coreSha256="",n.value.coreFileKey="",Y.value=$,X.value=be(g.size),await he(g),l.value=""},he=async d=>{B.value=!0,K.value=0;const l=5*1024*1024,g=Math.ceil(d.size/l);try{const s=(await Xe()).uploadId;if(!s)throw new Error("æ— æ³•è·å–ä¸Šä¼ å‡­è¯");for(let f=0;f<g;f++){const S=f*l,C=Math.min(d.size,S+l),V=d.slice(S,C);await Ge(s,f,V),K.value=Math.floor((f+1)/g*100)}const m=(await Ae(s,g)).uploadId;n.value.coreFileKey=m,_.success("æ ¸å¿ƒæ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼"),R.value.validate({fields:["core","coreFileKey"]})}catch($){console.error($),_.error(`ä¸Šä¼ å¤±è´¥: ${$.message||"æœªçŸ¥é”™è¯¯"}`),n.value.core="",Y.value="",K.value=0}finally{B.value=!1}},we=async()=>{n.value.coreFileKey&&(await fe(n.value.coreFileKey),n.value.coreFileKey="",n.value.core="",Y.value="",_.success("æ–‡ä»¶å·²ç§»é™¤"))},Ve=async()=>{if(!(await R.value.validate()===!0)){_.warning("è¯·æ£€æŸ¥è¡¨å•æ‰€æœ‰å†…å®¹");return}j.value=!0,N.value=[];const g={...n.value,path:n.value.path||null,coreUrl:n.value.coreUrl||null,coreSha256:n.value.coreSha256||null,coreFileKey:n.value.coreFileKey||null,args:n.value.args||null};U.value==="manual"?(g.coreUrl=null,g.coreSha256=null):g.coreFileKey=null;try{const s=(await xe(g)).serverId;if(!s)throw new Error("æœåŠ¡å™¨æœªè¿”å› ServerId");E.value=s.toString(),I.value=!0,r.value=4,await Se(E.value)}catch($){const s=$.message||"åˆ›å»ºè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–åç«¯æœåŠ¡";_.error(s),j.value=!1}},Se=async d=>{const{baseUrl:l,token:g}=L;let $=!1;const s=new URL("/api/hubs/creationProgressHub",l||window.location.origin);s.searchParams.append("x-user-token",g),J.value=new Le().withUrl(s.toString(),{withCredentials:!1}).configureLogging(ze.Information).build();const t=(m,f=null)=>{N.value.push({time:new Date().toLocaleTimeString(),message:m,progress:f}),Be(()=>{P.value&&(P.value.scrollTop=P.value.scrollHeight)})};J.value.on("StatusUpdate",(m,f,S)=>{var C,V;m.toString()===d&&(t(f,S),S!==null&&S>=0&&(w.value=S),S===100?($=!0,_.success("æœåŠ¡å™¨åˆ›å»ºæˆåŠŸï¼"),(C=J.value)==null||C.stop(),I.value=!1,D.value=!0,r.value=5,j.value=!1,W.refreshInstanceList()):S===-1&&(_.error(f||"åˆ›å»ºè¿‡ç¨‹ä¸­å‘ç”ŸæœªçŸ¥é”™è¯¯"),(V=J.value)==null||V.stop(),I.value=!1,j.value=!1,r.value=0))});try{await J.value.start(),t("å·²è¿æ¥åˆ°å®æ—¶è¿›åº¦æœåŠ¡..."),await J.value.invoke("TrackServer",d),t("å·²è®¢é˜…ä»»åŠ¡ï¼Œç­‰å¾…æœåŠ¡å™¨å“åº”...")}catch(m){$||(t(`SignalR è¿æ¥å¤±è´¥: ${m.message}`,-1),_.error("æ— æ³•è¿æ¥åˆ°å®æ—¶è¿›åº¦æœåŠ¡"),I.value=!1,j.value=!1,r.value=0)}};return Ie(()=>{var d;(d=J.value)==null||d.stop()}),(d,l)=>{const g=i("t-step-item"),$=i("t-steps"),s=i("t-input"),t=i("t-form-item"),m=i("t-alert"),f=i("t-radio-button"),S=i("t-radio-group"),C=i("t-select"),V=i("t-button"),M=i("t-icon"),x=i("t-progress"),se=i("t-input-number"),ve=i("t-col"),Me=i("t-row"),re=i("t-textarea"),te=i("t-form"),de=i("t-list-item-meta"),me=i("t-list-item"),pe=i("t-list"),$e=i("t-card");return v(),q($e,{bordered:!1},{default:a(()=>[o("div",tt,[o("div",lt,[e($,{layout:"vertical",style:{"margin-top":"16px"},current:r.value,status:"process",readonly:""},{default:a(()=>[e(g,{title:"åŸºæœ¬ä¿¡æ¯",content:"å¡«å†™å®ä¾‹åç§°å’Œè·¯å¾„"}),e(g,{title:"Java ç¯å¢ƒ",content:"é…ç½® Java è¿è¡Œæ—¶"}),e(g,{title:"æ ¸å¿ƒæ–‡ä»¶",content:"æŒ‡å®šæ ¸å¿ƒæ–‡ä»¶åŠä¸‹è½½"}),e(g,{title:"èµ„æºé…ç½®",content:"è®¾ç½®å†…å­˜ä¸ JVM å‚æ•°"}),e(g,{title:"åˆ›å»ºå®ä¾‹",content:"æäº¤å¹¶ç­‰å¾…åˆ›å»º"}),e(g,{title:"å®Œæˆ",content:"æŸ¥çœ‹åˆ›å»ºç»“æœ"})]),_:1},8,["current"])]),o("div",at,[!I.value&&!D.value?(v(),k("div",ot,[e(te,{ref_key:"formRef",ref:R,data:n.value,rules:ee.value,"label-align":"top",class:"step-form",onSubmit:Ve},{default:a(()=>[O(o("div",st,[e(t,{label:"å®ä¾‹åç§°",name:"name"},{default:a(()=>[e(s,{modelValue:n.value.name,"onUpdate:modelValue":l[0]||(l[0]=b=>n.value.name=b),placeholder:"ä¸ºä½ çš„æœåŠ¡å™¨èµ·ä¸ªåå­—"},null,8,["modelValue"])]),_:1}),e(t,{label:"å®ä¾‹è·¯å¾„",name:"path",help:"é€‰å¡«ï¼Œç•™ç©ºå°†ä½¿ç”¨é»˜è®¤è·¯å¾„"},{default:a(()=>[e(s,{modelValue:n.value.path,"onUpdate:modelValue":l[1]||(l[1]=b=>n.value.path=b),placeholder:"ä¾‹å¦‚: D:\\MyServer"},null,8,["modelValue"])]),_:1})],512),[[Q,r.value===0]]),O(o("div",nt,[e(m,{theme:"info",title:"å¦‚ä½•é€‰æ‹© Java ç‰ˆæœ¬?",class:"java-alert"},{message:a(()=>[...l[17]||(l[17]=[o("p",null,"ä¸åŒçš„ Minecraft ç‰ˆæœ¬éœ€è¦ä¸åŒçš„ Java ç‰ˆæœ¬ã€‚",-1),o("ul",null,[o("li",null,[p("ç›®å‰æ¨èæœ€é«˜ä½¿ç”¨ "),o("b",null,"Java 21"),p(" ï¼ŒJava 25 å¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚")]),o("li",null,"MC 1.20.5 - æœ€æ–°ç‰ˆæœ¬: éœ€è¦ Java 21 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚"),o("li",null,"MC 1.18 - 1.20.4: éœ€è¦ Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚"),o("li",null,"MC 1.17/1.17.1: éœ€è¦ Java 16ã€‚"),o("li",null,"MC 1.13 - 1.16.5: éœ€è¦ Java 8 / 11ã€‚"),o("li",null,"MC 1.12.2 åŠä»¥ä¸‹: éœ€è¦ Java 8ã€‚")],-1)])]),_:1}),e(t,{label:"Java æ¥æº",name:"java"},{default:a(()=>[o("div",rt,[e(S,{modelValue:G.value,"onUpdate:modelValue":l[2]||(l[2]=b=>G.value=b),variant:"default-filled"},{default:a(()=>[e(f,{value:"online"},{default:a(()=>[...l[18]||(l[18]=[p("åœ¨çº¿ä¸‹è½½",-1)])]),_:1}),e(f,{value:"local"},{default:a(()=>[...l[19]||(l[19]=[p("é€‰æ‹©ç”µè„‘ä¸Šçš„ Java",-1)])]),_:1}),e(f,{value:"env"},{default:a(()=>[...l[20]||(l[20]=[p("ç¯å¢ƒå˜é‡",-1)])]),_:1}),e(f,{value:"custom"},{default:a(()=>[...l[21]||(l[21]=[p("è‡ªå®šä¹‰è·¯å¾„",-1)])]),_:1})]),_:1},8,["modelValue"]),o("div",ut,[G.value==="online"?(v(),k("div",it,[e(C,{modelValue:T.value,"onUpdate:modelValue":l[3]||(l[3]=b=>T.value=b),options:H.value,placeholder:"è¯·é€‰æ‹© Java ç‰ˆæœ¬"},null,8,["modelValue","options"]),o("div",ct," å°†ä¸‹è½½å¹¶ä½¿ç”¨ Java "+F(T.value||"?")+" "+F(le(L).userInfo.systemInfo.osType.toLowerCase().replace("os",""))+" / "+F(le(L).userInfo.systemInfo.osArchitecture.toLowerCase()),1)])):h("",!0),G.value==="local"?(v(),k("div",vt,[e(C,{modelValue:A.value,"onUpdate:modelValue":l[4]||(l[4]=b=>A.value=b),options:ae.value,placeholder:"è¯·é€‰æ‹© Java ç‰ˆæœ¬"},null,8,["modelValue","options"]),e(V,{variant:"outline",theme:"primary",onClick:l[5]||(l[5]=b=>oe(!0))},{default:a(()=>[...l[22]||(l[22]=[p("é‡æ–°æ‰«æ",-1)])]),_:1})])):h("",!0),G.value==="env"?(v(),k("div",dt,[e(s,{"model-value":"java",readonly:"",disabled:""}),l[23]||(l[23]=o("div",{class:"tip"},"å°†ä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­çš„ java å‘½ä»¤",-1))])):h("",!0),G.value==="custom"?(v(),k("div",mt,[e(s,{modelValue:A.value,"onUpdate:modelValue":l[6]||(l[6]=b=>A.value=b),placeholder:"ä¾‹å¦‚: C:\\Program Files\\Java\\jdk-17\\bin\\java.exe"},null,8,["modelValue"])])):h("",!0)])])]),_:1})],512),[[Q,r.value===1]]),O(o("div",pt,[e(t,{label:"é€‰æ‹©æ‚¨çš„Minecraftå¼€æœä½¿ç”¨çš„æœåŠ¡ç«¯æ ¸å¿ƒ"},{default:a(()=>[e(S,{modelValue:U.value,"onUpdate:modelValue":l[7]||(l[7]=b=>U.value=b),variant:"default-filled"},{default:a(()=>[e(f,{value:"online"},{default:a(()=>[...l[24]||(l[24]=[p("åœ¨çº¿ä¸‹è½½ (æ¨è)",-1)])]),_:1}),e(f,{value:"manual"},{default:a(()=>[...l[25]||(l[25]=[p("é€‰æ‹©æœ¬åœ°æ–‡ä»¶",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),U.value==="online"?(v(),k("div",ft,[e(t,{label:"é€‰æ‹©æœåŠ¡ç«¯æ ¸å¿ƒ",name:"coreUrl"},{default:a(()=>[o("div",_t,[e(V,{variant:"outline",onClick:l[8]||(l[8]=b=>Z.value=!0)},{icon:a(()=>[e(M,{name:"cloud-download"})]),default:a(()=>[l[26]||(l[26]=p(" ç‚¹å‡»æ‰“å¼€æœåŠ¡ç«¯æ ¸å¿ƒé€‰æ‹©åº“ ",-1))]),_:1}),n.value.core?(v(),k("div",gt,[o("div",yt,[e(M,{name:"check-circle-filled"})]),o("div",kt,[o("div",bt,F(n.value.core),1),l[27]||(l[27]=o("div",{class:"core-url",title:"MSLX å°†åœ¨ç¨åå¸®æ‚¨è‡ªåŠ¨ä¸‹è½½æ­¤æ–‡ä»¶..."}," MSLX å°†åœ¨ç¨åå¸®æ‚¨è‡ªåŠ¨ä¸‹è½½æ­¤æ–‡ä»¶... ",-1))]),e(V,{shape:"circle",variant:"text",theme:"danger",onClick:l[9]||(l[9]=b=>{n.value.core="",n.value.coreUrl=""})},{default:a(()=>[e(M,{name:"close"})]),_:1})])):h("",!0)])]),_:1}),O(o("input",{"onUpdate:modelValue":l[10]||(l[10]=b=>n.value.coreSha256=b),type:"hidden"},null,512),[[We,n.value.coreSha256]])])):h("",!0),U.value==="manual"?(v(),k("div",ht,[e(t,{label:"ä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶",name:"coreFileKey"},{default:a(()=>[o("div",wt,[o("input",{ref_key:"uploadInputRef",ref:z,accept:".jar",type:"file",style:{display:"none"},onChange:ce},null,544),!B.value&&!n.value.coreFileKey?(v(),q(V,{key:0,variant:"outline",onClick:ie},{icon:a(()=>[e(M,{name:"upload"})]),default:a(()=>[l[28]||(l[28]=p(" ç‚¹å‡»é€‰æ‹©æ–‡ä»¶å¹¶ä¸Šä¼  ",-1))]),_:1})):h("",!0),B.value?(v(),k("div",Vt,[o("div",St,"æ­£åœ¨ä¸Šä¼ : "+F(Y.value)+" ("+F(X.value)+")",1),e(x,{theme:"line",percentage:K.value},null,8,["percentage"]),l[29]||(l[29]=o("div",{class:"tip"},"åˆ«ç€æ€¥ï¼Œå–æ¯èŒ¶ğŸµ...",-1))])):h("",!0),n.value.coreFileKey&&!B.value?(v(),k("div",Mt,[o("div",$t,[e(M,{name:"check-circle-filled"})]),o("div",Ct,[o("div",Ut,F(Y.value),1),o("div",Ft,F(X.value)+" | å·²ä¸Šä¼ å‡†å¤‡å°±ç»ª",1)]),e(V,{shape:"circle",variant:"text",theme:"primary",onClick:ie},{icon:a(()=>[e(M,{name:"swap"})]),_:1}),e(V,{shape:"circle",variant:"text",theme:"danger",onClick:we},{icon:a(()=>[e(M,{name:"delete"})]),_:1})])):h("",!0)])]),_:1})])):h("",!0)],512),[[Q,r.value===2]]),O(o("div",Jt,[e(Me,{gutter:16},{default:a(()=>[e(ve,{span:6},{default:a(()=>[e(t,{label:"æœ€å°å†…å­˜ (MB)",name:"minM"},{default:a(()=>[e(se,{modelValue:n.value.minM,"onUpdate:modelValue":l[11]||(l[11]=b=>n.value.minM=b),min:1},null,8,["modelValue"])]),_:1})]),_:1}),e(ve,{span:6},{default:a(()=>[e(t,{label:"æœ€å¤§å†…å­˜ (MB)",name:"maxM"},{default:a(()=>[e(se,{modelValue:n.value.maxM,"onUpdate:modelValue":l[12]||(l[12]=b=>n.value.maxM=b),min:1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(t,{label:"é¢å¤– JVM å‚æ•° (å¯é€‰)",name:"args",help:"ä¾‹å¦‚: -XX:+UseG1GC"},{default:a(()=>[e(re,{modelValue:n.value.args,"onUpdate:modelValue":l[13]||(l[13]=b=>n.value.args=b),placeholder:"-XX:+UseG1GC"},null,8,["modelValue"])]),_:1})],512),[[Q,r.value===3]]),e(t,{class:"step-actions"},{default:a(()=>[r.value>0?(v(),q(V,{key:0,theme:"default",onClick:c},{default:a(()=>[...l[30]||(l[30]=[p("ä¸Šä¸€æ­¥",-1)])]),_:1})):h("",!0),r.value<3?(v(),q(V,{key:1,type:"button",onClick:ye},{default:a(()=>[...l[31]||(l[31]=[p("ä¸‹ä¸€æ­¥",-1)])]),_:1})):h("",!0),r.value===3?(v(),q(V,{key:2,theme:"primary",type:"submit",loading:j.value},{default:a(()=>[...l[32]||(l[32]=[p(" æäº¤åˆ›å»º ",-1)])]),_:1},8,["loading"])):h("",!0)]),_:1})]),_:1},8,["data","rules"])])):h("",!0),I.value?(v(),k("div",xt,[o("div",Kt,"æ­£åœ¨åˆ›å»ºå®ä¾‹ ("+F(E.value)+")",1),l[33]||(l[33]=o("p",null,"è¯·å‹¿å…³é—­æ­¤é¡µé¢ï¼Œåˆ›å»ºè¿‡ç¨‹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿ...",-1)),e(x,{theme:"plump",percentage:w.value,label:`${w.value.toFixed(2)}%`},null,8,["percentage","label"]),o("div",{ref_key:"logContainerRef",ref:P,class:"log-container"},[e(pe,{split:!0},{default:a(()=>[(v(!0),k(Ue,null,Fe(N.value,(b,Ce)=>(v(),q(me,{key:Ce},{default:a(()=>[e(de,null,{description:a(()=>[o("span",Rt,"["+F(b.time)+"]",1),o("span",jt,F(b.message),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})],512)])):h("",!0),D.value?(v(),k("div",It,[e(M,{class:"result-success-icon",name:"check-circle"}),o("div",Lt,"æœåŠ¡å™¨ ("+F(E.value)+") å·²åˆ›å»ºæˆåŠŸ",1),l[36]||(l[36]=o("div",{class:"result-success-describe"},"ä½ ç°åœ¨å¯ä»¥å»æœåŠ¡å™¨åˆ—è¡¨å¯åŠ¨å®ƒäº†",-1)),o("div",null,[e(V,{onClick:l[14]||(l[14]=b=>le(ne)("/instance/list"))},{default:a(()=>[...l[34]||(l[34]=[p(" è¿”å›æœåŠ¡ç«¯åˆ—è¡¨ ",-1)])]),_:1}),e(V,{theme:"default",onClick:l[15]||(l[15]=b=>le(ne)(`/instance/console/${E.value}`))},{default:a(()=>[...l[35]||(l[35]=[p(" å‰å¾€æ§åˆ¶å° ",-1)])]),_:1})])])):h("",!0)])]),e(Pe,{visible:Z.value,"onUpdate:visible":l[16]||(l[16]=b=>Z.value=b),onConfirm:ke},null,8,["visible"])]),_:1})}}}),Bt=Je(zt,[["__scopeId","data-v-69ff30af"]]),Tt={key:1,class:"result-success"},Pt={class:"result-success-title"},qt=_e({__name:"CustomMode",setup(ge){const L=u(!1),R=u(0),W=u(null),r=Ye({name:"",path:null,java:"none",core:"none",coreUrl:"",coreSha256:"",coreFileKey:"",packageFileKey:"",minM:1027,maxM:1027,args:""}),j={name:[{required:!0,message:"è¯·è¾“å…¥æœåŠ¡å™¨åç§°",type:"error"}],args:[{required:!0,message:"è¯·è¾“å…¥è‡ªå®šä¹‰å¯åŠ¨å‚æ•°",type:"error"}]},I=async({validateResult:D})=>{if(D===!0)try{const w=await xe(r);R.value=w.serverId,_.success("åˆ›å»ºæˆåŠŸ"),L.value=!0}catch(w){_.error("åˆ›å»ºå¤±è´¥ï¼"+w.message)}else _.warning("è¯·æ£€æŸ¥è¡¨å•å¡«å†™")};return(D,w)=>{const N=i("t-input"),J=i("t-form-item"),E=i("t-textarea"),P=i("t-button"),U=i("t-space"),Z=i("t-form"),z=i("t-card"),B=i("t-icon");return v(),k("div",null,[L.value?(v(),k("div",Tt,[e(B,{class:"result-success-icon",name:"check-circle"}),o("div",Pt,"æœåŠ¡å™¨ ("+F(R.value)+") å·²åˆ›å»ºæˆåŠŸ",1),w[9]||(w[9]=o("div",{class:"result-success-describe"},"ä½ ç°åœ¨å¯ä»¥å»æœåŠ¡å™¨åˆ—è¡¨å¯åŠ¨å®ƒäº†",-1)),o("div",null,[e(P,{onClick:w[3]||(w[3]=K=>le(ne)("/instance/list"))},{default:a(()=>[...w[7]||(w[7]=[p(" è¿”å›æœåŠ¡ç«¯åˆ—è¡¨ ",-1)])]),_:1}),e(P,{theme:"default",onClick:w[4]||(w[4]=K=>le(ne)(`/instance/console/${R.value}`))},{default:a(()=>[...w[8]||(w[8]=[p(" å‰å¾€æ§åˆ¶å° ",-1)])]),_:1})])])):(v(),q(z,{key:0,bordered:!1},{header:a(()=>[...w[5]||(w[5]=[o("span",{style:{"font-weight":"bold","font-size":"16px"}},"è‡ªå®šä¹‰å¯åŠ¨æŒ‡ä»¤æ¨¡å¼",-1)])]),default:a(()=>[e(Z,{ref_key:"formRef",ref:W,rules:j,data:r,"label-align":"top",onSubmit:I},{default:a(()=>[e(J,{label:"æœåŠ¡å™¨åç§°",name:"name"},{default:a(()=>[e(N,{modelValue:r.name,"onUpdate:modelValue":w[0]||(w[0]=K=>r.name=K),placeholder:"ç»™ä½ çš„æœåŠ¡å™¨èµ·ä¸€ä¸ªåå­—"},null,8,["modelValue"])]),_:1}),e(J,{label:"å­˜å‚¨è·¯å¾„(å¯é€‰)",name:"path",help:"ä¸å¡«å†™å°†ä½¿ç”¨é»˜è®¤çš„ä¿å­˜è·¯å¾„ã€‚"},{default:a(()=>[e(N,{modelValue:r.path,"onUpdate:modelValue":w[1]||(w[1]=K=>r.path=K),placeholder:"è¯·å¡«å†™æœåŠ¡ç«¯ä¿å­˜ä½ç½®"},null,8,["modelValue"])]),_:1}),e(J,{label:"å¯åŠ¨æŒ‡ä»¤",name:"args",help:"æ­¤æ¨¡å¼ä¸ä¼šè‡ªåŠ¨å¸®æ‚¨é…ç½®Javaç¯å¢ƒï¼Œæ‚¨éœ€è¦å¡«å†™å®Œæ•´çš„å¯åŠ¨å‘½ä»¤ã€‚"},{default:a(()=>[e(E,{modelValue:r.args,"onUpdate:modelValue":w[2]||(w[2]=K=>r.args=K),placeholder:"start.bat...",autosize:{minRows:5,maxRows:25},class:"code-font-textarea"},null,8,["modelValue"])]),_:1}),e(J,null,{default:a(()=>[e(U,null,{default:a(()=>[e(P,{theme:"primary",type:"submit"},{default:a(()=>[...w[6]||(w[6]=[p("æäº¤åˆ›å»º",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])]),_:1}))])}}}),Dt=Je(qt,[["__scopeId","data-v-9be1ba99"]]),Et={class:"main-layout-container"},Xt={class:"steps-aside"},Gt={class:"main-content"},At={key:0,class:"form-step-container"},Nt={class:"step-content"},Ht={class:"step-content"},Ot={class:"select-core-wrapper"},Zt={key:1,class:"uploading-state"},Qt={class:"core-filename"},Wt={key:2,class:"uploading-state"},Yt={key:3,class:"selected-core-card"},el={class:"core-icon"},tl={class:"core-info"},ll={class:"core-filename"},al={class:"core-url"},ol={class:"step-content"},sl={key:0},nl={key:1},rl={key:0,class:"online-select-area"},ul={class:"select-core-wrapper"},il={key:0,class:"selected-core-card"},cl={class:"core-icon"},vl={class:"core-info"},dl={class:"core-filename"},ml={key:1,class:"online-select-area"},pl={class:"step-content"},fl={style:{width:"100%"}},_l={class:"java-option-panel"},gl={key:0,class:"flex-row"},yl={key:1,class:"flex-row"},kl={key:2},bl={key:3},hl={class:"step-content"},wl={key:1,class:"step-content creation-progress"},Vl={class:"progress-title"},Sl={key:2,class:"result-success"},Ml=_e({__name:"PackageMode",setup(ge){const L=Te(),R=u(null),W=Ee(),r=u(0),j=u(!1),I=u(!1),D=u(!1),w=u(0),N=u([]),J=u(null),E=u(null),P=u(null),U=u("online"),Z=u(!1),z=u([]),B=u(!1),K=u(""),Y=u(null),X=u(!1),G=u(0),H=u(""),ae=u(""),T=u("online"),A=u([]),oe=u([]),n=u(""),ee=u(""),ue=async(s=!1)=>{try{s&&_.info("æ­£åœ¨åˆ·æ–°Javaç‰ˆæœ¬åˆ—è¡¨...");const t=await qe(L.userInfo.systemInfo.osType.toLowerCase().replace("os",""),L.userInfo.systemInfo.osArchitecture.toLowerCase());t&&Array.isArray(t)&&(A.value=t.map(m=>({label:`Java ${m}`,value:m})),A.value.length>0&&!n.value&&(n.value=A.value[1].value)),oe.value=(await De(s)).map(m=>({label:`Java ${m.version}${m.is64Bit?"":" (32ä½)"} (${m.vendor} | ${m.path})`,value:m.path})),oe.value.length>0&&(ee.value=oe.value[0].value),s&&_.success("å·²åˆ·æ–°Javaç‰ˆæœ¬åˆ—è¡¨")}catch(t){_.warning("è·å–åœ¨çº¿Javaç‰ˆæœ¬å¤±è´¥: "+t.message)}};Ke(()=>{ue()});const c=u({name:"æ–°å»ºæ•´åˆåŒ…æœåŠ¡å™¨",path:"",java:"",core:"",coreUrl:"",coreSha256:"",coreFileKey:"",packageFileKey:"",minM:2048,maxM:6144,args:""});Re([T,n,ee],([s,t,m])=>{var f;s==="env"?c.value.java="java":s==="custom"||s==="local"?c.value.java=m:s==="online"&&(c.value.java=t?`MSLX://Java/${t}`:""),c.value.java&&((f=R.value)==null||f.validate({fields:["java"]}))},{immediate:!0});const ye=je(()=>({name:[{required:!0,message:"å®ä¾‹åç§°ä¸èƒ½ä¸ºç©º",trigger:"blur"}],packageFileKey:[{required:!0,message:"è¯·ä¸Šä¼ æ•´åˆåŒ…æ–‡ä»¶",trigger:"change"}],core:[{validator:s=>{if(z.value.length>0){if(!s)return{result:!1,message:"è¯·é€‰æ‹©ä¸€ä¸ªå¯åŠ¨Jar",type:"error"}}else{if(U.value==="online"&&!c.value.coreUrl)return{result:!1,message:"è¯·é€‰æ‹©æœåŠ¡ç«¯æ ¸å¿ƒ",type:"error"};if(U.value==="manual"&&!c.value.coreFileKey)return{result:!1,message:"è¯·ä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶",type:"error"}}return!0},trigger:"change"}],java:[{required:!0,message:"è¯·é…ç½® Java ç¯å¢ƒ",trigger:"change"}],minM:[{required:!0,min:1,message:"å¿…é¡»å¤§äº0",trigger:"blur"}],maxM:[{required:!0,min:1,message:"å¿…é¡»å¤§äº0",trigger:"blur"}]})),ke=[["name","path"],["packageFileKey"],["core","coreUrl","coreFileKey"],["java"],["minM","maxM","args"]],ie=()=>{r.value>0&&(r.value-=1)},be=async()=>{if(r.value===1){if(!c.value.packageFileKey){_.warning("è¯·å…ˆä¸Šä¼ æœåŠ¡ç«¯æ•´åˆåŒ…(Zip)");return}if(X.value||B.value){_.warning("è¯·ç­‰å¾…ä¸Šä¼ æˆ–åˆ†æå®Œæˆ");return}}if(r.value===2)if(z.value.length>0){if(!c.value.core){_.warning("è¯·ä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªå¯åŠ¨æ ¸å¿ƒ");return}}else{if(U.value==="online"&&(!c.value.coreUrl||!c.value.core)){_.warning("è¯·é€‰æ‹©ä¸€ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒ");return}if(U.value==="manual"&&!c.value.coreFileKey){_.warning("è¯·ä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶");return}}const s=await R.value.validate();if(s===!0){r.value<4&&(r.value+=1);return}const t=new Set(ke[r.value]);Object.keys(s).some(f=>t.has(f))?_.warning("è¯·æ£€æŸ¥å½“å‰æ­¥éª¤çš„è¾“å…¥"):r.value<4&&(r.value+=1)},ce=()=>{var s;(s=Y.value)==null||s.click()},he=s=>{if(s===0)return"0 B";const t=1024,m=["B","KB","MB","GB"],f=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,f)).toFixed(2))+" "+m[f]},we=async s=>{const t=s.target;if(!t.files||t.files.length===0)return;if(c.value.packageFileKey)try{await fe(c.value.packageFileKey)}catch(f){console.error(f)}c.value.core="",z.value=[],K.value="";const m=t.files[0];H.value=m.name,ae.value=he(m.size),await Ve(m),t.value=""},Ve=async s=>{X.value=!0,G.value=0;const t=5*1024*1024,m=Math.ceil(s.size/t);try{const S=(await Xe()).uploadId;if(!S)throw new Error("æ— æ³•è·å–ä¸Šä¼ å‡­è¯");for(let M=0;M<m;M++){const x=M*t,se=Math.min(s.size,x+t);await Ge(S,M,s.slice(x,se)),G.value=Math.floor((M+1)/m*100)}const V=(await Ae(S,m)).uploadId;c.value.packageFileKey=V,_.success("ä¸Šä¼ æˆåŠŸï¼Œæ­£åœ¨åˆ†ææ•´åˆåŒ…å†…å®¹..."),await Se(V)}catch(f){console.error(f),_.error(`ä¸Šä¼ å¤±è´¥: ${f.message||"æœªçŸ¥é”™è¯¯"}`),H.value="",G.value=0}finally{X.value=!1}},Se=async s=>{B.value=!0;try{const t=await et(s);z.value=t.jars||[],K.value=t.detectedRoot||"",t.count===1&&t.jars.length>0?(c.value.core=t.jars[0],_.success(`è‡ªåŠ¨è¯†åˆ«åˆ°æœåŠ¡ç«¯æ ¸å¿ƒ: ${t.jars[0]}`)):t.count>1?_.info(`æ•´åˆåŒ…å†…æ£€æµ‹åˆ° ${t.count} ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒï¼Œè¯·åœ¨ä¸‹ä¸€æ­¥é€‰æ‹©`):_.warning("æœªæ£€æµ‹åˆ°æ•´åˆåŒ…å†…å­˜åœ¨æœåŠ¡ç«¯æ ¸å¿ƒï¼Œè¯·åœ¨ä¸‹ä¸€æ­¥æ‰‹åŠ¨é…ç½®æ ¸å¿ƒ")}catch(t){_.error("æ•´åˆåŒ…åˆ†æå¤±è´¥: "+t.message)}finally{B.value=!1}},d=async()=>{c.value.packageFileKey&&(await fe(c.value.packageFileKey),c.value.packageFileKey="",H.value="",z.value=[],c.value.core="",_.success("æ–‡ä»¶å·²ç§»é™¤"))},l=s=>{c.value.core=s.filename,c.value.coreUrl=s.url,c.value.coreSha256=s.sha256,c.value.coreFileKey="",_.success(`å·²é€‰æ‹©: ${s.core} (${s.version})`)},g=async()=>{if(await R.value.validate()!==!0){_.warning("è¯·æ£€æŸ¥è¡¨å•æ‰€æœ‰å†…å®¹");return}j.value=!0,N.value=[];const t={...c.value,path:c.value.path||null,coreUrl:c.value.coreUrl||null,coreSha256:c.value.coreSha256||null,coreFileKey:c.value.coreFileKey||null,args:c.value.args||null};z.value.length>0?(t.coreUrl=null,t.coreSha256=null,t.coreFileKey=null):U.value==="manual"?(t.coreUrl=null,t.coreSha256=null):t.coreFileKey=null;try{const f=(await xe(t)).serverId;if(!f)throw new Error("æœåŠ¡å™¨æœªè¿”å› ServerId");E.value=f.toString(),I.value=!0,r.value=5,await $(E.value)}catch(m){_.error(m.message||"åˆ›å»ºè¯·æ±‚å¤±è´¥"),j.value=!1}},$=async s=>{const{baseUrl:t,token:m}=L;if(!t||!m)return;const f=new URL("/api/hubs/creationProgressHub",t||window.location.origin);f.searchParams.append("x-user-token",m),J.value=new Le().withUrl(f.toString(),{withCredentials:!1}).configureLogging(ze.Information).build(),J.value.on("StatusUpdate",(S,C,V)=>{var M,x;S.toString()===s&&(N.value.push({time:new Date().toLocaleTimeString(),message:C,progress:V}),Be(()=>{P.value&&(P.value.scrollTop=P.value.scrollHeight)}),V!==null&&V>=0&&(w.value=V),V===100?(_.success("æœåŠ¡å™¨åˆ›å»ºæˆåŠŸï¼"),(M=J.value)==null||M.stop(),I.value=!1,D.value=!0,r.value=6,j.value=!1,W.refreshInstanceList()):V===-1&&(_.error(C||"é”™è¯¯"),(x=J.value)==null||x.stop(),I.value=!1,j.value=!1,r.value=0))});try{await J.value.start(),await J.value.invoke("TrackServer",s)}catch(S){console.error("SignalR Error",S)}};return Ie(()=>{var s;(s=J.value)==null||s.stop()}),(s,t)=>{const m=i("t-step-item"),f=i("t-steps"),S=i("t-input"),C=i("t-form-item"),V=i("t-alert"),M=i("t-icon"),x=i("t-button"),se=i("t-progress"),ve=i("t-loading"),Me=i("t-radio"),re=i("t-radio-group"),te=i("t-radio-button"),de=i("t-select"),me=i("t-input-number"),pe=i("t-col"),$e=i("t-row"),b=i("t-textarea"),Ce=i("t-form"),Ne=i("t-list-item-meta"),He=i("t-list-item"),Oe=i("t-list"),Ze=i("t-card");return v(),q(Ze,{bordered:!1},{default:a(()=>[o("div",Et,[o("div",Xt,[e(f,{layout:"vertical",style:{"margin-top":"16px"},current:r.value,status:"process",readonly:""},{default:a(()=>[e(m,{title:"åŸºæœ¬ä¿¡æ¯",content:"å¡«å†™å®ä¾‹åç§°"}),e(m,{title:"ä¸Šä¼ æ•´åˆåŒ…",content:"ä¸Šä¼ æœåŠ¡ç«¯ Zip åŒ…"}),e(m,{title:"æ ¸å¿ƒé…ç½®",content:"ç¡®è®¤å¯åŠ¨çš„æœåŠ¡ç«¯æ ¸å¿ƒ"}),e(m,{title:"Java ç¯å¢ƒ",content:"é…ç½® Java è¿è¡Œæ—¶"}),e(m,{title:"èµ„æºé…ç½®",content:"è®¾ç½®å†…å­˜å‚æ•°"}),e(m,{title:"åˆ›å»ºå®ä¾‹",content:"æäº¤å¹¶ç­‰å¾…è§£å‹"}),e(m,{title:"å®Œæˆ",content:"æŸ¥çœ‹ç»“æœ"})]),_:1},8,["current"])]),o("div",Gt,[!I.value&&!D.value?(v(),k("div",At,[e(Ce,{ref_key:"formRef",ref:R,data:c.value,rules:ye.value,"label-align":"top",class:"step-form",onSubmit:g},{default:a(()=>[O(o("div",Nt,[e(C,{label:"å®ä¾‹åç§°",name:"name"},{default:a(()=>[e(S,{modelValue:c.value.name,"onUpdate:modelValue":t[0]||(t[0]=y=>c.value.name=y),placeholder:"ä¸ºä½ çš„æœåŠ¡å™¨èµ·ä¸ªåå­—"},null,8,["modelValue"])]),_:1}),e(C,{label:"å®ä¾‹è·¯å¾„",name:"path",help:"é€‰å¡«ï¼Œç•™ç©ºå°†ä½¿ç”¨é»˜è®¤è·¯å¾„"},{default:a(()=>[e(S,{modelValue:c.value.path,"onUpdate:modelValue":t[1]||(t[1]=y=>c.value.path=y),placeholder:"ä¾‹å¦‚: D:\\MyServer"},null,8,["modelValue"])]),_:1})],512),[[Q,r.value===0]]),O(o("div",Ht,[e(V,{theme:"info",class:"mb-4"},{message:a(()=>[...t[16]||(t[16]=[p(" è¯·ä¸Šä¼ åŒ…å«æœåŠ¡ç«¯æ–‡ä»¶çš„ ",-1),o("b",null,".zip",-1),p(" å‹ç¼©åŒ…ã€‚ä¸Šä¼ å®Œæˆåç³»ç»Ÿå°†è‡ªåŠ¨åˆ†æåŒ…å†…çš„æœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶ã€‚ ",-1)])]),_:1}),e(C,{label:"ä¸Šä¼ æœåŠ¡ç«¯æ•´åˆåŒ… (Zip)",name:"packageFileKey"},{default:a(()=>[o("div",Ot,[o("input",{ref_key:"uploadInputRef",ref:Y,accept:".zip",type:"file",style:{display:"none"},onChange:we},null,544),!X.value&&!c.value.packageFileKey?(v(),q(x,{key:0,variant:"outline",onClick:ce},{icon:a(()=>[e(M,{name:"upload"})]),default:a(()=>[t[17]||(t[17]=p(" ç‚¹å‡»é€‰æ‹© Zip æ–‡ä»¶å¹¶ä¸Šä¼  ",-1))]),_:1})):h("",!0),X.value?(v(),k("div",Zt,[o("div",Qt,"æ­£åœ¨ä¸Šä¼ : "+F(H.value)+" ("+F(ae.value)+")",1),e(se,{theme:"line",percentage:G.value},null,8,["percentage"]),t[18]||(t[18]=o("div",{class:"tip"},"åˆ«ç€æ€¥ï¼Œå–æ¯å’–å•¡â˜•ï¸...",-1))])):h("",!0),!X.value&&B.value?(v(),k("div",Wt,[e(ve,{text:"æ­£åœ¨åˆ†æå‹ç¼©åŒ…ç»“æ„...",size:"small"})])):h("",!0),c.value.packageFileKey&&!X.value&&!B.value?(v(),k("div",Yt,[o("div",el,[e(M,{name:"folder-zip"})]),o("div",tl,[o("div",ll,F(H.value),1),o("div",al,F(z.value.length>0?`å‘ç° ${z.value.length} ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶`:"æœªå‘ç°æœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶")+" "+F(K.value?`| æ ¹ç›®å½•: /${K.value}`:""),1)]),e(x,{shape:"circle",variant:"text",theme:"primary",onClick:ce},{icon:a(()=>[e(M,{name:"swap"})]),_:1}),e(x,{shape:"circle",variant:"text",theme:"danger",onClick:d},{icon:a(()=>[e(M,{name:"delete"})]),_:1})])):h("",!0)])]),_:1})],512),[[Q,r.value===1]]),O(o("div",ol,[z.value.length>0?(v(),k("div",sl,[e(V,{theme:"success",class:"mb-4"},{message:a(()=>[...t[19]||(t[19]=[p("æˆ‘ä»¬åœ¨å‹ç¼©åŒ…ä¸­å‘ç°äº†ä»¥ä¸‹æœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶ï¼Œè¯·é€‰æ‹©å“ªä¸€ä¸ªä½œä¸º",-1),o("b",null,"å¯åŠ¨æ ¸å¿ƒ",-1),p("ã€‚",-1)])]),_:1}),e(C,{label:"é€‰æ‹©å¯åŠ¨æ ¸å¿ƒ",name:"core"},{default:a(()=>[e(re,{modelValue:c.value.core,"onUpdate:modelValue":t[2]||(t[2]=y=>c.value.core=y),class:"vertical-radio-group"},{default:a(()=>[(v(!0),k(Ue,null,Fe(z.value,y=>(v(),k("div",{key:y,class:"jar-option-item"},[e(Me,{value:y},{default:a(()=>[p(F(y),1)]),_:2},1032,["value"])]))),128))]),_:1},8,["modelValue"])]),_:1})])):(v(),k("div",nl,[e(V,{theme:"warning",class:"mb-4"},{message:a(()=>[...t[20]||(t[20]=[p("åœ¨ä¸Šä¼ çš„åŒ…ä¸­æœªå‘ç°æœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶ã€‚è¯·åœ¨æ­¤å¤„ä¸‹è½½ä¸€ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒã€‚",-1)])]),_:1}),e(C,{label:"è¡¥å……æœåŠ¡ç«¯æ ¸å¿ƒ"},{default:a(()=>[e(re,{modelValue:U.value,"onUpdate:modelValue":t[3]||(t[3]=y=>U.value=y),variant:"default-filled"},{default:a(()=>[e(te,{value:"online"},{default:a(()=>[...t[21]||(t[21]=[p("åœ¨çº¿ä¸‹è½½æ ¸å¿ƒ",-1)])]),_:1}),e(te,{disabled:"",value:"manual"},{default:a(()=>[...t[22]||(t[22]=[p("è‡ªè¡Œä¸Šä¼ (ä¸æ”¯æŒ)",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),U.value==="online"?(v(),k("div",rl,[e(C,{label:"é€‰æ‹©æœåŠ¡ç«¯æ ¸å¿ƒ",name:"coreUrl"},{default:a(()=>[o("div",ul,[e(x,{variant:"outline",onClick:t[4]||(t[4]=y=>Z.value=!0)},{icon:a(()=>[e(M,{name:"cloud-download"})]),default:a(()=>[t[23]||(t[23]=p(" æ‰“å¼€æ ¸å¿ƒåº“ ",-1))]),_:1}),c.value.core&&U.value==="online"?(v(),k("div",il,[o("div",cl,[e(M,{name:"check-circle-filled"})]),o("div",vl,[o("div",dl,F(c.value.core),1),t[24]||(t[24]=o("div",{class:"core-url"},"å°†åœ¨åˆ›å»ºæ—¶è‡ªåŠ¨ä¸‹è½½",-1))])])):h("",!0)])]),_:1})])):h("",!0),U.value==="manual"?(v(),k("div",ml,[t[25]||(t[25]=o("div",{class:"tip-text"},"è¯·åœ¨æ•´åˆåŒ…è§£å‹åæ‰‹åŠ¨æ”¾å…¥æ ¸å¿ƒï¼Œæˆ–åœ¨æ­¤å¤„ä¸å¡«å†™ç­‰å¾…åˆ›å»ºåæ‰‹åŠ¨ä¸Šä¼ ã€‚",-1)),e(V,{theme:"error",message:"æ­¤æ¨¡å¼ä¸‹å»ºè®®ç¡®ä¿å‹ç¼©åŒ…å†…åŒ…å«æ ¸å¿ƒï¼Œæˆ–è€…ä½¿ç”¨åœ¨çº¿ä¸‹è½½åŠŸèƒ½ã€‚"})])):h("",!0)]))],512),[[Q,r.value===2]]),O(o("div",pl,[e(V,{theme:"info",title:"å¦‚ä½•é€‰æ‹© Java ç‰ˆæœ¬?",class:"java-alert"},{message:a(()=>[...t[26]||(t[26]=[o("p",null,"ä¸åŒçš„ Minecraft ç‰ˆæœ¬éœ€è¦ä¸åŒçš„ Java ç‰ˆæœ¬ã€‚",-1),o("ul",null,[o("li",null,[p("ç›®å‰æ¨èæœ€é«˜ä½¿ç”¨ "),o("b",null,"Java 21"),p(" ï¼ŒJava 25 å¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚")]),o("li",null,"MC 1.20.5 - æœ€æ–°ç‰ˆæœ¬: éœ€è¦ Java 21 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚"),o("li",null,"MC 1.18 - 1.20.4: éœ€è¦ Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚"),o("li",null,"MC 1.17/1.17.1: éœ€è¦ Java 16ã€‚"),o("li",null,"MC 1.13 - 1.16.5: éœ€è¦ Java 8 / 11ã€‚"),o("li",null,"MC 1.12.2 åŠä»¥ä¸‹: éœ€è¦ Java 8ã€‚")],-1)])]),_:1}),e(C,{label:"Java æ¥æº",name:"java"},{default:a(()=>[o("div",fl,[e(re,{modelValue:T.value,"onUpdate:modelValue":t[5]||(t[5]=y=>T.value=y),variant:"default-filled"},{default:a(()=>[e(te,{value:"online"},{default:a(()=>[...t[27]||(t[27]=[p("åœ¨çº¿ä¸‹è½½",-1)])]),_:1}),e(te,{value:"local"},{default:a(()=>[...t[28]||(t[28]=[p("æœ¬æœº Java",-1)])]),_:1}),e(te,{value:"env"},{default:a(()=>[...t[29]||(t[29]=[p("ç¯å¢ƒå˜é‡",-1)])]),_:1}),e(te,{value:"custom"},{default:a(()=>[...t[30]||(t[30]=[p("è‡ªå®šä¹‰è·¯å¾„",-1)])]),_:1})]),_:1},8,["modelValue"]),o("div",_l,[T.value==="online"?(v(),k("div",gl,[e(de,{modelValue:n.value,"onUpdate:modelValue":t[6]||(t[6]=y=>n.value=y),options:A.value,placeholder:"è¯·é€‰æ‹© Java ç‰ˆæœ¬"},null,8,["modelValue","options"])])):h("",!0),T.value==="local"?(v(),k("div",yl,[e(de,{modelValue:ee.value,"onUpdate:modelValue":t[7]||(t[7]=y=>ee.value=y),options:oe.value,placeholder:"è¯·é€‰æ‹© Java"},null,8,["modelValue","options"]),e(x,{variant:"text",onClick:t[8]||(t[8]=y=>ue(!0))},{default:a(()=>[...t[31]||(t[31]=[p("åˆ·æ–°",-1)])]),_:1})])):h("",!0),T.value==="env"?(v(),k("div",kl,[e(S,{"model-value":"java",readonly:"",disabled:""})])):h("",!0),T.value==="custom"?(v(),k("div",bl,[e(S,{modelValue:ee.value,"onUpdate:modelValue":t[9]||(t[9]=y=>ee.value=y),placeholder:"C:\\Path\\To\\java.exe"},null,8,["modelValue"])])):h("",!0)])])]),_:1})],512),[[Q,r.value===3]]),O(o("div",hl,[e($e,{gutter:16},{default:a(()=>[e(pe,{span:6},{default:a(()=>[e(C,{label:"æœ€å°å†…å­˜ (MB)",name:"minM"},{default:a(()=>[e(me,{modelValue:c.value.minM,"onUpdate:modelValue":t[10]||(t[10]=y=>c.value.minM=y),min:1},null,8,["modelValue"])]),_:1})]),_:1}),e(pe,{span:6},{default:a(()=>[e(C,{label:"æœ€å¤§å†…å­˜ (MB)",name:"maxM"},{default:a(()=>[e(me,{modelValue:c.value.maxM,"onUpdate:modelValue":t[11]||(t[11]=y=>c.value.maxM=y),min:1},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(C,{label:"JVM å‚æ•°",name:"args"},{default:a(()=>[e(b,{modelValue:c.value.args,"onUpdate:modelValue":t[12]||(t[12]=y=>c.value.args=y),placeholder:"-XX:+UseG1GC"},null,8,["modelValue"])]),_:1})],512),[[Q,r.value===4]]),e(C,{class:"step-actions",style:{"margin-top":"16px"}},{default:a(()=>[r.value>0?(v(),q(x,{key:0,theme:"default",onClick:ie},{default:a(()=>[...t[32]||(t[32]=[p("ä¸Šä¸€æ­¥",-1)])]),_:1})):h("",!0),r.value<4?(v(),q(x,{key:1,type:"button",loading:X.value||B.value,onClick:be},{default:a(()=>[...t[33]||(t[33]=[p("ä¸‹ä¸€æ­¥",-1)])]),_:1},8,["loading"])):h("",!0),r.value===4?(v(),q(x,{key:2,theme:"primary",type:"submit",loading:j.value},{default:a(()=>[...t[34]||(t[34]=[p("æäº¤åˆ›å»º",-1)])]),_:1},8,["loading"])):h("",!0)]),_:1})]),_:1},8,["data","rules"])])):h("",!0),I.value?(v(),k("div",wl,[o("div",Vl,"æ­£åœ¨åˆ›å»ºæ•´åˆåŒ…å®ä¾‹ ("+F(E.value)+")",1),t[35]||(t[35]=o("p",null,"æ­£åœ¨è§£å‹æ–‡ä»¶å¹¶é…ç½®ç¯å¢ƒ...",-1)),e(se,{theme:"plump",percentage:w.value,label:`${w.value.toFixed(2)}%`},null,8,["percentage","label"]),o("div",{ref_key:"logContainerRef",ref:P,class:"log-container"},[e(Oe,{split:!0},{default:a(()=>[(v(!0),k(Ue,null,Fe(N.value,(y,Qe)=>(v(),q(He,{key:Qe},{default:a(()=>[e(Ne,{description:`[${y.time}] ${y.message}`},null,8,["description"])]),_:2},1024))),128))]),_:1})],512)])):h("",!0),D.value?(v(),k("div",Sl,[e(M,{class:"result-success-icon",name:"check-circle"}),t[38]||(t[38]=o("div",{class:"result-success-title"},"æ•´åˆåŒ…æœåŠ¡å™¨å·²éƒ¨ç½²æˆåŠŸ",-1)),t[39]||(t[39]=o("div",{class:"result-success-describe"},"æ–‡ä»¶å·²è§£å‹ï¼Œç¯å¢ƒå·²é…ç½®å°±ç»ª",-1)),o("div",null,[e(x,{onClick:t[13]||(t[13]=y=>le(ne)("/instance/list"))},{default:a(()=>[...t[36]||(t[36]=[p(" è¿”å›æœåŠ¡ç«¯åˆ—è¡¨ ",-1)])]),_:1}),e(x,{theme:"default",onClick:t[14]||(t[14]=y=>le(ne)(`/instance/console/${E.value}`))},{default:a(()=>[...t[37]||(t[37]=[p(" å‰å¾€æ§åˆ¶å° ",-1)])]),_:1})])])):h("",!0)])]),e(Pe,{visible:Z.value,"onUpdate:visible":t[15]||(t[15]=y=>Z.value=y),onConfirm:l},null,8,["visible"])]),_:1})}}}),$l=Je(Ml,[["__scopeId","data-v-b6f61cc2"]]),ga=_e({__name:"index",setup(ge){const L=u(1);return(R,W)=>{const r=i("t-tab-panel"),j=i("t-tabs"),I=i("t-card");return v(),k("div",null,[e(I,{direction:"vertical"},{default:a(()=>[e(j,{modelValue:L.value,"onUpdate:modelValue":W[0]||(W[0]=D=>L.value=D)},{default:a(()=>[e(r,{value:1,label:"å¿«é€Ÿæ¨¡å¼","destroy-on-hide":!1},{default:a(()=>[e(Bt,{style:{margin:"10px"}})]),_:1}),e(r,{value:2,label:"ä¸Šä¼ æ•´åˆåŒ…æ¨¡å¼","destroy-on-hide":!1},{default:a(()=>[e($l,{style:{margin:"10px"}})]),_:1}),e(r,{value:3,label:"è‡ªå®šä¹‰æ¨¡å¼","destroy-on-hide":!1},{default:a(()=>[e(Dt,{style:{margin:"10px"}})]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}});export{ga as default};
