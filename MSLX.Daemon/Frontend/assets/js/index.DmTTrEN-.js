import{D as Ue,F as r,R as ze,K as ce,P as Te,aa as Ee,b0 as c,aX as y,aY as d,a$ as o,G as e,b2 as t,b6 as k,ak as Z,al as Y,ao as p,b5 as $,ap as se,bd as ol,b1 as Q,O as Be,b3 as Ie,bb as Pe,be as Xe,V as qe,W as sl}from"./index.BbdIPky0.js";import{u as De,c as ve,f as Me,i as He,g as Ae,h as Oe,_ as Le,j as nl}from"./index.Dh86awbc.js";import{S as Ne,g as Ze,a as Qe}from"./localJava.B5otYkXM.js";import{u as We,a as Ge}from"./instance.Yptueto-.js";import{M as _}from"./tdesign-vue-next.DWJvSscW.js";import"./core-js-pure.DghWRT_o.js";import"./crelt.C8TCjufn.js";import"./style-mod.Bc2inJdb.js";import"./w3c-keyname.Vcq4gwWv.js";import"./pinia.DE9DXmFR.js";import"./pinia-plugin-persistedstate.n2tMOXAx.js";import"./vue-router.CTuarHf7.js";import"./tvision-color.BU_YHHaJ.js";import"./chroma-js.Cmk4elvR.js";import"./bezier-easing.jp9ayU57.js";import"./lodash.B5_zCkFd.js";import"./axios.R-lXtGyY.js";import"./qs.CnepGyXr.js";import"./side-channel.Bf-JVZLg.js";import"./es-errors.CFxpeikN.js";import"./object-inspect.CD-SYzlK.js";import"./cron-parser.BqMfRICj.js";import"./luxon.BVaPVz1w.js";import"./side-channel-list.CQN2BsdT.js";import"./side-channel-map.BJ69Knz3.js";import"./get-intrinsic.CAdfHqt8.js";import"./es-object-atoms.Ditt1eQ6.js";import"./math-intrinsics.Cv-yPkyD.js";import"./gopd.fcd2-aIC.js";import"./es-define-property.bDCdrV83.js";import"./has-symbols.BaUvM3gb.js";import"./get-proto.Cbri-GHQ.js";import"./dunder-proto.q7lw_6_J.js";import"./call-bind-apply-helpers.BxcZtPLH.js";import"./function-bind.BbkWVFrm.js";import"./hasown.ckq0ukzO.js";import"./call-bound.BO70H6sD.js";import"./side-channel-weakmap.BkoVKe_V.js";import"./nprogress.CMq2Rk2a.js";import"./lodash-es.ClUTdtmA.js";import"./tdesign-icons-vue-next.Q06Erwsy.js";import"./mitt.DJ65BbbF.js";import"./sortablejs.C83syoBY.js";const ul={class:"main-layout-container"},rl={class:"steps-aside"},il={class:"main-content"},cl={key:0,class:"form-step-container"},vl={class:"step-content"},dl={class:"step-content"},ml={style:{width:"100%"}},pl={class:"java-option-panel"},fl={key:0,class:"flex-row"},_l={class:"tip"},gl={key:1,class:"flex-row"},yl={key:2},hl={key:3},bl={class:"step-content"},kl={key:0,class:"online-select-area"},wl={class:"select-core-wrapper"},Vl={key:0,class:"selected-core-card"},Ml={class:"core-icon"},Ul={class:"core-info"},Sl={class:"core-filename"},Cl={key:1,class:"online-select-area"},xl={class:"select-core-wrapper"},$l={key:1,class:"uploading-state"},Fl={class:"core-filename"},Jl={key:2,class:"selected-core-card"},Kl={class:"core-icon"},jl={class:"core-info"},Rl={class:"core-filename"},Bl={class:"core-url"},Il={key:2,class:"online-select-area"},Ll={class:"step-content"},Gl={key:1,class:"step-content creation-progress"},zl={class:"progress-title"},Tl={class:"log-time"},El={class:"log-message"},Pl={key:2,class:"result-success"},Xl={class:"result-success-title"},ql=Ue({__name:"QuickMode",setup(Se){const j=De(),R=r(null),ee=We(),u=r(0),B=r(!1),I=r(!1),T=r(!1),N=r(0),w=r([]),J=r(null),L=r(null),D=r(null),M=r("online"),H=r(!1),G=r(null),E=r(!1),A=r(0),K=r(""),X=r(""),P=r("online"),O=r([]),ne=r([]),z=r(""),q=r(""),ue=async(v=!1)=>{try{v&&_.info("æ­£åœ¨åˆ·æ–°Javaç‰ˆæœ¬åˆ—è¡¨(é‡æ–°æ‰«æè€—æ—¶è¾ƒé•¿)...");const a=await Ze(j.userInfo.systemInfo.osType.toLowerCase().replace("os",""),j.userInfo.systemInfo.osArchitecture.toLowerCase());a&&Array.isArray(a)&&(O.value=a.map(g=>({label:`Java ${g}`,value:g})),O.value.length>0&&!z.value&&(z.value=O.value[1].value)),ne.value=(await Qe(v)).map(g=>({label:`Java ${g.version}${g.is64Bit?"":" (32ä½)"} (${g.vendor} | ${g.path})`,value:g.path})),ne.value.length>0&&(q.value=ne.value[0].value),v&&_.success("å·²åˆ·æ–°Javaç‰ˆæœ¬åˆ—è¡¨")}catch(a){_.warning("è·å–åœ¨çº¿Javaç‰ˆæœ¬å¤±è´¥"+a.message)}};ze(()=>{ue()});const n=r({name:"æ–°å»ºæœåŠ¡å™¨",path:"",java:"",core:"",coreUrl:"",coreSha256:"",coreFileKey:"",packageFileKey:"",minM:1024,maxM:4096,args:""}),W=[{label:"GB",value:"GB"},{label:"MB",value:"MB"}],le=r("GB"),i=r("GB"),ae=ce({get:()=>le.value==="GB"?n.value.minM/1024:n.value.minM,set:v=>{n.value.minM=le.value==="GB"?Math.round(v*1024):v}}),te=ce({get:()=>i.value==="GB"?n.value.maxM/1024:n.value.maxM,set:v=>{n.value.maxM=i.value==="GB"?Math.round(v*1024):v}});Te([P,z,q],([v,a,g])=>{var U;v==="env"?n.value.java="java":v==="custom"||v==="local"?n.value.java=g:v==="online"&&(n.value.java=a?`MSLX://Java/${a}`:""),n.value.java&&((U=R.value)==null||U.validate({fields:["java"]}))},{immediate:!0});const me=ce(()=>({name:[{required:!0,message:"å®ä¾‹åç§°ä¸èƒ½ä¸ºç©º",trigger:"blur"}],java:[{required:!0,message:"è¯·é…ç½® Java ç¯å¢ƒ",trigger:"change"}],core:[{required:!0,message:"æ ¸å¿ƒåç§°/æ–‡ä»¶ä¸èƒ½ä¸ºç©º",trigger:"change"}],coreUrl:[{validator:v=>{if(M.value==="online"){if(!v)return{result:!1,message:"è¯·é€‰æ‹©ä¸€ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒ",type:"error"};if(v&&!/^https?:\/\/.+/.test(v))return{result:!1,message:"ä¸‹è½½åœ°å€å¿…é¡»ä»¥ http(s) å¼€å¤´",type:"error"}}return!0},trigger:"change"}],coreFileKey:[{validator:v=>M.value==="manual"&&!v?{result:!1,message:"è¯·ä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶",type:"error"}:!0,trigger:"change"}],minM:[{required:!0,min:1,message:"æœ€å°å†…å­˜å¿…é¡»å¤§äº0",trigger:"blur"}],maxM:[{required:!0,min:1,message:"æœ€å¤§å†…å­˜å¿…é¡»å¤§äº0",trigger:"blur"}]})),pe=[["name","path"],["java"],["core","coreUrl","coreSha256","coreFileKey"],["minM","maxM","args"]],fe=()=>{u.value>0&&(u.value-=1)},Ce=async()=>{if(u.value===2){if(M.value==="online"){if(!n.value.coreUrl||!n.value.core){_.warning("è¯·ç‚¹å‡»æŒ‰é’®é€‰æ‹©ä¸€ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒ");return}}else if(M.value==="custom"){if(!n.value.core){_.warning("è¯·è¾“å…¥æ ¸å¿ƒæ–‡ä»¶å");return}}else if(!n.value.coreFileKey){_.warning("è¯·å…ˆä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶");return}}const v=await R.value.validate();if(v===!0){u.value<3&&(u.value+=1);return}const a=new Set(pe[u.value]);Object.keys(v).some(U=>a.has(U))?_.warning("è¯·æ£€æŸ¥å½“å‰æ­¥éª¤çš„è¾“å…¥"):u.value<3&&(u.value+=1)},xe=v=>{n.value.core=v.filename,n.value.coreUrl=v.url,n.value.coreSha256=v.sha256,n.value.coreFileKey="",_.success(`å·²é€‰æ‹©: ${v.core} (${v.version})`),R.value.validate({fields:["core","coreUrl"]})},_e=()=>{var v;(v=G.value)==null||v.click()},$e=v=>{if(v===0)return"0 B";const a=1024,g=["B","KB","MB","GB"],U=Math.floor(Math.log(v)/Math.log(a));return parseFloat((v/Math.pow(a,U)).toFixed(2))+" "+g[U]},ge=async v=>{const a=v.target;if(!a.files||a.files.length===0)return;if(n.value.coreFileKey)try{await Me(n.value.coreFileKey),console.log("æ—§ä¸´æ—¶æ–‡ä»¶å·²æ¸…ç†:",n.value.coreFileKey)}catch(s){console.warn("æ¸…ç†æ—§æ–‡ä»¶å¤±è´¥ï¼Œå¯èƒ½æ–‡ä»¶å·²è¿‡æœŸ",s)}const g=a.files[0],U=g.name;n.value.core=U,n.value.coreUrl="",n.value.coreSha256="",n.value.coreFileKey="",K.value=U,X.value=$e(g.size),await Fe(g),a.value=""},Fe=async v=>{E.value=!0,A.value=0;const a=5*1024*1024,g=Math.ceil(v.size/a);try{const s=(await He()).uploadId;if(!s)throw new Error("æ— æ³•è·å–ä¸Šä¼ å‡­è¯");for(let f=0;f<g;f++){const S=f*a,C=Math.min(v.size,S+a),V=v.slice(S,C);await Ae(s,f,V),A.value=Math.floor((f+1)/g*100)}const m=(await Oe(s,g)).uploadId;n.value.coreFileKey=m,_.success("æ ¸å¿ƒæ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼"),R.value.validate({fields:["core","coreFileKey"]})}catch(U){console.error(U),_.error(`ä¸Šä¼ å¤±è´¥: ${U.message||"æœªçŸ¥é”™è¯¯"}`),n.value.core="",K.value="",A.value=0}finally{E.value=!1}},Je=async()=>{n.value.coreFileKey&&(await Me(n.value.coreFileKey),n.value.coreFileKey="",n.value.core="",K.value="",_.success("æ–‡ä»¶å·²ç§»é™¤"))},Ke=async()=>{if(!(await R.value.validate()===!0)){_.warning("è¯·æ£€æŸ¥è¡¨å•æ‰€æœ‰å†…å®¹");return}B.value=!0,w.value=[];const g={...n.value,path:n.value.path||null,coreUrl:n.value.coreUrl||null,coreSha256:n.value.coreSha256||null,coreFileKey:n.value.coreFileKey||null,args:n.value.args||null};M.value==="manual"?(g.coreUrl=null,g.coreSha256=null):g.coreFileKey=null;try{const s=(await Ge(g)).serverId;if(!s)throw new Error("æœåŠ¡å™¨æœªè¿”å› ServerId");L.value=s.toString(),I.value=!0,u.value=4,await je(L.value)}catch(U){const s=U.message||"åˆ›å»ºè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–åç«¯æœåŠ¡";_.error(s),B.value=!1}},je=async v=>{const{baseUrl:a,token:g}=j;let U=!1;const s=new URL("/api/hubs/creationProgressHub",a||window.location.origin);s.searchParams.append("x-user-token",g),J.value=new Pe().withUrl(s.toString(),{withCredentials:!1}).configureLogging(Xe.Information).build();const l=(m,f=null)=>{w.value.push({time:new Date().toLocaleTimeString(),message:m,progress:f}),qe(()=>{D.value&&(D.value.scrollTop=D.value.scrollHeight)})};J.value.on("StatusUpdate",(m,f,S)=>{var C,V;m.toString()===v&&(l(f,S),S!==null&&S>=0&&(N.value=S),S===100?(U=!0,_.success("æœåŠ¡å™¨åˆ›å»ºæˆåŠŸï¼"),(C=J.value)==null||C.stop(),I.value=!1,T.value=!0,u.value=5,B.value=!1,ee.refreshInstanceList()):S===-1&&(_.error(f||"åˆ›å»ºè¿‡ç¨‹ä¸­å‘ç”ŸæœªçŸ¥é”™è¯¯"),(V=J.value)==null||V.stop(),I.value=!1,B.value=!1,u.value=0))});try{await J.value.start(),l("å·²è¿æ¥åˆ°å®æ—¶è¿›åº¦æœåŠ¡..."),await J.value.invoke("TrackServer",v),l("å·²è®¢é˜…ä»»åŠ¡ï¼Œç­‰å¾…æœåŠ¡å™¨å“åº”...")}catch(m){U||(l(`SignalR è¿æ¥å¤±è´¥: ${m.message}`,-1),_.error("æ— æ³•è¿æ¥åˆ°å®æ—¶è¿›åº¦æœåŠ¡"),I.value=!1,B.value=!1,u.value=0)}};Ee(()=>{var v;(v=J.value)==null||v.stop()});const ye=()=>{T.value=!1,u.value=0,n.value={...n.value,name:"æ–°å»ºæœåŠ¡å™¨",core:"",coreUrl:"",coreSha256:"",path:"",args:"",coreFileKey:""},K.value="",M.value="online",P.value="online",q.value=""};return(v,a)=>{const g=c("t-step-item"),U=c("t-steps"),s=c("t-input"),l=c("t-form-item"),m=c("t-alert"),f=c("t-radio-button"),S=c("t-radio-group"),C=c("t-select"),V=c("t-button"),x=c("t-icon"),F=c("t-progress"),re=c("t-input-number"),he=c("t-space"),be=c("t-col"),de=c("t-row"),oe=c("t-textarea"),ie=c("t-form"),ke=c("t-list-item-meta"),we=c("t-list-item"),Ve=c("t-list");return d(),y("div",null,[o("div",ul,[o("div",rl,[e(U,{layout:"vertical",style:{"margin-top":"16px"},current:u.value,status:"process",readonly:""},{default:t(()=>[e(g,{title:"åŸºæœ¬ä¿¡æ¯",content:"å¡«å†™å®ä¾‹åç§°å’Œè·¯å¾„"}),e(g,{title:"Java ç¯å¢ƒ",content:"é…ç½® Java è¿è¡Œæ—¶"}),e(g,{title:"æ ¸å¿ƒæ–‡ä»¶",content:"æŒ‡å®šæ ¸å¿ƒæ–‡ä»¶åŠä¸‹è½½"}),e(g,{title:"èµ„æºé…ç½®",content:"è®¾ç½®å†…å­˜ä¸ JVM å‚æ•°"}),e(g,{title:"åˆ›å»ºå®ä¾‹",content:"æäº¤å¹¶ç­‰å¾…åˆ›å»º"}),e(g,{title:"å®Œæˆ",content:"æŸ¥çœ‹åˆ›å»ºç»“æœ"})]),_:1},8,["current"])]),o("div",il,[!I.value&&!T.value?(d(),y("div",cl,[e(ie,{ref_key:"formRef",ref:R,data:n.value,rules:me.value,"label-align":"top",class:"step-form",onSubmit:Ke},{default:t(()=>[Z(o("div",vl,[e(l,{label:"å®ä¾‹åç§°",name:"name"},{default:t(()=>[e(s,{modelValue:n.value.name,"onUpdate:modelValue":a[0]||(a[0]=h=>n.value.name=h),placeholder:"ä¸ºä½ çš„æœåŠ¡å™¨èµ·ä¸ªåå­—"},null,8,["modelValue"])]),_:1}),e(l,{label:"å®ä¾‹è·¯å¾„",name:"path",help:"é€‰å¡«ï¼Œç•™ç©ºå°†ä½¿ç”¨é»˜è®¤è·¯å¾„"},{default:t(()=>[e(s,{modelValue:n.value.path,"onUpdate:modelValue":a[1]||(a[1]=h=>n.value.path=h),placeholder:"ä¾‹å¦‚: D:\\MyServer"},null,8,["modelValue"])]),_:1})],512),[[Y,u.value===0]]),Z(o("div",dl,[e(m,{theme:"info",title:"å¦‚ä½•é€‰æ‹© Java ç‰ˆæœ¬?",class:"java-alert"},{message:t(()=>[...a[20]||(a[20]=[o("p",null,"ä¸åŒçš„ Minecraft ç‰ˆæœ¬éœ€è¦ä¸åŒçš„ Java ç‰ˆæœ¬ã€‚",-1),o("ul",null,[o("li",null,[p("å»ºè®®ç›´æ¥ä½¿ç”¨ "),o("b",null,"æ¨èç‰ˆæœ¬"),p(" è¶…å‡ºç‰ˆæœ¬å¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚")]),o("li",null,"MC 26.1 - æœ€æ–°ç‰ˆ: éœ€è¦ Java 25 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚"),o("li",null,"MC 1.20.5 - 1.21.10: éœ€è¦ Java 21 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚"),o("li",null,"MC 1.18 - 1.20.4: éœ€è¦ Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚"),o("li",null,"MC 1.17/1.17.1: éœ€è¦ Java 16ã€‚"),o("li",null,"MC 1.13 - 1.16.5: éœ€è¦ Java 8 / 11ã€‚"),o("li",null,"MC 1.12.2 åŠä»¥ä¸‹: éœ€è¦ Java 8ã€‚")],-1)])]),_:1}),e(l,{label:"Java æ¥æº",name:"java"},{default:t(()=>[o("div",ml,[e(S,{modelValue:P.value,"onUpdate:modelValue":a[2]||(a[2]=h=>P.value=h),variant:"default-filled"},{default:t(()=>[e(f,{value:"online"},{default:t(()=>[...a[21]||(a[21]=[p("åœ¨çº¿ä¸‹è½½",-1)])]),_:1}),e(f,{value:"local"},{default:t(()=>[...a[22]||(a[22]=[p("é€‰æ‹©ç”µè„‘ä¸Šçš„ Java",-1)])]),_:1}),e(f,{value:"env"},{default:t(()=>[...a[23]||(a[23]=[p("ç¯å¢ƒå˜é‡",-1)])]),_:1}),e(f,{value:"custom"},{default:t(()=>[...a[24]||(a[24]=[p("è‡ªå®šä¹‰è·¯å¾„",-1)])]),_:1})]),_:1},8,["modelValue"]),o("div",pl,[P.value==="online"?(d(),y("div",fl,[e(C,{modelValue:z.value,"onUpdate:modelValue":a[3]||(a[3]=h=>z.value=h),options:O.value,placeholder:"è¯·é€‰æ‹© Java ç‰ˆæœ¬"},null,8,["modelValue","options"]),o("div",_l," å°†ä¸‹è½½å¹¶ä½¿ç”¨ Java "+$(z.value||"?")+" "+$(se(j).userInfo.systemInfo.osType.toLowerCase().replace("os",""))+" / "+$(se(j).userInfo.systemInfo.osArchitecture.toLowerCase()),1)])):k("",!0),P.value==="local"?(d(),y("div",gl,[e(C,{modelValue:q.value,"onUpdate:modelValue":a[4]||(a[4]=h=>q.value=h),options:ne.value,placeholder:"è¯·é€‰æ‹© Java ç‰ˆæœ¬"},null,8,["modelValue","options"]),e(V,{variant:"outline",theme:"primary",onClick:a[5]||(a[5]=h=>ue(!0))},{default:t(()=>[...a[25]||(a[25]=[p("é‡æ–°æ‰«æ",-1)])]),_:1})])):k("",!0),P.value==="env"?(d(),y("div",yl,[e(s,{"model-value":"java",readonly:"",disabled:""}),a[26]||(a[26]=o("div",{class:"tip"},"å°†ä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­çš„ java å‘½ä»¤",-1))])):k("",!0),P.value==="custom"?(d(),y("div",hl,[e(s,{modelValue:q.value,"onUpdate:modelValue":a[6]||(a[6]=h=>q.value=h),placeholder:"ä¾‹å¦‚: C:\\Program Files\\Java\\jdk-17\\bin\\java.exe"},null,8,["modelValue"])])):k("",!0)])])]),_:1})],512),[[Y,u.value===1]]),Z(o("div",bl,[e(l,{label:"é€‰æ‹©æ‚¨çš„Minecraftå¼€æœä½¿ç”¨çš„æœåŠ¡ç«¯æ ¸å¿ƒ"},{default:t(()=>[e(S,{modelValue:M.value,"onUpdate:modelValue":a[7]||(a[7]=h=>M.value=h),variant:"default-filled"},{default:t(()=>[e(f,{value:"online"},{default:t(()=>[...a[27]||(a[27]=[p("åœ¨çº¿ä¸‹è½½ (æ¨è)",-1)])]),_:1}),e(f,{value:"manual"},{default:t(()=>[...a[28]||(a[28]=[p("é€‰æ‹©æœ¬åœ°æ–‡ä»¶",-1)])]),_:1}),e(f,{value:"custom"},{default:t(()=>[...a[29]||(a[29]=[p("è‡ªå®šä¹‰æ–‡ä»¶å",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),M.value==="online"?(d(),y("div",kl,[e(l,{label:"é€‰æ‹©æœåŠ¡ç«¯æ ¸å¿ƒ",name:"coreUrl"},{default:t(()=>[o("div",wl,[e(V,{variant:"outline",onClick:a[8]||(a[8]=h=>H.value=!0)},{icon:t(()=>[e(x,{name:"cloud-download"})]),default:t(()=>[a[30]||(a[30]=p(" ç‚¹å‡»æ‰“å¼€æœåŠ¡ç«¯æ ¸å¿ƒé€‰æ‹©åº“ ",-1))]),_:1}),n.value.core?(d(),y("div",Vl,[o("div",Ml,[e(x,{name:"check-circle-filled"})]),o("div",Ul,[o("div",Sl,$(n.value.core),1),a[31]||(a[31]=o("div",{class:"core-url",title:"MSLX å°†åœ¨ç¨åå¸®æ‚¨è‡ªåŠ¨ä¸‹è½½æ­¤æ–‡ä»¶..."}," MSLX å°†åœ¨ç¨åå¸®æ‚¨è‡ªåŠ¨ä¸‹è½½æ­¤æ–‡ä»¶... ",-1))]),e(V,{shape:"circle",variant:"text",theme:"danger",onClick:a[9]||(a[9]=h=>{n.value.core="",n.value.coreUrl=""})},{default:t(()=>[e(x,{name:"close"})]),_:1})])):k("",!0)])]),_:1}),Z(o("input",{"onUpdate:modelValue":a[10]||(a[10]=h=>n.value.coreSha256=h),type:"hidden"},null,512),[[ol,n.value.coreSha256]])])):k("",!0),M.value==="manual"?(d(),y("div",Cl,[e(l,{label:"ä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶",name:"coreFileKey"},{default:t(()=>[o("div",xl,[o("input",{ref_key:"uploadInputRef",ref:G,accept:".jar",type:"file",style:{display:"none"},onChange:ge},null,544),!E.value&&!n.value.coreFileKey?(d(),Q(V,{key:0,variant:"outline",onClick:_e},{icon:t(()=>[e(x,{name:"upload"})]),default:t(()=>[a[32]||(a[32]=p(" ç‚¹å‡»é€‰æ‹©æ–‡ä»¶å¹¶ä¸Šä¼  ",-1))]),_:1})):k("",!0),E.value?(d(),y("div",$l,[o("div",Fl,"æ­£åœ¨ä¸Šä¼ : "+$(K.value)+" ("+$(X.value)+")",1),e(F,{theme:"line",percentage:A.value},null,8,["percentage"]),a[33]||(a[33]=o("div",{class:"tip"},"åˆ«ç€æ€¥ï¼Œå–æ¯èŒ¶ğŸµ...",-1))])):k("",!0),n.value.coreFileKey&&!E.value?(d(),y("div",Jl,[o("div",Kl,[e(x,{name:"check-circle-filled"})]),o("div",jl,[o("div",Rl,$(K.value),1),o("div",Bl,$(X.value)+" | å·²ä¸Šä¼ å‡†å¤‡å°±ç»ª",1)]),e(V,{shape:"circle",variant:"text",theme:"primary",onClick:_e},{icon:t(()=>[e(x,{name:"swap"})]),_:1}),e(V,{shape:"circle",variant:"text",theme:"danger",onClick:Je},{icon:t(()=>[e(x,{name:"delete"})]),_:1})])):k("",!0)])]),_:1})])):k("",!0),M.value==="custom"?(d(),y("div",Il,[e(m,{theme:"warning",message:"æ­¤æ¨¡å¼é€šå¸¸ç”¨äºæœåŠ¡å™¨ç›®å½•ä¸­å·²ç»å­˜åœ¨æ ¸å¿ƒæ–‡ä»¶ï¼Œæˆ–è€…æ‚¨æ‰“ç®—ç¨åæ‰‹åŠ¨é€šè¿‡æ–‡ä»¶ç®¡ç†ä¸Šä¼ æ ¸å¿ƒã€‚",style:{"margin-bottom":"16px"}}),e(l,{label:"æ ¸å¿ƒæ–‡ä»¶å",name:"core",help:"è¯·ç¡®ä¿æ–‡ä»¶ååŒ…å«åç¼€ï¼Œä¾‹å¦‚: server.jar"},{default:t(()=>[e(s,{modelValue:n.value.core,"onUpdate:modelValue":a[11]||(a[11]=h=>n.value.core=h),placeholder:"è¯·è¾“å…¥æ ¸å¿ƒæ–‡ä»¶å (ä¾‹å¦‚ server.jar)"},null,8,["modelValue"])]),_:1})])):k("",!0)],512),[[Y,u.value===2]]),Z(o("div",Ll,[e(de,{gutter:[16,24]},{default:t(()=>[e(be,{xs:12,span:6},{default:t(()=>[e(l,{label:"æœ€å°å†…å­˜",name:"minM"},{default:t(()=>[e(he,{size:8,style:{width:"100%"}},{default:t(()=>[e(re,{modelValue:ae.value,"onUpdate:modelValue":a[12]||(a[12]=h=>ae.value=h),min:0,"decimal-places":le.value==="GB"?1:0,placeholder:"Xms",theme:"column",style:{width:"100%"}},null,8,["modelValue","decimal-places"]),e(C,{modelValue:le.value,"onUpdate:modelValue":a[13]||(a[13]=h=>le.value=h),options:W,clearable:!1,style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(be,{xs:12,span:6},{default:t(()=>[e(l,{label:"æœ€å¤§å†…å­˜",name:"maxM"},{default:t(()=>[e(he,{size:8,style:{width:"100%"}},{default:t(()=>[e(re,{modelValue:te.value,"onUpdate:modelValue":a[14]||(a[14]=h=>te.value=h),min:0,"decimal-places":i.value==="GB"?1:0,placeholder:"Xmx",theme:"column",style:{width:"100%"}},null,8,["modelValue","decimal-places"]),e(C,{modelValue:i.value,"onUpdate:modelValue":a[15]||(a[15]=h=>i.value=h),options:W,clearable:!1,style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(l,{label:"é¢å¤– JVM å‚æ•° (å¯é€‰)",name:"args",help:"ä¾‹å¦‚: -XX:+UseG1GC",style:{"margin-top":"16px"}},{default:t(()=>[e(oe,{modelValue:n.value.args,"onUpdate:modelValue":a[16]||(a[16]=h=>n.value.args=h),placeholder:"-XX:+UseG1GC"},null,8,["modelValue"])]),_:1})],512),[[Y,u.value===3]]),e(l,{class:"step-actions"},{default:t(()=>[u.value>0?(d(),Q(V,{key:0,theme:"default",onClick:fe},{default:t(()=>[...a[34]||(a[34]=[p("ä¸Šä¸€æ­¥",-1)])]),_:1})):k("",!0),u.value<3?(d(),Q(V,{key:1,type:"button",onClick:Ce},{default:t(()=>[...a[35]||(a[35]=[p("ä¸‹ä¸€æ­¥",-1)])]),_:1})):k("",!0),u.value===3?(d(),Q(V,{key:2,theme:"primary",type:"submit",loading:B.value},{default:t(()=>[...a[36]||(a[36]=[p(" æäº¤åˆ›å»º ",-1)])]),_:1},8,["loading"])):k("",!0)]),_:1})]),_:1},8,["data","rules"])])):k("",!0),I.value?(d(),y("div",Gl,[o("div",zl,"æ­£åœ¨åˆ›å»ºå®ä¾‹ ("+$(L.value)+")",1),a[37]||(a[37]=o("p",null,"è¯·å‹¿å…³é—­æ­¤é¡µé¢ï¼Œåˆ›å»ºè¿‡ç¨‹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿ...",-1)),e(F,{theme:"plump",percentage:N.value,label:`${N.value.toFixed(2)}%`},null,8,["percentage","label"]),o("div",{ref_key:"logContainerRef",ref:D,class:"log-container"},[e(Ve,{split:!0},{default:t(()=>[(d(!0),y(Be,null,Ie(w.value,(h,Re)=>(d(),Q(we,{key:Re},{default:t(()=>[e(ke,null,{description:t(()=>[o("span",Tl,"["+$(h.time)+"]",1),o("span",El,$(h.message),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})],512)])):k("",!0),T.value?(d(),y("div",Pl,[e(x,{class:"result-success-icon",name:"check-circle"}),o("div",Xl,"æœåŠ¡å™¨ ("+$(L.value)+") å·²åˆ›å»ºæˆåŠŸ",1),a[40]||(a[40]=o("div",{class:"result-success-describe"},"ä½ ç°åœ¨å¯ä»¥å»æœåŠ¡å™¨åˆ—è¡¨å¯åŠ¨å®ƒäº†",-1)),o("div",null,[e(V,{onClick:a[17]||(a[17]=()=>{ye(),se(ve)("/instance/list")})},{default:t(()=>[...a[38]||(a[38]=[p(" è¿”å›æœåŠ¡ç«¯åˆ—è¡¨ ",-1)])]),_:1}),e(V,{theme:"default",onClick:a[18]||(a[18]=()=>{ye(),se(ve)(`/instance/console/${L.value}`)})},{default:t(()=>[...a[39]||(a[39]=[p(" å‰å¾€æ§åˆ¶å° ",-1)])]),_:1})])])):k("",!0)])]),e(Ne,{visible:H.value,"onUpdate:visible":a[19]||(a[19]=h=>H.value=h),onConfirm:xe},null,8,["visible"])])}}}),Dl=Le(ql,[["__scopeId","data-v-6b4739ba"]]),Hl={key:0},Al={key:1,class:"result-success"},Ol={class:"result-success-title"},Nl=Ue({__name:"CustomMode",setup(Se){const j=r(!1),R=r(0),ee=r(null),u=sl({name:"",path:null,java:"none",core:"none",coreUrl:"",coreSha256:"",coreFileKey:"",packageFileKey:"",minM:1027,maxM:1027,args:"",ignoreEula:!0}),B={name:[{required:!0,message:"è¯·è¾“å…¥æœåŠ¡å™¨åç§°",type:"error"}],args:[{required:!0,message:"è¯·è¾“å…¥è‡ªå®šä¹‰å¯åŠ¨å‚æ•°",type:"error"}]},I=async({validateResult:N})=>{if(N===!0)try{const w=await Ge(u);R.value=w.serverId,_.success("åˆ›å»ºæˆåŠŸ"),j.value=!0}catch(w){_.error("åˆ›å»ºå¤±è´¥ï¼"+w.message)}else _.warning("è¯·æ£€æŸ¥è¡¨å•å¡«å†™")},T=()=>{j.value=!1,Object.assign(u,{name:"æ–°å»ºæœåŠ¡å™¨",path:null,java:"none",core:"none",packageFileKey:"",coreFileKey:"",coreUrl:"",coreSha256:"",minM:1027,maxM:1027,args:"",ignoreEula:!0})};return(N,w)=>{const J=c("t-input"),L=c("t-form-item"),D=c("t-textarea"),M=c("t-switch"),H=c("t-button"),G=c("t-space"),E=c("t-form"),A=c("t-icon");return d(),y("div",null,[j.value?(d(),y("div",Al,[e(A,{class:"result-success-icon",name:"check-circle"}),o("div",Ol,"æœåŠ¡å™¨ ("+$(R.value)+") å·²åˆ›å»ºæˆåŠŸ",1),w[9]||(w[9]=o("div",{class:"result-success-describe"},"ä½ ç°åœ¨å¯ä»¥å»æœåŠ¡å™¨åˆ—è¡¨å¯åŠ¨å®ƒäº†",-1)),o("div",null,[e(H,{onClick:w[4]||(w[4]=()=>{T(),se(ve)("/instance/list")})},{default:t(()=>[...w[7]||(w[7]=[p(" è¿”å›æœåŠ¡ç«¯åˆ—è¡¨ ",-1)])]),_:1}),e(H,{theme:"default",onClick:w[5]||(w[5]=()=>{T(),se(ve)(`/instance/console/${R.value}`)})},{default:t(()=>[...w[8]||(w[8]=[p(" å‰å¾€æ§åˆ¶å° ",-1)])]),_:1})])])):(d(),y("div",Hl,[e(E,{ref_key:"formRef",ref:ee,rules:B,data:u,"label-align":"top",onSubmit:I},{default:t(()=>[e(L,{label:"æœåŠ¡å™¨åç§°",name:"name"},{default:t(()=>[e(J,{modelValue:u.name,"onUpdate:modelValue":w[0]||(w[0]=K=>u.name=K),placeholder:"ç»™ä½ çš„æœåŠ¡å™¨èµ·ä¸€ä¸ªåå­—"},null,8,["modelValue"])]),_:1}),e(L,{label:"å­˜å‚¨è·¯å¾„(å¯é€‰)",name:"path",help:"ä¸å¡«å†™å°†ä½¿ç”¨é»˜è®¤çš„ä¿å­˜è·¯å¾„ã€‚"},{default:t(()=>[e(J,{modelValue:u.path,"onUpdate:modelValue":w[1]||(w[1]=K=>u.path=K),placeholder:"è¯·å¡«å†™æœåŠ¡ç«¯ä¿å­˜ä½ç½®"},null,8,["modelValue"])]),_:1}),e(L,{label:"å¯åŠ¨æŒ‡ä»¤",name:"args",help:"æ­¤æ¨¡å¼ä¸ä¼šè‡ªåŠ¨å¸®æ‚¨é…ç½®Javaç¯å¢ƒï¼Œæ‚¨éœ€è¦å¡«å†™å®Œæ•´çš„å¯åŠ¨å‘½ä»¤ã€‚"},{default:t(()=>[e(D,{modelValue:u.args,"onUpdate:modelValue":w[2]||(w[2]=K=>u.args=K),placeholder:"start.bat...",autosize:{minRows:5,maxRows:25},class:"code-font-textarea"},null,8,["modelValue"])]),_:1}),e(L,{label:"å¿½ç•¥EULAæç¤º",name:"args",help:"è‹¥æ‚¨çš„å®ä¾‹å¹¶éMCæœåŠ¡å™¨ï¼Œå¯æ‰“å¼€æ­¤é€‰é¡¹"},{default:t(()=>[e(M,{modelValue:u.ignoreEula,"onUpdate:modelValue":w[3]||(w[3]=K=>u.ignoreEula=K),label:["å·²å¼€å¯","å·²å…³é—­"]},null,8,["modelValue"])]),_:1}),e(L,{style:{"margin-top":"20px"}},{default:t(()=>[e(G,null,{default:t(()=>[e(H,{theme:"primary",type:"submit"},{default:t(()=>[...w[6]||(w[6]=[p("æäº¤åˆ›å»º",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])]))])}}}),Zl=Le(Nl,[["__scopeId","data-v-d883bd6a"]]),Ql={class:"main-layout-container"},Wl={class:"steps-aside"},Yl={class:"main-content"},ea={key:0,class:"form-step-container"},la={class:"step-content"},aa={class:"step-content"},ta={class:"select-core-wrapper"},oa={key:1,class:"uploading-state"},sa={class:"core-filename"},na={key:2,class:"uploading-state"},ua={key:3,class:"selected-core-card"},ra={class:"core-icon"},ia={class:"core-info"},ca={class:"core-filename"},va={class:"core-url"},da={class:"step-content"},ma={key:0},pa={key:1},fa={key:0,class:"online-select-area"},_a={class:"select-core-wrapper"},ga={key:0,class:"selected-core-card"},ya={class:"core-icon"},ha={class:"core-info"},ba={class:"core-filename"},ka={key:1,class:"online-select-area"},wa={class:"step-content"},Va={style:{width:"100%"}},Ma={class:"java-option-panel"},Ua={key:0,class:"flex-row"},Sa={key:1,class:"flex-row"},Ca={key:2},xa={key:3},$a={class:"step-content"},Fa={key:1,class:"step-content creation-progress"},Ja={class:"progress-title"},Ka={key:2,class:"result-success"},ja=Ue({__name:"PackageMode",setup(Se){const j=De(),R=r(null),ee=We(),u=r(0),B=r(!1),I=r(!1),T=r(!1),N=r(0),w=r([]),J=r(null),L=r(null),D=r(null),M=r("online"),H=r(!1),G=r([]),E=r(!1),A=r(""),K=r(null),X=r(!1),P=r(0),O=r(""),ne=r(""),z=r("online"),q=r([]),ue=r([]),n=r(""),W=r(""),le=async(s=!1)=>{try{s&&_.info("æ­£åœ¨åˆ·æ–°Javaç‰ˆæœ¬åˆ—è¡¨...");const l=await Ze(j.userInfo.systemInfo.osType.toLowerCase().replace("os",""),j.userInfo.systemInfo.osArchitecture.toLowerCase());l&&Array.isArray(l)&&(q.value=l.map(m=>({label:`Java ${m}`,value:m})),q.value.length>0&&!n.value&&(n.value=q.value[1].value)),ue.value=(await Qe(s)).map(m=>({label:`Java ${m.version}${m.is64Bit?"":" (32ä½)"} (${m.vendor} | ${m.path})`,value:m.path})),ue.value.length>0&&(W.value=ue.value[0].value),s&&_.success("å·²åˆ·æ–°Javaç‰ˆæœ¬åˆ—è¡¨")}catch(l){_.warning("è·å–åœ¨çº¿Javaç‰ˆæœ¬å¤±è´¥: "+l.message)}};ze(()=>{le()});const i=r({name:"æ–°å»ºæ•´åˆåŒ…æœåŠ¡å™¨",path:"",java:"",core:"",coreUrl:"",coreSha256:"",coreFileKey:"",packageFileKey:"",minM:2048,maxM:6144,args:""}),ae=r("GB"),te=r("GB"),me=[{label:"MB",value:"MB"},{label:"GB",value:"GB"}],pe=ce({get:()=>ae.value==="GB"?i.value.minM/1024:i.value.minM,set:s=>{i.value.minM=ae.value==="GB"?Math.round(s*1024):s}}),fe=ce({get:()=>te.value==="GB"?i.value.maxM/1024:i.value.maxM,set:s=>{i.value.maxM=te.value==="GB"?Math.round(s*1024):s}});Te([z,n,W],([s,l,m])=>{var f;s==="env"?i.value.java="java":s==="custom"||s==="local"?i.value.java=m:s==="online"&&(i.value.java=l?`MSLX://Java/${l}`:""),i.value.java&&((f=R.value)==null||f.validate({fields:["java"]}))},{immediate:!0});const Ce=ce(()=>({name:[{required:!0,message:"å®ä¾‹åç§°ä¸èƒ½ä¸ºç©º",trigger:"blur"}],packageFileKey:[{required:!0,message:"è¯·ä¸Šä¼ æ•´åˆåŒ…æ–‡ä»¶",trigger:"change"}],core:[{validator:s=>{if(G.value.length>0){if(!s)return{result:!1,message:"è¯·é€‰æ‹©ä¸€ä¸ªå¯åŠ¨Jar",type:"error"}}else{if(M.value==="online"&&!i.value.coreUrl)return{result:!1,message:"è¯·é€‰æ‹©æœåŠ¡ç«¯æ ¸å¿ƒ",type:"error"};if(M.value==="manual"&&!i.value.coreFileKey)return{result:!1,message:"è¯·ä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶",type:"error"}}return!0},trigger:"change"}],java:[{required:!0,message:"è¯·é…ç½® Java ç¯å¢ƒ",trigger:"change"}],minM:[{required:!0,min:1,message:"å¿…é¡»å¤§äº0",trigger:"blur"}],maxM:[{required:!0,min:1,message:"å¿…é¡»å¤§äº0",trigger:"blur"}]})),xe=[["name","path"],["packageFileKey"],["core","coreUrl","coreFileKey"],["java"],["minM","maxM","args"]],_e=()=>{u.value>0&&(u.value-=1)},$e=async()=>{if(u.value===1){if(!i.value.packageFileKey){_.warning("è¯·å…ˆä¸Šä¼ æœåŠ¡ç«¯æ•´åˆåŒ…(Zip)");return}if(X.value||E.value){_.warning("è¯·ç­‰å¾…ä¸Šä¼ æˆ–åˆ†æå®Œæˆ");return}}if(u.value===2)if(G.value.length>0){if(!i.value.core){_.warning("è¯·ä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªå¯åŠ¨æ ¸å¿ƒ");return}}else{if(M.value==="online"&&(!i.value.coreUrl||!i.value.core)){_.warning("è¯·é€‰æ‹©ä¸€ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒ");return}if(M.value==="manual"&&!i.value.coreFileKey){_.warning("è¯·ä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶");return}}const s=await R.value.validate();if(s===!0){u.value<4&&(u.value+=1);return}const l=new Set(xe[u.value]);Object.keys(s).some(f=>l.has(f))?_.warning("è¯·æ£€æŸ¥å½“å‰æ­¥éª¤çš„è¾“å…¥"):u.value<4&&(u.value+=1)},ge=()=>{var s;(s=K.value)==null||s.click()},Fe=s=>{if(s===0)return"0 B";const l=1024,m=["B","KB","MB","GB"],f=Math.floor(Math.log(s)/Math.log(l));return parseFloat((s/Math.pow(l,f)).toFixed(2))+" "+m[f]},Je=async s=>{const l=s.target;if(!l.files||l.files.length===0)return;if(i.value.packageFileKey)try{await Me(i.value.packageFileKey)}catch(f){console.error(f)}i.value.core="",G.value=[],A.value="";const m=l.files[0];O.value=m.name,ne.value=Fe(m.size),await Ke(m),l.value=""},Ke=async s=>{X.value=!0,P.value=0;const l=5*1024*1024,m=Math.ceil(s.size/l);try{const S=(await He()).uploadId;if(!S)throw new Error("æ— æ³•è·å–ä¸Šä¼ å‡­è¯");for(let x=0;x<m;x++){const F=x*l,re=Math.min(s.size,F+l);await Ae(S,x,s.slice(F,re)),P.value=Math.floor((x+1)/m*100)}const V=(await Oe(S,m)).uploadId;i.value.packageFileKey=V,_.success("ä¸Šä¼ æˆåŠŸï¼Œæ­£åœ¨åˆ†ææ•´åˆåŒ…å†…å®¹..."),await je(V)}catch(f){console.error(f),_.error(`ä¸Šä¼ å¤±è´¥: ${f.message||"æœªçŸ¥é”™è¯¯"}`),O.value="",P.value=0}finally{X.value=!1}},je=async s=>{E.value=!0;try{const l=await nl(s);G.value=l.jars||[],A.value=l.detectedRoot||"",l.count===1&&l.jars.length>0?(i.value.core=l.jars[0],_.success(`è‡ªåŠ¨è¯†åˆ«åˆ°æœåŠ¡ç«¯æ ¸å¿ƒ: ${l.jars[0]}`)):l.count>1?_.info(`æ•´åˆåŒ…å†…æ£€æµ‹åˆ° ${l.count} ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒï¼Œè¯·åœ¨ä¸‹ä¸€æ­¥é€‰æ‹©`):_.warning("æœªæ£€æµ‹åˆ°æ•´åˆåŒ…å†…å­˜åœ¨æœåŠ¡ç«¯æ ¸å¿ƒï¼Œè¯·åœ¨ä¸‹ä¸€æ­¥æ‰‹åŠ¨é…ç½®æ ¸å¿ƒ")}catch(l){_.error("æ•´åˆåŒ…åˆ†æå¤±è´¥: "+l.message)}finally{E.value=!1}},ye=async()=>{i.value.packageFileKey&&(await Me(i.value.packageFileKey),i.value.packageFileKey="",O.value="",G.value=[],i.value.core="",_.success("æ–‡ä»¶å·²ç§»é™¤"))},v=s=>{i.value.core=s.filename,i.value.coreUrl=s.url,i.value.coreSha256=s.sha256,i.value.coreFileKey="",_.success(`å·²é€‰æ‹©: ${s.core} (${s.version})`)},a=async()=>{if(await R.value.validate()!==!0){_.warning("è¯·æ£€æŸ¥è¡¨å•æ‰€æœ‰å†…å®¹");return}B.value=!0,w.value=[];const l={...i.value,path:i.value.path||null,coreUrl:i.value.coreUrl||null,coreSha256:i.value.coreSha256||null,coreFileKey:i.value.coreFileKey||null,args:i.value.args||null};G.value.length>0?(l.coreUrl=null,l.coreSha256=null,l.coreFileKey=null):M.value==="manual"?(l.coreUrl=null,l.coreSha256=null):l.coreFileKey=null;try{const f=(await Ge(l)).serverId;if(!f)throw new Error("æœåŠ¡å™¨æœªè¿”å› ServerId");L.value=f.toString(),I.value=!0,u.value=5,await g(L.value)}catch(m){_.error(m.message||"åˆ›å»ºè¯·æ±‚å¤±è´¥"),B.value=!1}},g=async s=>{const{baseUrl:l,token:m}=j;if(!l||!m)return;const f=new URL("/api/hubs/creationProgressHub",l||window.location.origin);f.searchParams.append("x-user-token",m),J.value=new Pe().withUrl(f.toString(),{withCredentials:!1}).configureLogging(Xe.Information).build(),J.value.on("StatusUpdate",(S,C,V)=>{var x,F;S.toString()===s&&(w.value.push({time:new Date().toLocaleTimeString(),message:C,progress:V}),qe(()=>{D.value&&(D.value.scrollTop=D.value.scrollHeight)}),V!==null&&V>=0&&(N.value=V),V===100?(_.success("æœåŠ¡å™¨åˆ›å»ºæˆåŠŸï¼"),(x=J.value)==null||x.stop(),I.value=!1,T.value=!0,u.value=6,B.value=!1,ee.refreshInstanceList()):V===-1&&(_.error(C||"é”™è¯¯"),(F=J.value)==null||F.stop(),I.value=!1,B.value=!1,u.value=0))});try{await J.value.start(),await J.value.invoke("TrackServer",s)}catch(S){console.error("SignalR Error",S)}};Ee(()=>{var s;(s=J.value)==null||s.stop()});const U=()=>{T.value=!1,u.value=0,i.value={name:"æ–°å»ºæ•´åˆåŒ…æœåŠ¡å™¨",path:"",java:"",core:"",coreUrl:"",coreSha256:"",coreFileKey:"",packageFileKey:"",minM:2048,maxM:6144,args:""},G.value=[],O.value="",M.value="online",z.value="online"};return(s,l)=>{const m=c("t-step-item"),f=c("t-steps"),S=c("t-input"),C=c("t-form-item"),V=c("t-alert"),x=c("t-icon"),F=c("t-button"),re=c("t-progress"),he=c("t-loading"),be=c("t-radio"),de=c("t-radio-group"),oe=c("t-radio-button"),ie=c("t-select"),ke=c("t-input-number"),we=c("t-space"),Ve=c("t-col"),h=c("t-row"),Re=c("t-textarea"),Ye=c("t-form"),el=c("t-list-item-meta"),ll=c("t-list-item"),al=c("t-list");return d(),y("div",null,[o("div",Ql,[o("div",Wl,[e(f,{layout:"vertical",style:{"margin-top":"16px"},current:u.value,status:"process",readonly:""},{default:t(()=>[e(m,{title:"åŸºæœ¬ä¿¡æ¯",content:"å¡«å†™å®ä¾‹åç§°"}),e(m,{title:"ä¸Šä¼ æ•´åˆåŒ…",content:"ä¸Šä¼ æœåŠ¡ç«¯ Zip åŒ…"}),e(m,{title:"æ ¸å¿ƒé…ç½®",content:"ç¡®è®¤å¯åŠ¨çš„æœåŠ¡ç«¯æ ¸å¿ƒ"}),e(m,{title:"Java ç¯å¢ƒ",content:"é…ç½® Java è¿è¡Œæ—¶"}),e(m,{title:"èµ„æºé…ç½®",content:"è®¾ç½®å†…å­˜å‚æ•°"}),e(m,{title:"åˆ›å»ºå®ä¾‹",content:"æäº¤å¹¶ç­‰å¾…è§£å‹"}),e(m,{title:"å®Œæˆ",content:"æŸ¥çœ‹ç»“æœ"})]),_:1},8,["current"])]),o("div",Yl,[!I.value&&!T.value?(d(),y("div",ea,[e(Ye,{ref_key:"formRef",ref:R,data:i.value,rules:Ce.value,"label-align":"top",class:"step-form",onSubmit:a},{default:t(()=>[Z(o("div",la,[e(C,{label:"å®ä¾‹åç§°",name:"name"},{default:t(()=>[e(S,{modelValue:i.value.name,"onUpdate:modelValue":l[0]||(l[0]=b=>i.value.name=b),placeholder:"ä¸ºä½ çš„æœåŠ¡å™¨èµ·ä¸ªåå­—"},null,8,["modelValue"])]),_:1}),e(C,{label:"å®ä¾‹è·¯å¾„",name:"path",help:"é€‰å¡«ï¼Œç•™ç©ºå°†ä½¿ç”¨é»˜è®¤è·¯å¾„"},{default:t(()=>[e(S,{modelValue:i.value.path,"onUpdate:modelValue":l[1]||(l[1]=b=>i.value.path=b),placeholder:"ä¾‹å¦‚: D:\\MyServer"},null,8,["modelValue"])]),_:1})],512),[[Y,u.value===0]]),Z(o("div",aa,[e(V,{theme:"info",class:"mb-4"},{message:t(()=>[...l[18]||(l[18]=[p(" è¯·ä¸Šä¼ åŒ…å«æœåŠ¡ç«¯æ–‡ä»¶çš„ ",-1),o("b",null,".zip",-1),p(" å‹ç¼©åŒ…ã€‚ä¸Šä¼ å®Œæˆåç³»ç»Ÿå°†è‡ªåŠ¨åˆ†æåŒ…å†…çš„æœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶ã€‚ ",-1)])]),_:1}),e(C,{label:"ä¸Šä¼ æœåŠ¡ç«¯æ•´åˆåŒ… (Zip)",name:"packageFileKey"},{default:t(()=>[o("div",ta,[o("input",{ref_key:"uploadInputRef",ref:K,accept:".zip",type:"file",style:{display:"none"},onChange:Je},null,544),!X.value&&!i.value.packageFileKey?(d(),Q(F,{key:0,variant:"outline",onClick:ge},{icon:t(()=>[e(x,{name:"upload"})]),default:t(()=>[l[19]||(l[19]=p(" ç‚¹å‡»é€‰æ‹© Zip æ–‡ä»¶å¹¶ä¸Šä¼  ",-1))]),_:1})):k("",!0),X.value?(d(),y("div",oa,[o("div",sa,"æ­£åœ¨ä¸Šä¼ : "+$(O.value)+" ("+$(ne.value)+")",1),e(re,{theme:"line",percentage:P.value},null,8,["percentage"]),l[20]||(l[20]=o("div",{class:"tip"},"åˆ«ç€æ€¥ï¼Œå–æ¯å’–å•¡â˜•ï¸...",-1))])):k("",!0),!X.value&&E.value?(d(),y("div",na,[e(he,{text:"æ­£åœ¨åˆ†æå‹ç¼©åŒ…ç»“æ„...",size:"small"})])):k("",!0),i.value.packageFileKey&&!X.value&&!E.value?(d(),y("div",ua,[o("div",ra,[e(x,{name:"folder-zip"})]),o("div",ia,[o("div",ca,$(O.value),1),o("div",va,$(G.value.length>0?`å‘ç° ${G.value.length} ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶`:"æœªå‘ç°æœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶")+" "+$(A.value?`| æ ¹ç›®å½•: /${A.value}`:""),1)]),e(F,{shape:"circle",variant:"text",theme:"primary",onClick:ge},{icon:t(()=>[e(x,{name:"swap"})]),_:1}),e(F,{shape:"circle",variant:"text",theme:"danger",onClick:ye},{icon:t(()=>[e(x,{name:"delete"})]),_:1})])):k("",!0)])]),_:1})],512),[[Y,u.value===1]]),Z(o("div",da,[G.value.length>0?(d(),y("div",ma,[e(V,{theme:"success",class:"mb-4"},{message:t(()=>[...l[21]||(l[21]=[p("æˆ‘ä»¬åœ¨å‹ç¼©åŒ…ä¸­å‘ç°äº†ä»¥ä¸‹æœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶ï¼Œè¯·é€‰æ‹©å“ªä¸€ä¸ªä½œä¸º",-1),o("b",null,"å¯åŠ¨æ ¸å¿ƒ",-1),p("ã€‚",-1)])]),_:1}),e(C,{label:"é€‰æ‹©å¯åŠ¨æ ¸å¿ƒ",name:"core"},{default:t(()=>[e(de,{modelValue:i.value.core,"onUpdate:modelValue":l[2]||(l[2]=b=>i.value.core=b),class:"vertical-radio-group"},{default:t(()=>[(d(!0),y(Be,null,Ie(G.value,b=>(d(),y("div",{key:b,class:"jar-option-item"},[e(be,{value:b},{default:t(()=>[p($(b),1)]),_:2},1032,["value"])]))),128))]),_:1},8,["modelValue"])]),_:1})])):(d(),y("div",pa,[e(V,{theme:"warning",class:"mb-4"},{message:t(()=>[...l[22]||(l[22]=[p("åœ¨ä¸Šä¼ çš„åŒ…ä¸­æœªå‘ç°æœåŠ¡ç«¯æ ¸å¿ƒæ–‡ä»¶ã€‚è¯·åœ¨æ­¤å¤„ä¸‹è½½ä¸€ä¸ªæœåŠ¡ç«¯æ ¸å¿ƒã€‚",-1)])]),_:1}),e(C,{label:"è¡¥å……æœåŠ¡ç«¯æ ¸å¿ƒ"},{default:t(()=>[e(de,{modelValue:M.value,"onUpdate:modelValue":l[3]||(l[3]=b=>M.value=b),variant:"default-filled"},{default:t(()=>[e(oe,{value:"online"},{default:t(()=>[...l[23]||(l[23]=[p("åœ¨çº¿ä¸‹è½½æ ¸å¿ƒ",-1)])]),_:1}),e(oe,{disabled:"",value:"manual"},{default:t(()=>[...l[24]||(l[24]=[p("è‡ªè¡Œä¸Šä¼ (ä¸æ”¯æŒ)",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),M.value==="online"?(d(),y("div",fa,[e(C,{label:"é€‰æ‹©æœåŠ¡ç«¯æ ¸å¿ƒ",name:"coreUrl"},{default:t(()=>[o("div",_a,[e(F,{variant:"outline",onClick:l[4]||(l[4]=b=>H.value=!0)},{icon:t(()=>[e(x,{name:"cloud-download"})]),default:t(()=>[l[25]||(l[25]=p(" æ‰“å¼€æ ¸å¿ƒåº“ ",-1))]),_:1}),i.value.core&&M.value==="online"?(d(),y("div",ga,[o("div",ya,[e(x,{name:"check-circle-filled"})]),o("div",ha,[o("div",ba,$(i.value.core),1),l[26]||(l[26]=o("div",{class:"core-url"},"å°†åœ¨åˆ›å»ºæ—¶è‡ªåŠ¨ä¸‹è½½",-1))])])):k("",!0)])]),_:1})])):k("",!0),M.value==="manual"?(d(),y("div",ka,[l[27]||(l[27]=o("div",{class:"tip-text"},"è¯·åœ¨æ•´åˆåŒ…è§£å‹åæ‰‹åŠ¨æ”¾å…¥æ ¸å¿ƒï¼Œæˆ–åœ¨æ­¤å¤„ä¸å¡«å†™ç­‰å¾…åˆ›å»ºåæ‰‹åŠ¨ä¸Šä¼ ã€‚",-1)),e(V,{theme:"error",message:"æ­¤æ¨¡å¼ä¸‹å»ºè®®ç¡®ä¿å‹ç¼©åŒ…å†…åŒ…å«æ ¸å¿ƒï¼Œæˆ–è€…ä½¿ç”¨åœ¨çº¿ä¸‹è½½åŠŸèƒ½ã€‚"})])):k("",!0)]))],512),[[Y,u.value===2]]),Z(o("div",wa,[e(V,{theme:"info",title:"å¦‚ä½•é€‰æ‹© Java ç‰ˆæœ¬?",class:"java-alert"},{message:t(()=>[...l[28]||(l[28]=[o("p",null,"ä¸åŒçš„ Minecraft ç‰ˆæœ¬éœ€è¦ä¸åŒçš„ Java ç‰ˆæœ¬ã€‚",-1),o("ul",null,[o("li",null,[p("å»ºè®®ç›´æ¥ä½¿ç”¨ "),o("b",null,"æ¨èç‰ˆæœ¬"),p(" è¶…å‡ºç‰ˆæœ¬å¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚")]),o("li",null,"MC 26.1 - æœ€æ–°ç‰ˆ: éœ€è¦ Java 25 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚"),o("li",null,"MC 1.20.5 - 1.21.10: éœ€è¦ Java 21 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚"),o("li",null,"MC 1.18 - 1.20.4: éœ€è¦ Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚"),o("li",null,"MC 1.17/1.17.1: éœ€è¦ Java 16ã€‚"),o("li",null,"MC 1.13 - 1.16.5: éœ€è¦ Java 8 / 11ã€‚"),o("li",null,"MC 1.12.2 åŠä»¥ä¸‹: éœ€è¦ Java 8ã€‚")],-1)])]),_:1}),e(C,{label:"Java æ¥æº",name:"java"},{default:t(()=>[o("div",Va,[e(de,{modelValue:z.value,"onUpdate:modelValue":l[5]||(l[5]=b=>z.value=b),variant:"default-filled"},{default:t(()=>[e(oe,{value:"online"},{default:t(()=>[...l[29]||(l[29]=[p("åœ¨çº¿ä¸‹è½½",-1)])]),_:1}),e(oe,{value:"local"},{default:t(()=>[...l[30]||(l[30]=[p("æœ¬æœº Java",-1)])]),_:1}),e(oe,{value:"env"},{default:t(()=>[...l[31]||(l[31]=[p("ç¯å¢ƒå˜é‡",-1)])]),_:1}),e(oe,{value:"custom"},{default:t(()=>[...l[32]||(l[32]=[p("è‡ªå®šä¹‰è·¯å¾„",-1)])]),_:1})]),_:1},8,["modelValue"]),o("div",Ma,[z.value==="online"?(d(),y("div",Ua,[e(ie,{modelValue:n.value,"onUpdate:modelValue":l[6]||(l[6]=b=>n.value=b),options:q.value,placeholder:"è¯·é€‰æ‹© Java ç‰ˆæœ¬"},null,8,["modelValue","options"])])):k("",!0),z.value==="local"?(d(),y("div",Sa,[e(ie,{modelValue:W.value,"onUpdate:modelValue":l[7]||(l[7]=b=>W.value=b),options:ue.value,placeholder:"è¯·é€‰æ‹© Java"},null,8,["modelValue","options"]),e(F,{variant:"text",onClick:l[8]||(l[8]=b=>le(!0))},{default:t(()=>[...l[33]||(l[33]=[p("åˆ·æ–°",-1)])]),_:1})])):k("",!0),z.value==="env"?(d(),y("div",Ca,[e(S,{"model-value":"java",readonly:"",disabled:""})])):k("",!0),z.value==="custom"?(d(),y("div",xa,[e(S,{modelValue:W.value,"onUpdate:modelValue":l[9]||(l[9]=b=>W.value=b),placeholder:"C:\\Path\\To\\java.exe"},null,8,["modelValue"])])):k("",!0)])])]),_:1})],512),[[Y,u.value===3]]),Z(o("div",$a,[e(h,{gutter:[16,24]},{default:t(()=>[e(Ve,{xs:12,span:6},{default:t(()=>[e(C,{label:"æœ€å°å†…å­˜",name:"minM"},{default:t(()=>[e(we,{size:8,style:{width:"100%"}},{default:t(()=>[e(ke,{modelValue:pe.value,"onUpdate:modelValue":l[10]||(l[10]=b=>pe.value=b),min:0,"decimal-places":ae.value==="GB"?1:0,placeholder:"Xms",theme:"column",style:{width:"100%"}},null,8,["modelValue","decimal-places"]),e(ie,{modelValue:ae.value,"onUpdate:modelValue":l[11]||(l[11]=b=>ae.value=b),options:me,clearable:!1,style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(Ve,{xs:12,span:6},{default:t(()=>[e(C,{label:"æœ€å¤§å†…å­˜",name:"maxM"},{default:t(()=>[e(we,{size:8,style:{width:"100%"}},{default:t(()=>[e(ke,{modelValue:fe.value,"onUpdate:modelValue":l[12]||(l[12]=b=>fe.value=b),min:0,"decimal-places":te.value==="GB"?1:0,placeholder:"Xmx",theme:"column",style:{width:"100%"}},null,8,["modelValue","decimal-places"]),e(ie,{modelValue:te.value,"onUpdate:modelValue":l[13]||(l[13]=b=>te.value=b),options:me,clearable:!1,style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(C,{label:"JVM å‚æ•°",name:"args",style:{"margin-top":"16px"}},{default:t(()=>[e(Re,{modelValue:i.value.args,"onUpdate:modelValue":l[14]||(l[14]=b=>i.value.args=b),placeholder:"-XX:+UseG1GC"},null,8,["modelValue"])]),_:1})],512),[[Y,u.value===4]]),e(C,{class:"step-actions",style:{"margin-top":"16px"}},{default:t(()=>[u.value>0?(d(),Q(F,{key:0,theme:"default",onClick:_e},{default:t(()=>[...l[34]||(l[34]=[p("ä¸Šä¸€æ­¥",-1)])]),_:1})):k("",!0),u.value<4?(d(),Q(F,{key:1,type:"button",loading:X.value||E.value,onClick:$e},{default:t(()=>[...l[35]||(l[35]=[p("ä¸‹ä¸€æ­¥",-1)])]),_:1},8,["loading"])):k("",!0),u.value===4?(d(),Q(F,{key:2,theme:"primary",type:"submit",loading:B.value},{default:t(()=>[...l[36]||(l[36]=[p("æäº¤åˆ›å»º",-1)])]),_:1},8,["loading"])):k("",!0)]),_:1})]),_:1},8,["data","rules"])])):k("",!0),I.value?(d(),y("div",Fa,[o("div",Ja,"æ­£åœ¨åˆ›å»ºæ•´åˆåŒ…å®ä¾‹ ("+$(L.value)+")",1),l[37]||(l[37]=o("p",null,"æ­£åœ¨è§£å‹æ–‡ä»¶å¹¶é…ç½®ç¯å¢ƒ...",-1)),e(re,{theme:"plump",percentage:N.value,label:`${N.value.toFixed(2)}%`},null,8,["percentage","label"]),o("div",{ref_key:"logContainerRef",ref:D,class:"log-container"},[e(al,{split:!0},{default:t(()=>[(d(!0),y(Be,null,Ie(w.value,(b,tl)=>(d(),Q(ll,{key:tl},{default:t(()=>[e(el,{description:`[${b.time}] ${b.message}`},null,8,["description"])]),_:2},1024))),128))]),_:1})],512)])):k("",!0),T.value?(d(),y("div",Ka,[e(x,{class:"result-success-icon",name:"check-circle"}),l[40]||(l[40]=o("div",{class:"result-success-title"},"æ•´åˆåŒ…æœåŠ¡å™¨å·²éƒ¨ç½²æˆåŠŸ",-1)),l[41]||(l[41]=o("div",{class:"result-success-describe"},"æ–‡ä»¶å·²è§£å‹ï¼Œç¯å¢ƒå·²é…ç½®å°±ç»ª",-1)),o("div",null,[e(F,{onClick:l[15]||(l[15]=()=>{U(),se(ve)("/instance/list")})},{default:t(()=>[...l[38]||(l[38]=[p(" è¿”å›æœåŠ¡ç«¯åˆ—è¡¨ ",-1)])]),_:1}),e(F,{theme:"default",onClick:l[16]||(l[16]=()=>{U(),se(ve)(`/instance/console/${L.value}`)})},{default:t(()=>[...l[39]||(l[39]=[p(" å‰å¾€æ§åˆ¶å° ",-1)])]),_:1})])])):k("",!0)])]),e(Ne,{visible:H.value,"onUpdate:visible":l[17]||(l[17]=b=>H.value=b),onConfirm:v},null,8,["visible"])])}}}),Ra=Le(ja,[["__scopeId","data-v-fa803a15"]]),Mt=Ue({__name:"index",setup(Se){const j=r(1);return(R,ee)=>{const u=c("t-tab-panel"),B=c("t-tabs"),I=c("t-card");return d(),y("div",null,[e(I,{direction:"vertical"},{default:t(()=>[e(B,{modelValue:j.value,"onUpdate:modelValue":ee[0]||(ee[0]=T=>j.value=T)},{default:t(()=>[e(u,{value:1,label:"å¿«é€Ÿæ¨¡å¼","destroy-on-hide":!1},{default:t(()=>[e(Dl,{style:{margin:"10px"}})]),_:1}),e(u,{value:2,label:"ä¸Šä¼ æ•´åˆåŒ…æ¨¡å¼","destroy-on-hide":!1},{default:t(()=>[e(Ra,{style:{margin:"10px"}})]),_:1}),e(u,{value:3,label:"è‡ªå®šä¹‰æ¨¡å¼","destroy-on-hide":!1},{default:t(()=>[e(Zl,{style:{margin:"10px"}})]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}});export{Mt as default};
