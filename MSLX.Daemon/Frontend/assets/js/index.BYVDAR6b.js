import{a as ve}from"./vue-router.D-iQ2OF3.js";import{u as Ie,_ as oe,r as ge,d as Ke}from"./index.lGW1k3Hz.js";import{D as ie,F as m,P as ae,R as pe,V as Re,aa as he,aX as M,a$ as e,b5 as E,bi as He,bj as Ye,bd as Be,be as Me,aY as d,K as ne,G as t,b0 as _,b2 as l,b6 as D,aZ as be,b1 as X,ap as N,O as re,ao as y,b3 as ue,am as Le,b4 as Pe}from"./index.jXwDIiIy.js";import{c as z}from"./ansi-colors.Byja0Ro8.js";import{g as Ze,b as Qe,u as et,c as tt,d as Ce}from"./instance.fE-wRt4i.js";import{S as at,g as lt,a as st}from"./localJava.CAW1PdQa.js";import{d as nt,i as ot,u as it,f as rt,g as ut,s as dt,a as ct,b as vt}from"./files.BRbvwjNS.js";import{M as q,N as pt,D as we}from"./tdesign-vue-next.B-7BKoqk.js";import{ac as mt,ad as ft,ae as Ve,af as Se,a1 as gt,U as ye,y as bt,_ as Ae,ag as Ee,ah as yt,ai as Oe,aj as _t,z as _e,g as kt,c as ht,ak as wt,a7 as Te,a8 as Ne,ab as $t,M as De,al as xt,am as Ct,an as Vt,ao as St,ap as Ut}from"./tdesign-icons-vue-next.pM9rkfXR.js";import{F as It}from"./FileUploader.BfLm5Lrd.js";import{d as Rt}from"./cron-parser.DOnFJhWU.js";import"./pinia.0hRipQgY.js";import"./pinia-plugin-persistedstate.n2tMOXAx.js";import"./tvision-color.C7wwferE.js";import"./chroma-js.CkGq980d.js";import"./bezier-easing.CPMHfRa9.js";import"./lodash.iY27rsMZ.js";import"./axios.R-lXtGyY.js";import"./qs.D0saImlE.js";import"./side-channel.DWC36ANH.js";import"./es-errors.CFxpeikN.js";import"./object-inspect.B1mntT96.js";import"./side-channel-list.Df5Vde-x.js";import"./side-channel-map.4MBLZtF4.js";import"./get-intrinsic.CAdfHqt8.js";import"./es-object-atoms.Ditt1eQ6.js";import"./math-intrinsics.Cv-yPkyD.js";import"./gopd.fcd2-aIC.js";import"./es-define-property.bDCdrV83.js";import"./has-symbols.BaUvM3gb.js";import"./get-proto.Cbri-GHQ.js";import"./dunder-proto.q7lw_6_J.js";import"./call-bind-apply-helpers.BxcZtPLH.js";import"./function-bind.BbkWVFrm.js";import"./hasown.ckq0ukzO.js";import"./call-bound.BO70H6sD.js";import"./side-channel-weakmap.BIAXU6K3.js";import"./nprogress.Nt2Hi8cf.js";import"./core-js-pure.B3GbnEth.js";import"./crelt.C8TCjufn.js";import"./style-mod.Bc2inJdb.js";import"./w3c-keyname.Vcq4gwWv.js";import"./lodash-es.ClUTdtmA.js";import"./mitt.DJ65BbbF.js";import"./sortablejs.C83syoBY.js";import"./luxon.BVaPVz1w.js";z.enabled=!0;const Bt=r=>r?(r.includes("Done")&&r.includes("!")&&(r=r.replace(/Done \((.*?)\)!/g,(k,I)=>`${z.green.bold("Done")} (${z.blue(I)})!`)),r.startsWith("[System]")&&(r=r.replace(/^\[System\]/,`[${z.blue.bold("System")}]`)),r.includes("[MSLX]")&&(r=r.replace(/\[MSLX\]/g,`[${z.magenta.bold("MSLX")}]`)),r.startsWith(">>>")&&(r=r.replace(/^>>>/,z.red.bold(">>>"))),r=r.replace(/^\[(\d{2}:\d{2}:\d{2})\s+(INFO|WARN|WARNING|ERROR|FATAL|DEBUG)\]:/,(k,I,c)=>{let S=c;switch(c){case"INFO":S=z.green("INFO");break;case"WARN":case"WARNING":S=z.magenta.bold("WARN");break;case"ERROR":case"FATAL":S=z.red.bold(c);break;case"DEBUG":S=z.blue("DEBUG");break}return`[${z.gray(I)} ${S}]:`}),/^\[\d{2}:\d{2}:\d{2}\]/.test(r)&&(r=r.replace(/^\[(\d{2}:\d{2}:\d{2})\]/,(k,I)=>`[${z.gray(I)}]`)),r=r.replace(/\[([^/]+)\/(INFO|WARN|WARNING|ERROR|FATAL|DEBUG)\]/g,(k,I,c)=>{const S=z.blue(I);let C=c;switch(c){case"INFO":C=z.green("INFO");break;case"WARN":C=z.magenta("WARN");break;case"ERROR":C=z.red.bold("ERROR");break}return`[${S}/${C}]`}),r=r.replace(new RegExp("(?<=:\\s|^)\\s*\\[([a-zA-Z0-9_\\-.\\s]+)\\](?=\\s)","g"),(k,I)=>I==="System"||I.includes("MSLX")?k:` [${z.bold.black(I)}]`),r=r.replace(/(https?:\/\/[^\s]+)/g,k=>z.blue.underline(k)),r=r.replace(/\b\d+\.\d+(\.\d+)?(-[a-zA-Z0-9]+)?\b/g,k=>z.magenta(k)),r=r.replace(/\b\d+(\.\d+)?\s?(ms|s|%|MB|GB|KB)\b/gi,k=>z.blue(k)),r=r.replace(new RegExp("(?<!\\d:\\d)\\b\\d+\\b(?!\\s*:\\s*\\d)","g"),k=>k.length>=4&&k.length<=6?z.blue(k):k.length<=3?z.blue(k):k),r=r.replace(/(\*:\d{1,5})/,k=>z.blue.bold(k)),r=r.replace(/\b(Loaded|Saved|Starting|Started|Connected)\b/g,k=>z.green(k)),r=r.replace(/\bDone\b(?!\u001b)/g,z.green.bold("Done")),r=r.replace(/\b(Failed|Exception|Error|Caused by|Stopping|Closed)\b/g,k=>z.red.bold(k)),r=r.replace(/\b(Loading|Preparing|Generating|Saving|Using|Running)\b/g,k=>z.magenta(k)),r=r.replace(/\b(Minecraft|Paper|Velocity|Java)\b/gi,k=>z.bold.black(k)),r=r.replace(/'minecraft:[a-z_]+'/g,k=>z.magenta(k)),r=r.replace(/\n/g,`\r
`),r):"",Mt={class:"terminal-header"},Lt={class:"tab-title"},Pt=ie({__name:"ServerTerminal",props:{serverId:{}},emits:["update"],setup(r,{expose:k,emit:I}){const c=r,S=I,C=Ie(),T=m(null),V=m(null);let s=null,i=null,o=null,j=null,x=null,f="";const v={dark:{background:"#181818",foreground:"#cccccc",cursor:"#cccccc",selectionBackground:"#264f78",black:"#000000",red:"#cd3131",green:"#0dbc79",yellow:"#e5e510",blue:"#2472c8",magenta:"#bc3fbc",cyan:"#11a8cd",white:"#e5e5e5",brightBlack:"#666666",brightRed:"#f14c4c",brightGreen:"#23d18b",brightYellow:"#f5f543",brightBlue:"#3b8eea",brightMagenta:"#d670d6",brightCyan:"#29b8db",brightWhite:"#e5e5e5"},light:{background:"#ffffff",foreground:"#333333",cursor:"#333333",selectionBackground:"#add6ff",black:"#000000",red:"#cd3131",green:"#00bc79",yellow:"#9d9d10",blue:"#2472c8",magenta:"#bc3fbc",cyan:"#11a8cd",white:"#e5e5e5",brightBlack:"#666666",brightRed:"#f14c4c",brightGreen:"#23d18b",brightYellow:"#f5f543",brightBlue:"#3b8eea",brightMagenta:"#d670d6",brightCyan:"#29b8db",brightWhite:"#e5e5e5"}};z.enabled=!0;const h=B=>Bt(B),g=()=>{if(!V.value||!T.value)return;if(s){s.clear(),n();return}const B=document.documentElement.getAttribute("theme-mode")==="dark";s=new He.Terminal({cursorBlink:!0,cursorStyle:"block",fontSize:13,fontFamily:'Menlo, Monaco, "Courier New", monospace',lineHeight:1.4,theme:B?v.dark:v.light,disableStdin:!1,convertEol:!0}),i=new Ye.FitAddon,s.loadAddon(i),s.open(V.value),s.onData(W=>{P(W)});const K=()=>{if(V.value&&V.value.clientWidth>0&&V.value.clientHeight>0)try{i==null||i.fit()}catch(W){console.warn(W)}};o=new ResizeObserver(()=>window.requestAnimationFrame(K)),o.observe(T.value),setTimeout(K,100),n()},P=async B=>{!s||!c.serverId||(B==="\r"?(s.write(`\r
`),f.trim()&&await A(f),f=""):B===""?f.length>0&&(f=f.slice(0,-1),s.write("\b \b")):B>=" "&&(f+=B,s.write(B)))},A=async B=>{if(!x){s==null||s.writeln("\x1B[1;31m[System] Êú™ËøûÊé•Âà∞ÊéßÂà∂ÊúçÂä°ÔºåÊó†Ê≥ïÂèëÈÄÅÊåá‰ª§„ÄÇ\x1B[0m");return}try{await x.invoke("SendCommand",c.serverId,B)}catch(K){s==null||s.writeln(`\x1B[1;31m[Error] Êåá‰ª§ÂèëÈÄÅÂ§±Ë¥•: ${K.message}\x1B[0m`)}},b=()=>{if(!s)return;const B=document.documentElement.getAttribute("theme-mode")==="dark";s.options.theme=B?v.dark:v.light},n=()=>{s==null||s.writeln("\x1B[1;34m[System]\x1B[0m Ê≠£Âú®ËøûÊé•ÊúçÂä°Âô®ÊéßÂà∂Âè∞ ..."),s==null||s.writeln(`\x1B[1;34m[System]\x1B[0m ÂÆû‰æã ID: ${c.serverId}`),s==null||s.writeln("\x1B[90mTip: Áõ¥Êé•ËæìÂÖ•Êåá‰ª§Âπ∂ÂõûËΩ¶Âç≥ÂèØÂèëÈÄÅÂà∞ÊúçÂä°Âô®„ÄÇ\x1B[0m"),s==null||s.writeln("")},p=async()=>{if(x)try{x.state==="Connected"&&await x.invoke("LeaveGroup",c.serverId),await x.stop(),x=null}catch(B){console.error(B)}},$=async()=>{if(await p(),!c.serverId)return;const{baseUrl:B,token:K}=C,W=new URL("/api/hubs/instanceControlHub",B||window.location.origin);K&&W.searchParams.append("x-user-token",K),x=new Be().withUrl(W.toString(),{withCredentials:!1}).configureLogging(Me.Warning).withAutomaticReconnect([0,2e3,5e3,1e4,3e4]).build(),x.on("ReceiveLog",H=>{s==null||s.writeln(h(H)),H.startsWith("[MSLX]")&&S("update")}),x.on("CommandResult",(H,Y)=>{H||s==null||s.writeln(`\x1B[1;31m[System] Êåá‰ª§ÊâßË°åÂèçÈ¶à: ${Y}\x1B[0m`)}),x.onreconnecting(()=>{s==null||s.writeln("\x1B[1;31m[System] ËøûÊé•‰∏≠Êñ≠ÔºåÂ∞ùËØïÈáçËøû...\x1B[0m")}),x.onreconnected(async()=>{s==null||s.writeln("\x1B[1;32m[System] ÁΩëÁªúÊÅ¢Â§çÔºåÈáçÊñ∞ËÆ¢ÈòÖÊó•Âøó...\x1B[0m");try{await(x==null?void 0:x.invoke("JoinGroup",c.serverId))}catch(H){s==null||s.writeln(`\x1B[1;31m[Error] ÈáçÊñ∞ËÆ¢ÈòÖÂ§±Ë¥•: ${H.message}\x1B[0m`)}}),x.onclose(H=>{H&&(s==null||s.writeln(`\x1B[1;31m[System] ËøûÊé•Â∑≤Êñ≠ÂºÄ: ${H.message}\x1B[0m`))});try{await x.start(),s==null||s.writeln("\x1B[1;32m[System] Â∑≤ËøûÊé•Âà∞ÂÆû‰æãÊéßÂà∂ÊúçÂä°\x1B[0m"),await x.invoke("JoinGroup",c.serverId)}catch(H){s==null||s.writeln(`\x1B[1;31m[Error] ËøûÊé•Â§±Ë¥•: ${H.message}\x1B[0m`)}};return k({writeln:B=>s==null?void 0:s.writeln(B),clear:()=>{s==null||s.clear(),n()}}),ae(()=>c.serverId,async B=>{B&&(g(),await $())}),pe(async()=>{await Re(),g(),j=new MutationObserver(b),j.observe(document.documentElement,{attributes:!0,attributeFilter:["theme-mode"]}),c.serverId&&await $()}),he(async()=>{j==null||j.disconnect(),await p(),s==null||s.dispose(),o==null||o.disconnect()}),(B,K)=>(d(),M("div",{ref_key:"terminalWrapper",ref:T,class:"terminal-wrapper"},[e("div",Mt,[K[0]||(K[0]=e("div",{class:"dots"},[e("span",{class:"dot red"}),e("span",{class:"dot yellow"}),e("span",{class:"dot green"})],-1)),e("div",Lt,"MSLX ÊúçÂä°Á´ØÊéßÂà∂Âè∞ | #"+E(r.serverId),1)]),e("div",{ref_key:"terminalBody",ref:V,class:"terminal-body"},null,512)],512))}}),At=oe(Pt,[["__scopeId","data-v-69c2e437"]]),Et={class:"settings-container"},Ot={class:"setting-item"},Tt={class:"setting-control"},Nt={class:"setting-item"},Dt={class:"setting-info"},Ft={class:"desc"},zt={class:"setting-control"},Jt={class:"setting-item"},jt={class:"setting-control"},Gt={key:0,style:{"margin-top":"8px"}},Xt={class:"setting-item"},Wt={class:"setting-info"},qt={class:"title"},Kt={class:"desc"},Ht={class:"setting-control"},Yt={class:"setting-item"},Zt={class:"setting-control"},Qt={key:0,class:"core-tools-panel"},ea={key:0,class:"upload-progress"},ta={class:"setting-item"},aa={class:"setting-control flex-row"},la={class:"setting-item"},sa={class:"setting-control flex-row"},na={class:"setting-info-desc-only"},oa={style:{"font-size":"12px",color:"var(--td-text-color-placeholder)",cursor:"help"}},ia={class:"setting-item"},ra={class:"setting-control"},ua={key:0,style:{"margin-top":"8px"}},da={key:2,class:"setting-group-title"},ca={key:3,class:"setting-item"},va={class:"setting-control"},pa={key:0,style:{"margin-top":"8px"}},ma={class:"setting-item"},fa={class:"setting-control"},ga={class:"setting-item"},ba={class:"setting-control"},ya={class:"setting-item"},_a={class:"setting-control flex-row"},ka={class:"form-actions"},ha={class:"progress-body"},wa={id:"update-log-box",class:"log-box"},$a={class:"time"},xa={key:0,class:"dialog-actions"},Ca=ie({__name:"GeneralSettings",setup(r){const k=ve(),I=Ie(),c=parseInt(k.params.id),S=m(null),C=m(!1),T=m(!1),V=m(!1),s=[{label:"UTF-8",value:"utf-8"},{label:"GBK",value:"gbk"}],i=m({id:c,name:"",base:"",java:"",core:"",minM:1024,maxM:4096,args:"",yggdrasilApiAddr:"",backupMaxCount:20,backupDelay:10,backupPath:"MSLX://Backup/Instance",autoRestart:!1,runOnStartup:!1,inputEncoding:"utf-8",outputEncoding:"utf-8",coreUrl:"",coreSha256:"",coreFileKey:""}),o=m("custom"),j=m([]),x=m([]),f=m(""),v=m(""),h=async(R=!1)=>{try{R&&q.info("Ê≠£Âú®Êâ´Êèè Java ÁéØÂ¢É...");const a=await lt(I.userInfo.systemInfo.osType.toLowerCase().replace("os",""),I.userInfo.systemInfo.osArchitecture.toLowerCase());a&&Array.isArray(a)&&(j.value=a.map(J=>({label:`Java ${J} (Âú®Á∫ø)`,value:J})));const G=await st(R);x.value=G.map(J=>({label:`Java ${J.version} (${J.path})`,value:J.path})),R&&q.success("Âà∑Êñ∞ÊàêÂäü")}catch(a){console.error(a)}};ae([o,f,v],([R,a,G])=>{R==="none"?i.value.java="none":R==="env"?i.value.java="java":R==="custom"||R==="local"?i.value.java=G:R==="online"&&(i.value.java=a?`MSLX://Java/${a}`:"")});const g=m("MSLX://Backup/Instance"),P=m("");ae([g,P],([R,a])=>{R==="custom"?i.value.backupPath=a:i.value.backupPath=R});const A=m(""),b=m(""),n=[{label:"ÂÆòÊñπ/Á¶ªÁ∫øÊ®°Âºè (Êó†)",value:"none"},{label:"MSL Áªü‰∏ÄË∫´‰ªΩÈ™åËØÅ",value:"https://skin.mslmc.net/api/yggdrasil"},{label:"LittleSkin",value:"https://littleskin.cn/api/yggdrasil"},{label:"Ëá™ÂÆö‰πâÊúçÂä°Âô®",value:"custom"}];ae([A,b],([R,a])=>{R==="none"?i.value.yggdrasilApiAddr="":R==="custom"?i.value.yggdrasilApiAddr=a:i.value.yggdrasilApiAddr=R});const p=m(!1),$=m(!1),u=m(null),w=m(!1),B=m(0),K=m(""),W=R=>{i.value.core=R.filename,i.value.coreUrl=R.url,i.value.coreSha256=R.sha256,i.value.coreFileKey="",p.value=!1,q.success(`Â∑≤ÈÄâÊã©Ê†∏ÂøÉ: ${R.filename}Ôºå‰øùÂ≠òÂêéÂ∞ÜËá™Âä®‰∏ãËΩΩ`)},H=()=>{var R;return(R=u.value)==null?void 0:R.click()},Y=async R=>{var J;const a=R.target;if(!((J=a.files)!=null&&J.length))return;const G=a.files[0];if(i.value.coreFileKey)try{await nt(i.value.coreFileKey)}catch{console.error("Âà†Èô§‰∏ä‰º†Â§±Ë¥•")}K.value=G.name,w.value=!0,B.value=0;try{const Q=(await ot()).uploadId,te=5*1024*1024,de=Math.ceil(G.size/te);for(let se=0;se<de;se++){const ke=G.slice(se*te,Math.min(G.size,(se+1)*te));await it(Q,se,ke),B.value=Math.floor((se+1)/de*100)}const ce=await rt(Q,de);i.value.coreFileKey=ce.uploadId,i.value.core=G.name,i.value.coreUrl="",q.success("Êñá‰ª∂‰∏ä‰º†Â∞±Áª™Ôºå‰øùÂ≠òÂêéÁîüÊïà"),p.value=!1}catch(ee){q.error(`‰∏ä‰º†Â§±Ë¥•: ${ee.message}`)}finally{w.value=!1,a.value=""}},le=()=>{V.value||pt.warning({title:"È£éÈô©Êìç‰Ωú",content:"‰øÆÊîπÂÆû‰æãË∑ØÂæÑ‰ºöÂØºËá¥Èù¢ÊùøÊó†Ê≥ïÊâæÂà∞ÂéüÊúâÊñá‰ª∂„ÄÇËØ∑Á°Æ‰øùÊÇ®Â∑≤ÊâãÂä®ÁßªÂä®‰∫ÜÊñá‰ª∂ÔºåÊàñÊÇ®ÊòéÁ°ÆÁü•ÈÅìËá™Â∑±Âú®ÂÅö‰ªÄ‰πà„ÄÇ",duration:5e3}),V.value=!V.value},F=m(!1),O=m(0),L=m([]),Z=m(null),Fe=ne(()=>o.value==="none"?{name:[{required:!0,message:"ÊúçÂä°Âô®ÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫",trigger:"blur"}],base:[{required:!0,message:"Âü∫Á°ÄË∑ØÂæÑ‰∏çËÉΩ‰∏∫Á©∫",trigger:"blur"}],args:[{required:!0,message:"Ëá™ÂÆö‰πâÊ®°ÂºèÂøÖÈ°ªÂ°´ÂÜôÂêØÂä®ÂëΩ‰ª§",trigger:"blur"}]}:{name:[{required:!0,message:"ÊúçÂä°Âô®ÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫",trigger:"blur"}],base:[{required:!0,message:"Âü∫Á°ÄË∑ØÂæÑ‰∏çËÉΩ‰∏∫Á©∫",trigger:"blur"}],java:[{required:!0,message:"Java ÁéØÂ¢É‰∏çËÉΩ‰∏∫Á©∫",trigger:"change"}],core:[{required:!0,message:"Ê†∏ÂøÉÊñá‰ª∂Âêç‰∏çËÉΩ‰∏∫Á©∫",trigger:"change"}],minM:[{required:!0,message:"ÂøÖÂ°´",trigger:"blur"}],maxM:[{required:!0,message:"ÂøÖÂ°´",trigger:"blur"}]}),me=async()=>{C.value=!0;try{await h();const R=await Ze(c);if(i.value={...i.value,...R,coreUrl:"",coreFileKey:"",coreSha256:""},V.value=!1,R.java==="none")o.value="none";else if(R.java==="java")o.value="env";else if(R.java.startsWith("MSLX://Java/"))o.value="online",f.value=R.java.replace("MSLX://Java/","");else{const J=x.value.find(ee=>ee.value===R.java);o.value=J?"local":"custom",v.value=R.java}const a=R.backupPath;a==="MSLX://Backup/Instance"||a==="MSLX://Backup/Data"?g.value=a:(g.value="custom",P.value=a);const G=R.yggdrasilApiAddr;G?G==="https://skin.mslmc.net/api/yggdrasil"?A.value="https://skin.mslmc.net/api/yggdrasil":G==="https://littleskin.cn/api/yggdrasil"?A.value="https://littleskin.cn/api/yggdrasil":(A.value="custom",b.value=G):A.value="none"}catch(R){q.error("Ëé∑ÂèñÈÖçÁΩÆÂ§±Ë¥•: "+R.message)}finally{C.value=!1}};pe(me);const ze=async()=>{var a,G;if(await((a=S.value)==null?void 0:a.validate())===!0&&!(o.value!=="none"&&(i.value.coreUrl||i.value.coreFileKey)&&!await new Promise(Q=>{const te=we.confirm({header:"Á°ÆËÆ§ÂèòÊõ¥Ê†∏ÂøÉÊñá‰ª∂?",body:"Ê£ÄÊµãÂà∞ÊÇ®‰∏ä‰º†ÊàñÈÄâÊã©‰∫ÜÊñ∞ÁöÑÊ†∏ÂøÉÊñá‰ª∂ÔºåËøôÂ∞ÜË¶ÜÁõñÊúçÂä°Âô®Áé∞ÊúâÁöÑÈÉ®ÁΩ≤„ÄÇ",theme:"warning",onConfirm:()=>{te.hide(),Q(!0)},onClose:()=>{te.hide(),Q(!1)}})}))){o.value==="none"&&(i.value.core="none",i.value.minM=1027,i.value.maxM=1102,i.value.java="none",i.value.coreUrl="",i.value.coreFileKey="",i.value.coreSha256=""),T.value=!0;try{const J=await Qe(i.value);((G=J.data)==null?void 0:G.needListen)??J.needListen?Je():(q.success("ÈÖçÁΩÆÂ∑≤‰øùÂ≠ò"),T.value=!1,me())}catch(J){q.error(J.message||"‰øùÂ≠òÂ§±Ë¥•"),T.value=!1}}},Je=async()=>{F.value=!0,O.value=0,L.value=[];const{baseUrl:R,token:a}=I,G=new URL("/api/hubs/updateProgressHub",R);G.searchParams.append("x-user-token",a),Z.value=new Be().withUrl(G.toString(),{withCredentials:!1}).configureLogging(Me.None).build(),Z.value.on("UpdateStatus",(J,ee,Q)=>{L.value.push({time:new Date().toLocaleTimeString(),msg:Q?`[ÈîôËØØ] ${J}`:J}),Re(()=>{const te=document.getElementById("update-log-box");te&&(te.scrollTop=te.scrollHeight)}),ee>=0&&(O.value=Number(ee.toFixed(1))),ee===100&&(q.success("Êõ¥Êñ∞ÂÆåÊàê"),je(!0))});try{await Z.value.start(),await Z.value.invoke("JoinGroup",c.toString())}catch{L.value.push({time:"-",msg:"ËøûÊé•Â§±Ë¥•"})}},je=(R=!1)=>{var a;(a=Z.value)==null||a.stop(),setTimeout(()=>{F.value=!1,T.value=!1,R&&me()},1e3)};return he(()=>{var R;(R=Z.value)==null||R.stop()}),(R,a)=>{const G=_("t-input"),J=_("t-button"),ee=_("t-tooltip"),Q=_("t-select"),te=_("t-textarea"),de=_("t-alert"),ce=_("t-icon"),se=_("t-col"),ke=_("t-row"),$e=_("t-progress"),Ge=_("t-space"),fe=_("t-input-number"),xe=_("t-switch"),Xe=_("t-form"),We=_("t-dialog");return d(),M("div",Et,[t(Xe,{ref_key:"formRef",ref:S,data:i.value,rules:Fe.value,"label-width":"0",onSubmit:ze},{default:l(()=>[a[45]||(a[45]=e("div",{class:"setting-group-title"},"Âü∫Á°ÄËÆæÁΩÆ",-1)),e("div",Ot,[a[25]||(a[25]=e("div",{class:"setting-info"},[e("div",{class:"title"},"ÊúçÂä°Âô®ÂêçÁß∞"),e("div",{class:"desc"},"Âú®Èù¢ÊùøÂàóË°®‰∏≠ÊòæÁ§∫ÁöÑÂà´ÂêçÔºåÊîØÊåÅ‰∏≠Êñá")],-1)),e("div",Tt,[t(G,{modelValue:i.value.name,"onUpdate:modelValue":a[0]||(a[0]=U=>i.value.name=U),placeholder:"ËØ∑ËæìÂÖ•ÂêçÁß∞"},null,8,["modelValue"])])]),e("div",Nt,[e("div",Dt,[a[26]||(a[26]=e("div",{class:"title"},"ÂÆû‰æãË∑ØÂæÑ",-1)),e("div",Ft,[e("span",{class:be({"text-warning":V.value})},E(V.value?"Ë≠¶ÂëäÔºö‰øÆÊîπË∑ØÂæÑÂèØËÉΩÂØºËá¥Êó†Ê≥ïÊâæÂà∞ÂéüÊñá‰ª∂":"ÊúçÂä°Âô®Êñá‰ª∂ÁöÑÁâ©ÁêÜÂ≠òÂÇ®Ë∑ØÂæÑÔºåÈùûÂøÖË¶ÅËØ∑Âãø‰øÆÊîπ"),3)])]),e("div",zt,[t(G,{modelValue:i.value.base,"onUpdate:modelValue":a[1]||(a[1]=U=>i.value.base=U),disabled:!V.value},{suffix:l(()=>[t(ee,{content:V.value?"ÁÇπÂáªÈîÅÂÆö":"ÁÇπÂáªËß£ÈîÅÁºñËæë (ÊÖéÈáç)"},{default:l(()=>[t(J,{variant:"text",shape:"square",onClick:le},{icon:l(()=>[V.value?(d(),X(N(mt),{key:0,style:{color:"var(--td-warning-color)"}})):(d(),X(N(ft),{key:1}))]),_:1})]),_:1},8,["content"])]),_:1},8,["modelValue","disabled"])])]),a[46]||(a[46]=e("div",{class:"setting-group-title"},"ËøêË°åÊ®°Âºè",-1)),e("div",Jt,[a[27]||(a[27]=e("div",{class:"setting-info"},[e("div",{class:"title"},"ÂêØÂä®ÊñπÂºè"),e("div",{class:"desc"},"ÈÄâÊã©‰ΩøÁî® Java ÂêØÂä® MinecraftÔºåÊàñ‰ΩøÁî®Ëá™ÂÆö‰πâÂëΩ‰ª§ÂêØÂä®ÂÖ∂‰ªñÁ®ãÂ∫è (Â¶Ç Bedrock, Python Á≠â)")],-1)),e("div",jt,[t(Q,{modelValue:o.value,"onUpdate:modelValue":a[2]||(a[2]=U=>o.value=U),options:[{label:"MSLX Âú®Á∫ø‰∏ãËΩΩ (Java)",value:"online"},{label:"‰ΩøÁî®Êú¨Âú∞ÁâàÊú¨ (Java)",value:"local"},{label:"Ëá™ÂÆö‰πâË∑ØÂæÑ (Java)",value:"custom"},{label:"ÁéØÂ¢ÉÂèòÈáè (Java)",value:"env"},{label:"Ëá™ÂÆö‰πâÂëΩ‰ª§ (Êó†Java)",value:"none"}]},null,8,["modelValue"]),o.value!=="none"?(d(),M("div",Gt,[o.value==="online"?(d(),X(Q,{key:0,modelValue:f.value,"onUpdate:modelValue":a[3]||(a[3]=U=>f.value=U),options:j.value,placeholder:"ËØ∑ÈÄâÊã©ÁâàÊú¨",filterable:""},null,8,["modelValue","options"])):D("",!0),o.value==="local"?(d(),X(Q,{key:1,modelValue:v.value,"onUpdate:modelValue":a[4]||(a[4]=U=>v.value=U),options:x.value,placeholder:"ÈÄâÊã©Â∑≤ËØÜÂà´ÁöÑ Java"},null,8,["modelValue","options"])):D("",!0),o.value==="custom"?(d(),X(G,{key:2,modelValue:v.value,"onUpdate:modelValue":a[5]||(a[5]=U=>v.value=U),placeholder:"ËæìÂÖ• java ÂèØÊâßË°åÊñá‰ª∂ÂÆåÊï¥Ë∑ØÂæÑ"},null,8,["modelValue"])):D("",!0)])):D("",!0)])]),e("div",Xt,[e("div",Wt,[e("div",qt,E(o.value==="none"?"ÂêØÂä®ÂëΩ‰ª§ (Command)":"ÂêØÂä®ÂèÇÊï∞ (JVM Args)"),1),e("div",Kt,E(o.value==="none"?"ÂÆåÂÖ®Ëá™ÂÆö‰πâÁöÑÂêØÂä®ÂëΩ‰ª§„ÄÇÁ®ãÂ∫èÂ∞ÜÁõ¥Êé•ÊâßË°åÊ≠§ÊÆµÂÜÖÂÆπÔºå‰∏ç‰æùËµñ Java ÁéØÂ¢É„ÄÇ":"‰º†ÈÄíÁªô Java ÁöÑÂêØÂä®ÂèÇÊï∞ÔºåÂ¶Ç GC Á≠ñÁï• (‰æãÂ¶Ç -XX:+UseG1GC)"),1)]),e("div",Ht,[t(te,{modelValue:i.value.args,"onUpdate:modelValue":a[6]||(a[6]=U=>i.value.args=U),autosize:{minRows:2,maxRows:4},placeholder:o.value==="none"?"‰æãÂ¶Ç: ./bedrock_server_x64":"Êó†ÁâπÊÆäÈúÄÊ±ÇËØ∑ÁïôÁ©∫"},null,8,["modelValue","placeholder"])])]),o.value!=="none"?(d(),M(re,{key:0},[a[31]||(a[31]=e("div",{class:"setting-group-title"},"Ê†∏ÂøÉÁÆ°ÁêÜ",-1)),e("div",Yt,[a[30]||(a[30]=e("div",{class:"setting-info"},[e("div",{class:"title"},"ÊúçÂä°Á´ØÊ†∏ÂøÉÊñá‰ª∂"),e("div",{class:"desc"},[y(" ÊåáÂÆöÂêØÂä®ÁöÑ Jar Êñá‰ª∂Âêç„ÄÇÂ¶ÇÊûúÊñá‰ª∂Â∑≤Â≠òÂú®‰∫éÁõÆÂΩï‰∏≠ÔºåÁõ¥Êé•ËæìÂÖ•Êñá‰ª∂ÂêçÂç≥ÂèØ„ÄÇ "),e("br"),y("ÈúÄË¶ÅÊõ¥Êñ∞Ê†∏ÂøÉÔºüÁÇπÂáª‰∏ãÊñπ‚ÄúÊñá‰ª∂Â∑•ÂÖ∑‚Äù ")])],-1)),e("div",Zt,[t(G,{modelValue:i.value.core,"onUpdate:modelValue":a[8]||(a[8]=U=>i.value.core=U),placeholder:"‰æãÂ¶Ç server.jar"},{suffix:l(()=>[t(J,{variant:"text",theme:"primary",size:"small",onClick:a[7]||(a[7]=U=>p.value=!p.value)},{default:l(()=>[y(E(p.value?"Êî∂Ëµ∑Â∑•ÂÖ∑":"Êñá‰ª∂Â∑•ÂÖ∑"),1)]),_:1})]),_:1},8,["modelValue"]),p.value?(d(),M("div",Qt,[t(Ge,{direction:"vertical",style:{width:"100%"}},{default:l(()=>[t(de,{theme:"info",message:"Âú®Ê≠§Â§ÑÊìç‰Ωú‰ºöËá™Âä®‰∏ãËΩΩ/‰∏ä‰º†Êñá‰ª∂ÔºåÂπ∂Â°´ÂÖ•‰∏äÊñπÁöÑÊñá‰ª∂Âêç„ÄÇ"}),t(ke,{gutter:12},{default:l(()=>[t(se,{span:6},{default:l(()=>[t(J,{block:"",variant:"outline",onClick:a[9]||(a[9]=U=>$.value=!0)},{icon:l(()=>[t(ce,{name:"cloud-download"})]),default:l(()=>[a[28]||(a[28]=y(" ‰ªéÁâàÊú¨Â∫ì‰∏ãËΩΩ ",-1))]),_:1})]),_:1}),t(se,{span:6},{default:l(()=>[t(J,{block:"",variant:"outline",loading:w.value,onClick:H},{icon:l(()=>[t(ce,{name:"upload"})]),default:l(()=>[a[29]||(a[29]=y(" ‰∏ä‰º†Êú¨Âú∞Êñá‰ª∂ ",-1))]),_:1},8,["loading"])]),_:1})]),_:1}),e("input",{ref_key:"uploadInputRef",ref:u,type:"file",accept:".jar",hidden:"",onChange:Y},null,544),w.value?(d(),M("div",ea,[e("span",null,"Ê≠£Âú®‰∏ä‰º†: "+E(K.value),1),t($e,{theme:"line",percentage:B.value},null,8,["percentage"])])):D("",!0)]),_:1})])):D("",!0)])])],64)):D("",!0),o.value!=="none"?(d(),M(re,{key:1},[a[34]||(a[34]=e("div",{class:"setting-group-title"},"ËµÑÊ∫êÈôêÂà∂",-1)),e("div",ta,[a[33]||(a[33]=e("div",{class:"setting-info"},[e("div",{class:"title"},"ÂÜÖÂ≠òÂàÜÈÖç (MB)"),e("div",{class:"desc"},"ËÆæÁΩÆ Java Â†ÜÂÜÖÂ≠òÂ§ßÂ∞è (Xms / Xmx)")],-1)),e("div",aa,[t(fe,{modelValue:i.value.minM,"onUpdate:modelValue":a[10]||(a[10]=U=>i.value.minM=U),min:0,placeholder:"ÊúÄÂ∞è(Xms)",theme:"column",style:{width:"140px"},suffix:"MB"},null,8,["modelValue"]),a[32]||(a[32]=e("span",{class:"separator"},"-",-1)),t(fe,{modelValue:i.value.maxM,"onUpdate:modelValue":a[11]||(a[11]=U=>i.value.maxM=U),min:0,placeholder:"ÊúÄÂ§ß(Xmx)",theme:"column",style:{width:"140px"},suffix:"MB"},null,8,["modelValue"])])])],64)):D("",!0),a[47]||(a[47]=e("div",{class:"setting-group-title"},"Ëá™Âä®Â§á‰ªΩ",-1)),e("div",la,[a[37]||(a[37]=e("div",{class:"setting-info"},[e("div",{class:"title"},"Â§á‰ªΩÁ≠ñÁï•"),e("div",{class:"desc"},"ËÆæÁΩÆËá™Âä®Â§á‰ªΩ‰øùÁïôÊï∞ÈáèÔºå‰ª•ÂèäËß¶ÂèëÂ§á‰ªΩÁöÑÂª∂ËøüÊó∂Èó¥")],-1)),e("div",sa,[t(fe,{modelValue:i.value.backupMaxCount,"onUpdate:modelValue":a[12]||(a[12]=U=>i.value.backupMaxCount=U),min:1,max:100,placeholder:"‰øùÁïô‰ªΩÊï∞",theme:"column",style:{width:"140px"},suffix:"‰ªΩ"},null,8,["modelValue"]),a[35]||(a[35]=e("span",{class:"separator"},"/",-1)),t(fe,{modelValue:i.value.backupDelay,"onUpdate:modelValue":a[13]||(a[13]=U=>i.value.backupDelay=U),min:0,placeholder:"Âª∂ËøüÊó∂Èó¥",theme:"column",style:{width:"140px"},suffix:"Áßí"},null,8,["modelValue"])]),e("div",na,[t(ee,{content:"MSLX ÂêëÊúçÂä°Âô®ÂèëÈÄÅ save-all Êåá‰ª§ÂêéÔºå‰ºöÁ≠âÂæÖÊåáÂÆöÁöÑÁßíÊï∞ÔºåÁ°Æ‰øùÊï∞ÊçÆÂÆåÂÖ®ÂÜôÂÖ•Á°¨ÁõòÂêéÂÜçÂºÄÂßãÊâìÂåÖÂ§á‰ªΩ„ÄÇ"},{default:l(()=>[e("span",oa,[t(ce,{name:"help-circle"}),a[36]||(a[36]=y(" ‰ªÄ‰πàÊòØÂª∂ËøüÊó∂Èó¥Ôºü ",-1))])]),_:1})])]),e("div",ia,[a[38]||(a[38]=e("div",{class:"setting-info"},[e("div",{class:"title"},"Â§á‰ªΩÂ≠òÊîæË∑ØÂæÑ"),e("div",{class:"desc"},"ÈÄâÊã©Â§á‰ªΩÊñá‰ª∂Â≠òÂÇ®ÁöÑ‰ΩçÁΩÆ„ÄÇÊé®ËçêÂ≠òÂÇ®Âú®ÂÆû‰æãÊñá‰ª∂Â§πÂ§ñÈÉ®‰ª•ÂÖçËØØÂà†„ÄÇ")],-1)),e("div",ra,[t(Q,{modelValue:g.value,"onUpdate:modelValue":a[14]||(a[14]=U=>g.value=U),options:[{label:"ÂÆû‰æãÊñá‰ª∂Â§πÂÜÖ (Instance)",value:"MSLX://Backup/Instance"},{label:"ÂÖ®Â±ÄÊï∞ÊçÆÁõÆÂΩï (Data)",value:"MSLX://Backup/Data"},{label:"Ëá™ÂÆö‰πâÁªùÂØπË∑ØÂæÑ",value:"custom"}]},null,8,["modelValue"]),g.value==="custom"?(d(),M("div",ua,[t(G,{modelValue:P.value,"onUpdate:modelValue":a[15]||(a[15]=U=>P.value=U),placeholder:"ËæìÂÖ•Â§á‰ªΩÂ≠òÊîæÁöÑÁªùÂØπË∑ØÂæÑ"},null,8,["modelValue"])])):D("",!0)])]),o.value!=="none"?(d(),M("div",da,"Â§ñÁΩÆÁôªÂΩï")):D("",!0),o.value!=="none"?(d(),M("div",ca,[a[39]||(a[39]=e("div",{class:"setting-info"},[e("div",{class:"title"},"Yggdrasil API"),e("div",{class:"desc"}," ÈÄâÊã©ËÆ§ËØÅÊúçÂä°Âô®„ÄÇÁïôÁ©∫ÂàôË°®Á§∫‰ΩøÁî®ÂÆòÊñπÊ≠£ÁâàÁôªÂΩï (ÊàñÁ¶ªÁ∫øÊ®°Âºè)„ÄÇ ")],-1)),e("div",va,[t(Q,{modelValue:A.value,"onUpdate:modelValue":a[16]||(a[16]=U=>A.value=U),options:n},null,8,["modelValue"]),A.value==="custom"?(d(),M("div",pa,[t(G,{modelValue:b.value,"onUpdate:modelValue":a[17]||(a[17]=U=>b.value=U),placeholder:"ËæìÂÖ• Authlib-Injector API Âú∞ÂùÄ"},null,8,["modelValue"])])):D("",!0)])])):D("",!0),a[48]||(a[48]=e("div",{class:"setting-group-title"},"È´òÁ∫ßËÆæÁΩÆ",-1)),e("div",ma,[a[40]||(a[40]=e("div",{class:"setting-info"},[e("div",{class:"title"},"Ëá™Âä®ÈáçÂêØ"),e("div",{class:"desc"},"ÂΩìÊúçÂä°Âô®Â¥©Ê∫ÉÊàñÊÑèÂ§ñÂÅúÊ≠¢Êó∂Â∞ùËØïËá™Âä®ÈáçÂêØ")],-1)),e("div",fa,[t(xe,{modelValue:i.value.autoRestart,"onUpdate:modelValue":a[18]||(a[18]=U=>i.value.autoRestart=U),label:["Â∑≤ÂºÄÂêØ","Â∑≤ÂÖ≥Èó≠"]},null,8,["modelValue"])])]),e("div",ga,[a[41]||(a[41]=e("div",{class:"setting-info"},[e("div",{class:"title"},"ÈöèÂÆàÊä§ËøõÁ®ãÂêØÂä®"),e("div",{class:"desc"},"ÂΩìÁâ©ÁêÜÊú∫ÂºÄÊú∫/Èù¢ÊùøÂêØÂä®Êó∂ÔºåËá™Âä®ÂêØÂä®Ê≠§ÂÆû‰æã")],-1)),e("div",ba,[t(xe,{modelValue:i.value.runOnStartup,"onUpdate:modelValue":a[19]||(a[19]=U=>i.value.runOnStartup=U),label:["Â∑≤ÂºÄÂêØ","Â∑≤ÂÖ≥Èó≠"]},null,8,["modelValue"])])]),e("div",ya,[a[42]||(a[42]=e("div",{class:"setting-info"},[e("div",{class:"title"},"ÊéßÂà∂Âè∞ÁºñÁ†Å"),e("div",{class:"desc"},"ËÆæÁΩÆËæìÂÖ•ËæìÂá∫ÊµÅÁöÑÂ≠óÁ¨¶ÈõÜÔºå‰π±Á†ÅÊó∂ËØ∑Â∞ùËØïÂàáÊç¢")],-1)),e("div",_a,[t(Q,{modelValue:i.value.inputEncoding,"onUpdate:modelValue":a[20]||(a[20]=U=>i.value.inputEncoding=U),options:s,label:"ËæìÂÖ•",style:{width:"140px"}},null,8,["modelValue"]),t(Q,{modelValue:i.value.outputEncoding,"onUpdate:modelValue":a[21]||(a[21]=U=>i.value.outputEncoding=U),options:s,label:"ËæìÂá∫",style:{width:"140px"}},null,8,["modelValue"])])]),e("div",ka,[t(J,{theme:"primary",type:"submit",size:"large",loading:T.value},{default:l(()=>[...a[43]||(a[43]=[y("‰øùÂ≠òËÆæÁΩÆ",-1)])]),_:1},8,["loading"]),t(J,{theme:"default",variant:"base",size:"large",onClick:me},{default:l(()=>[...a[44]||(a[44]=[y("ÈáçÁΩÆÊõ¥Êîπ",-1)])]),_:1})])]),_:1},8,["data","rules"]),t(at,{visible:$.value,"onUpdate:visible":a[22]||(a[22]=U=>$.value=U),onConfirm:W},null,8,["visible"]),t(We,{visible:F.value,"onUpdate:visible":a[24]||(a[24]=U=>F.value=U),header:"Ê≠£Âú®Â∫îÁî®Êõ¥Êñ∞",footer:!1,"close-on-overlay-click":!1,"close-btn":!1,width:"600px"},{default:l(()=>[e("div",ha,[t($e,{theme:"plump",percentage:O.value,label:`${O.value}%`},null,8,["percentage","label"]),e("div",wa,[(d(!0),M(re,null,ue(L.value,(U,qe)=>(d(),M("div",{key:qe,class:"log-line"},[e("span",$a,E(U.time),1),y(" "+E(U.msg),1)]))),128))]),O.value===100?(d(),M("div",xa,[t(J,{theme:"primary",onClick:a[23]||(a[23]=U=>F.value=!1)},{default:l(()=>[...a[49]||(a[49]=[y("ÂÖ≥Èó≠Âπ∂Âà∑Êñ∞",-1)])]),_:1})])):D("",!0)])]),_:1},8,["visible"])])}}}),Va=oe(Ca,[["__scopeId","data-v-0f10e04e"]]),Sa={class:"pm-container"},Ua={class:"header-section"},Ia={class:"mode-switcher"},Ra={key:0,class:"error-alert-bar"},Ba={class:"toolbar"},Ma={class:"left-actions"},La={key:0,class:"bulk-actions"},Pa={class:"selected-count"},Aa={class:"right-search"},Ea={class:"table-wrapper"},Oa={class:"empty-state"},Ta={class:"tips-footer"},Na=ie({__name:"ModsPluginsManager",setup(r){const k=ve(),I=parseInt(k.params.id),c=m("mods"),S=m(!1),C=m([]),T=m(""),V=m([]),s=m(""),i=ne(()=>[{colKey:"row-select",type:"multiple",width:50,fixed:"left"},{title:"Êñá‰ª∂Âêç",colKey:"name",sorter:(b,n)=>b.name.localeCompare(n.name),ellipsis:!0},{title:"Áä∂ÊÄÅ",colKey:"status",width:100},{title:"Êìç‰Ωú",colKey:"op",width:180,fixed:"right",align:"right"}]),o=ne(()=>{if(!T.value)return C.value;const b=T.value.toLowerCase();return C.value.filter(n=>n.name.toLowerCase().includes(b))}),j=async()=>{S.value=!0,V.value=[],s.value="";try{const b=await ut(I,c.value),n=(b.jarFiles||[]).map($=>({name:$,status:"enabled"})),p=(b.disableJarFiles||[]).map($=>({name:$,status:"disabled"}));C.value=[...n,...p]}catch(b){const n=b.message||"Ëé∑ÂèñÂàóË°®Â§±Ë¥•";s.value=n,C.value=[]}finally{S.value=!1}},x=async(b,n)=>{if(n.length===0)return;const p={enable:"ÂêØÁî®",disable:"Á¶ÅÁî®",delete:"Âà†Èô§"},$=async()=>{try{S.value=!0;const u=await dt(I,c.value,b,n),{successCount:w,failCount:B}=u||{};B>0?q.warning(`Êìç‰ΩúÂÆåÊàêÔºöÊàêÂäü ${w} ‰∏™ÔºåÂ§±Ë¥• ${B} ‰∏™`):q.success(`ÊàêÂäü${p[b]} ${w} ‰∏™Êñá‰ª∂`),await j()}catch(u){q.error(u.message||"Êìç‰ΩúÂ§±Ë¥•"),S.value=!1}};if(b==="delete"){const u=we.confirm({header:`Á°ÆËÆ§Âà†Èô§ ${n.length} ‰∏™Êñá‰ª∂?`,body:"Ê≠§Êìç‰Ωú‰∏çÂèØÈÄÜÔºåÊñá‰ª∂Â∞ÜË¢´Ê∞∏‰πÖÂà†Èô§„ÄÇ",theme:"danger",onConfirm:()=>{u.hide(),$()}})}else await $()},f=b=>{c.value=b,j()},v=b=>{const n=b.status==="enabled"?"disable":"enable";x(n,[b.name])},h=b=>{const n=V.value;x(b,n)},g=m(!1),P=()=>{g.value=!0},A=()=>{g.value=!1,j()};return pe(()=>{j()}),ae(()=>k.params.id,b=>{b&&location.reload()}),(b,n)=>{const p=_("t-radio-button"),$=_("t-radio-group"),u=_("t-alert"),w=_("t-button"),B=_("t-input"),K=_("t-tag"),W=_("t-switch"),H=_("t-popconfirm"),Y=_("t-space"),le=_("t-table");return d(),M("div",Sa,[e("div",Ua,[n[10]||(n[10]=e("div",{class:"setting-group-title"}," ËµÑÊ∫êÁÆ°ÁêÜ ",-1)),e("div",Ia,[t($,{modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=F=>c.value=F),variant:"default-filled",onChange:f},{default:l(()=>[t(p,{value:"mods"},{icon:l(()=>[t(N(Ve))]),default:l(()=>[n[8]||(n[8]=y(" Ê®°ÁªÑ (Mods) ",-1))]),_:1}),t(p,{value:"plugins"},{icon:l(()=>[t(N(Se))]),default:l(()=>[n[9]||(n[9]=y(" Êèí‰ª∂ (Plugins) ",-1))]),_:1})]),_:1},8,["modelValue"])])]),s.value?(d(),M("div",Ra,[t(u,{theme:"error",message:s.value,closeable:"",onClose:n[1]||(n[1]=F=>s.value="")},{operation:l(()=>[e("span",{style:{cursor:"pointer","margin-left":"8px"},onClick:j},"ÈáçËØï")]),_:1},8,["message"])])):D("",!0),e("div",Ba,[e("div",Ma,[t(w,{theme:"primary",disabled:s.value!=="",onClick:P},{icon:l(()=>[t(N(gt))]),default:l(()=>[n[11]||(n[11]=y(" ‰∏ä‰º†Êñá‰ª∂ ",-1))]),_:1},8,["disabled"]),t(w,{variant:"outline",loading:S.value,onClick:j},{icon:l(()=>[t(N(ye))]),_:1},8,["loading"]),t(Le,{name:"fade"},{default:l(()=>[V.value.length>0?(d(),M("div",La,[n[15]||(n[15]=e("div",{class:"divider"},null,-1)),e("span",Pa,"Â∑≤ÈÄâ "+E(V.value.length)+" È°π",1),t(w,{size:"small",variant:"text",theme:"success",onClick:n[2]||(n[2]=F=>h("enable"))},{default:l(()=>[...n[12]||(n[12]=[y("ÂêØÁî®",-1)])]),_:1}),t(w,{size:"small",variant:"text",theme:"warning",onClick:n[3]||(n[3]=F=>h("disable"))},{default:l(()=>[...n[13]||(n[13]=[y("Á¶ÅÁî®",-1)])]),_:1}),t(w,{size:"small",variant:"text",theme:"danger",onClick:n[4]||(n[4]=F=>h("delete"))},{default:l(()=>[...n[14]||(n[14]=[y("Âà†Èô§",-1)])]),_:1})])):D("",!0)]),_:1})]),e("div",Aa,[t(B,{modelValue:T.value,"onUpdate:modelValue":n[5]||(n[5]=F=>T.value=F),placeholder:"ÊêúÁ¥¢Êñá‰ª∂Âêç...",clearable:""},{"prefix-icon":l(()=>[t(N(bt))]),_:1},8,["modelValue"])])]),e("div",Ea,[t(le,{"selected-row-keys":V.value,"onUpdate:selectedRowKeys":n[6]||(n[6]=F=>V.value=F),data:o.value,columns:i.value,"row-key":"name",loading:S.value,pagination:{defaultPageSize:20,total:o.value.length,showJumper:!0},hover:"",stripe:"",class:"custom-table"},{status:l(({row:F})=>[F.status==="enabled"?(d(),X(K,{key:0,theme:"success",variant:"light"},{icon:l(()=>[t(N(Ee))]),default:l(()=>[n[16]||(n[16]=y(" Â∑≤ÂêØÁî® ",-1))]),_:1})):(d(),X(K,{key:1,theme:"default",variant:"light",style:{color:"var(--td-text-color-placeholder)"}},{icon:l(()=>[t(N(yt))]),default:l(()=>[n[17]||(n[17]=y(" Â∑≤Á¶ÅÁî® ",-1))]),_:1}))]),op:l(({row:F})=>[t(Y,{size:"small"},{default:l(()=>[t(W,{"model-value":F.status==="enabled",loading:S.value,size:"medium",onChange:O=>v(F)},{label:l(O=>[y(E(O.value?"ÂºÄ":"ÂÖ≥"),1)]),_:1},8,["model-value","loading","onChange"]),t(H,{content:"Á°ÆÂÆöË¶ÅÂà†Èô§Ê≠§Êñá‰ª∂ÂêóÔºü",theme:"danger",onConfirm:O=>x("delete",[F.name])},{default:l(()=>[t(w,{variant:"text",theme:"danger",shape:"square"},{default:l(()=>[t(N(Ae))]),_:1})]),_:1},8,["onConfirm"])]),_:2},1024)]),empty:l(()=>[e("div",Oa,[c.value==="mods"?(d(),X(N(Ve),{key:0,size:"48px",style:{color:"var(--td-gray-color-4)"}})):(d(),X(N(Se),{key:1,size:"48px",style:{color:"var(--td-gray-color-4)"}})),e("p",null,E(`ÊöÇÊó†${c.value==="mods"?"Ê®°ÁªÑ":"Êèí‰ª∂"}Êñá‰ª∂`),1)])]),_:1},8,["selected-row-keys","data","columns","loading","pagination"])]),e("div",Ta,[e("p",null,"ÊèêÁ§∫Ôºö"+E(c.value==="mods"?"Ê®°ÁªÑ":"Êèí‰ª∂")+"Êñá‰ª∂Â≠òÊîæ‰∫éÊúçÂä°Âô®Ê†πÁõÆÂΩïÁöÑ /"+E(c.value)+" Êñá‰ª∂Â§π‰∏ã„ÄÇ",1),n[18]||(n[18]=e("p",null,"Á¶ÅÁî®Êñá‰ª∂ÂêéÔºå‰ºöÂú®Êñá‰ª∂ÂêçÂêéÊ∑ªÂä† .disabled ÂêéÁºÄÔºåÊúçÂä°Âô®Â∞ÜÂøΩÁï•ËØ•Êñá‰ª∂„ÄÇ",-1))]),t(It,{visible:g.value,"onUpdate:visible":n[7]||(n[7]=F=>g.value=F),"instance-id":N(I),"current-path":c.value,"allow-folder":!1,onSuccess:A},null,8,["visible","instance-id","current-path"])])}}}),Da=oe(Na,[["__scopeId","data-v-336551da"]]),Ue=[{key:"motd",label:"ÊúçÂä°Âô®Ê†áËØ≠",desc:"ÊòæÁ§∫Âú®Â§ö‰∫∫Ê∏∏ÊàèÂàóË°®‰∏≠ÁöÑÊúçÂä°Âô®‰ªãÁªç‰ø°ÊÅØÔºåÊîØÊåÅÈ¢úËâ≤‰ª£Á†ÅÔºå‰∏çÊîØÊåÅ‰∏≠Êñá„ÄÇ",type:"string"},{key:"server-port",label:"ÊúçÂä°Âô®Á´ØÂè£",desc:"ÈªòËÆ§‰∏∫ 25565„ÄÇÂ¶ÇÊûúË¶ÅÂú®‰∏ÄÂè∞Êú∫Âô®ËøêË°åÂ§ö‰∏™ÊúçÂä°Âô®ÔºåÂøÖÈ°ª‰øÆÊîπÊ≠§Á´ØÂè£„ÄÇ",type:"number"},{key:"max-players",label:"ÊúÄÂ§ßÁé©ÂÆ∂Êï∞",desc:"ÊúçÂä°Âô®ÂêåÊó∂ÂÖÅËÆ∏Âú®Á∫øÁöÑÊúÄÂ§ßÁé©ÂÆ∂Êï∞Èáè„ÄÇ",type:"number"},{key:"online-mode",label:"Ê≠£ÁâàÈ™åËØÅ",desc:"ÂºÄÂêØÂêéÂ∞ÜÈ™åËØÅÁé©ÂÆ∂ÁöÑÊ≠£ÁâàË¥¶Âè∑„ÄÇÂ¶ÇÊûú‰ΩøÁî®Á¶ªÁ∫ø/ÁöÆËÇ§Á´ôÔºåËØ∑ÂÖ≥Èó≠Ê≠§È°π„ÄÇ",type:"boolean"},{key:"white-list",label:"ÂêØÁî®ÁôΩÂêçÂçï",desc:"ÂºÄÂêØÂêéÂè™ÊúâÂú®ÁôΩÂêçÂçïÂÜÖÁöÑÁé©ÂÆ∂ÊâçËÉΩËøõÂÖ•ÊúçÂä°Âô®„ÄÇ",type:"boolean"},{key:"enforce-whitelist",label:"Âº∫Âà∂ÁôΩÂêçÂçï",desc:"ÂºÄÂêØÂêéÔºåÂΩìÁé©ÂÆ∂‰∏çÂú®ÁôΩÂêçÂçïÊó∂ÔºåÂç≥‰ΩøÂ∑≤Âú®Á∫ø‰πü‰ºöË¢´Ë∏¢Âá∫ÔºàÈÄöÂ∏∏Áî®‰∫éÁª¥Êä§Êó∂ÈáçÊñ∞Âä†ËΩΩÁôΩÂêçÂçïÔºâ„ÄÇ",type:"boolean"},{key:"level-name",label:"Â≠òÊ°£Êñá‰ª∂Â§πÂêçÁß∞",desc:"ÊúçÂä°Âô®ËØªÂèñÁöÑ‰∏ñÁïåÂ≠òÊ°£Êñá‰ª∂Â§πÂêçÁß∞ÔºàÈªòËÆ§‰∏∫ worldÔºâ„ÄÇ",type:"string"},{key:"gamemode",label:"ÈªòËÆ§Ê∏∏ÊàèÊ®°Âºè",desc:"Êñ∞Áé©ÂÆ∂ËøõÂÖ•ÊúçÂä°Âô®Êó∂ÁöÑÈªòËÆ§Ê®°Âºè„ÄÇ",type:"select",options:[{label:"ÁîüÂ≠ò (Survival)",value:"survival"},{label:"ÂàõÈÄ† (Creative)",value:"creative"},{label:"ÂÜíÈô© (Adventure)",value:"adventure"},{label:"ÊóÅËßÇ (Spectator)",value:"spectator"}]},{key:"force-gamemode",label:"Âº∫Âà∂Ê∏∏ÊàèÊ®°Âºè",desc:"ÂºÄÂêØÂêéÔºåÁé©ÂÆ∂ÊØèÊ¨°Âä†ÂÖ•ÊúçÂä°Âô®ÈÉΩ‰ºöË¢´ÈáçÁΩÆ‰∏∫ÈªòËÆ§Ê∏∏ÊàèÊ®°Âºè„ÄÇ",type:"boolean"},{key:"difficulty",label:"ÈöæÂ∫¶",desc:"‰∏ñÁïåÁöÑÊ∏∏ÊàèÈöæÂ∫¶ËÆæÁΩÆ„ÄÇ",type:"select",options:[{label:"ÂíåÂπ≥ (Peaceful)",value:"peaceful"},{label:"ÁÆÄÂçï (Easy)",value:"easy"},{label:"ÊôÆÈÄö (Normal)",value:"normal"},{label:"Âõ∞Èöæ (Hard)",value:"hard"}]},{key:"hardcore",label:"ÊûÅÈôêÊ®°Âºè",desc:"ÂºÄÂêØÂêéÔºåÁé©ÂÆ∂Ê≠ª‰∫°Â∞ÜË¢´Â∞ÅÁ¶Å„ÄÇ",type:"boolean"},{key:"allow-flight",label:"ÂÖÅËÆ∏È£ûË°å",desc:"ÂÖÅËÆ∏ÁîüÂ≠òÊ®°Âºè‰∏ãÁöÑÁé©ÂÆ∂È£ûË°åÔºàÈò≤Ê≠¢Ë¢´ÊúçÂä°Á´ØÂèç‰ΩúÂºäË∏¢Âá∫Ôºâ„ÄÇ",type:"boolean"},{key:"spawn-protection",label:"Âá∫ÁîüÁÇπ‰øùÊä§ÂçäÂæÑ",desc:"Âá∫ÁîüÁÇπÂë®Âõ¥Â§öÂ∞ëÊ†ºÂÜÖÁ¶ÅÊ≠¢Èùû OP Á†¥Âùè„ÄÇËÆæ‰∏∫ 0 ÂèØÁ¶ÅÁî®„ÄÇ",type:"number"},{key:"player-idle-timeout",label:"ÊåÇÊú∫Ë∏¢Âá∫Êó∂Èó¥",desc:"Áé©ÂÆ∂Èó≤ÁΩÆÂ§öÂ∞ëÂàÜÈíüÂêéË¢´Ëá™Âä®Ë∏¢Âá∫„ÄÇ0 ‰∏∫‰∏çÈôêÂà∂„ÄÇ",type:"number"},{key:"level-seed",label:"‰∏ñÁïåÁßçÂ≠ê",desc:"ÁîüÊàê‰∏ñÁïå‰ΩøÁî®ÁöÑÁßçÂ≠êÔºåÁïôÁ©∫ÂàôÈöèÊú∫ÁîüÊàê„ÄÇ",type:"string"},{key:"level-type",label:"‰∏ñÁïåÁ±ªÂûã",desc:"‰æãÂ¶Ç minecraft:normal, minecraft:flat, minecraft:amplified„ÄÇ",type:"string"},{key:"generate-structures",label:"ÁîüÊàêÁªìÊûÑ",desc:"ÊòØÂê¶ÁîüÊàêÊùëÂ∫Ñ„ÄÅÂú∞Áâ¢Á≠âÁªìÊûÑ„ÄÇ",type:"boolean"},{key:"generator-settings",label:"ÁîüÊàêÂô®ËÆæÁΩÆ",desc:"Áî®‰∫éËá™ÂÆö‰πâË∂ÖÂπ≥Âù¶ÊàñÁâπÂÆöÁîüÊàêÂô®ÁöÑ JSON ÂèÇÊï∞„ÄÇ",type:"string"},{key:"max-world-size",label:"‰∏ñÁïåËæπÁïåÂçäÂæÑ",desc:"ËÆæÁΩÆ‰∏ñÁïåËæπÁïåÔºàWorld BorderÔºâÁöÑÊúÄÂ§ßÂçäÂæÑ„ÄÇ",type:"number"},{key:"simulation-distance",label:"Ê®°ÊãüË∑ùÁ¶ª",desc:"ÊúçÂä°Âô®ÂÆûÈôÖËøêÁÆóÂÆû‰Ωì/‰ΩúÁâ©ÁîüÈïøÁöÑÂå∫ÂùóÂçäÂæÑÔºà3-32Ôºâ„ÄÇ",type:"number"},{key:"view-distance",label:"ËßÜË∑ù",desc:"ÂÆ¢Êà∑Á´ØÂèØ‰ª•ÁúãËßÅÁöÑÂå∫ÂùóÂçäÂæÑ„ÄÇÊï∞ÂÄºËøáÂ§ßÊòæËëóÂ¢ûÂä†ÂÜÖÂ≠òÂíåÂ∏¶ÂÆΩÊ∂àËÄó„ÄÇ",type:"number"},{key:"entity-broadcast-range-percentage",label:"ÂÆû‰ΩìÂπøÊí≠ËåÉÂõ¥ÁôæÂàÜÊØî",desc:"ÊéßÂà∂ÂÆ¢Êà∑Á´ØËÉΩÁúãÂà∞ÂÆû‰ΩìÁöÑË∑ùÁ¶ªÁ≥ªÊï∞Ôºà100Ë°®Á§∫ÈªòËÆ§Ôºâ„ÄÇ",type:"number"},{key:"max-tick-time",label:"ÊúÄÂ§ßÂàªËÄóÊó∂ (Watchdog)",desc:"‰∏ÄÂàªÁöÑÊúÄÈïøÂ§ÑÁêÜÊØ´ÁßíÊï∞„ÄÇË∂ÖËøáÊ≠§Êï∞ÂÄºÊúçÂä°Âô®Â∞ÜÂº∫Âà∂ÂÖ≥Èó≠‰ª•Èò≤Âç°Ê≠ª„ÄÇËÆæ‰∏∫ -1 ÂèØÁ¶ÅÁî®„ÄÇ",type:"number"},{key:"network-compression-threshold",label:"ÁΩëÁªúÂéãÁº©ÈòàÂÄº",desc:"Êï∞ÊçÆÂåÖË∂ÖËøáÊ≠§Â≠óËäÇÊï∞Êó∂ËøõË°åÂéãÁº©„ÄÇËÆæ‰∏∫ -1 Á¶ÅÁî®ÂéãÁº©„ÄÇÊé®Ëçê‰øùÊåÅÈªòËÆ§ 256„ÄÇ",type:"number"},{key:"rate-limit",label:"Êï∞ÊçÆÂåÖÈôêÂà∂",desc:"Â¶ÇÊûúÁé©ÂÆ∂ÂèëÈÄÅÊï∞ÊçÆÂåÖËøáÂø´ÔºåÂ∞ÜË¢´Ë∏¢Âá∫„ÄÇ0 ‰∏∫Á¶ÅÁî®„ÄÇ",type:"number"},{key:"use-native-transport",label:"‰ΩøÁî®ÂéüÁîü‰º†Ëæì‰ºòÂåñ",desc:"Linux ÁéØÂ¢É‰∏ãÊòØÂê¶ÂêØÁî® Epoll ‰ºòÂåñÁΩëÁªúÊÄßËÉΩ„ÄÇ",type:"boolean"},{key:"prevent-proxy-connections",label:"Èò≤Ê≠¢‰ª£ÁêÜËøûÊé•",desc:"ÊòØÂê¶Â∞ùËØïÈòªÊ≠¢ÈÄöËøá VPN Êàñ‰ª£ÁêÜÁöÑËøûÊé•ÔºàISP/AS Âè∑Âà§Êñ≠Ôºâ„ÄÇ",type:"boolean"},{key:"sync-chunk-writes",label:"ÂêåÊ≠•Âå∫ÂùóÂÜôÂÖ•",desc:"ÂºÄÂêØÂêéÂå∫ÂùóÂÜôÂÖ•ÂÆåÊàêÂêéÊâçÁªßÁª≠ÈÄªËæëÔºåÊï∞ÊçÆÊõ¥ÂÆâÂÖ®‰ΩÜÂèØËÉΩÊéâÂ∏ßÔºõÂÖ≥Èó≠ÂèØËÉΩÊèêÂçáÊÄßËÉΩ„ÄÇ",type:"boolean"},{key:"region-file-compression",label:"Âå∫ÂùóÊñá‰ª∂ÂéãÁº©Ê†ºÂºè",desc:"Áî®‰∫é‰øùÂ≠òÂå∫ÂùóÁöÑÂéãÁº©ÁÆóÊ≥ï„ÄÇ",type:"select",options:[{label:"Deflate (ÈªòËÆ§)",value:"deflate"},{label:"LZ4 (Êõ¥Âø´)",value:"lz4"},{label:"‰∏çÂéãÁº© (None)",value:"none"}]},{key:"max-chained-neighbor-updates",label:"ÊúÄÂ§ßËøûÈîÅÊõ¥Êñ∞Êï∞",desc:"ÈôêÂà∂Á∫¢Áü≥/ÊñπÂùóËøûÈîÅÊõ¥Êñ∞ÁöÑÊï∞Èáè‰ª•Èò≤Ê≠¢Â¥©Êúç„ÄÇ",type:"number"},{key:"log-ips",label:"ÊéßÂà∂Âè∞ËÆ∞ÂΩï IP",desc:"ÊòØÂê¶Âú®ÊéßÂà∂Âè∞Êó•Âøó‰∏≠ÊòæÁ§∫Áé©ÂÆ∂ËøûÊé•ÁöÑ IP Âú∞ÂùÄ„ÄÇ",type:"boolean"},{key:"hide-online-players",label:"ÈöêËóèÂú®Á∫øÁé©ÂÆ∂ÂàóË°®",desc:"ÂºÄÂêØÂêéÔºåÊúçÂä°Âô®ÂàóË°®‰∏≠Â∞Ü‰∏çÊòæÁ§∫ÂÖ∑‰ΩìÁöÑÁé©ÂÆ∂ÂêçÂçï„ÄÇ",type:"boolean"},{key:"enable-status",label:"ÂêØÁî®Áä∂ÊÄÅÊü•ËØ¢",desc:"ÊòØÂê¶ÂÖÅËÆ∏Â§ñÈÉ®ÔºàÂ¶ÇÊúçÂä°Âô®ÂàóË°®ÁΩëÁ´ôÔºâÊü•ËØ¢ÊúçÂä°Âô®Áä∂ÊÄÅ„ÄÇ",type:"boolean"},{key:"accepts-transfers",label:"Êé•ÂèóÊúçÂä°Âô®‰º†ÈÄÅ",desc:"ÊòØÂê¶ÂÖÅËÆ∏Áé©ÂÆ∂‰ªéÂÖ∂‰ªñÊúçÂä°Âô®Êó†Áºù‰º†ÈÄÅÂà∞Ê≠§ÊúçÂä°Âô®„ÄÇ",type:"boolean"},{key:"pause-when-empty-seconds",label:"Á©∫ËΩΩÊöÇÂÅúÊó∂Èó¥",desc:"ÊúçÂä°Âô®ÂÜÖÊó†Áé©ÂÆ∂Â§öÂ∞ëÁßíÂêéÊöÇÂÅúÊ∏∏ÊàèÂæ™ÁéØÔºàÁúÅËµÑÊ∫êÔºâ„ÄÇ-1 ‰∏∫‰∏çÊöÇÂÅú„ÄÇ",type:"number"},{key:"op-permission-level",label:"OP ÊùÉÈôêÁ≠âÁ∫ß",desc:"ËÆæÁΩÆ OP ÁöÑÈªòËÆ§ÊùÉÈôêÁ∫ßÂà´„ÄÇ",type:"select",options:[{label:"1 - Êó†ËßÜÂá∫ÁîüÁÇπ‰øùÊä§",value:1},{label:"2 - ‰ΩøÁî®ÂçïÊú∫Êåá‰ª§ (gamemodeÁ≠â)",value:2},{label:"3 - Â§ö‰∫∫ÁÆ°ÁêÜ (kick/ban/op)",value:3},{label:"4 - Á≥ªÁªüÁÆ°ÁêÜ (stop/save)",value:4}]},{key:"function-permission-level",label:"ÂáΩÊï∞ÊùÉÈôêÁ≠âÁ∫ß",desc:"Êï∞ÊçÆÂåÖ(Datapack)‰∏≠ÂáΩÊï∞ÁöÑÈªòËÆ§ÊâßË°åÊùÉÈôêÁ≠âÁ∫ß„ÄÇ",type:"number"},{key:"enforce-secure-profile",label:"Âº∫Âà∂ÂÆâÂÖ®ÈÖçÁΩÆ (Á≠æÂêç)",desc:"Âº∫Âà∂Áé©ÂÆ∂Êã•ÊúâÂÆòÊñπÁ≠æÂêçÁöÑÂÖ¨Èí•ÔºàËÅäÂ§©Êä•ÂëäÁõ∏ÂÖ≥Ôºâ„ÄÇÁ¶ªÁ∫øÊúçÂª∫ËÆÆÂÖ≥Èó≠„ÄÇ",type:"boolean"},{key:"enable-code-of-conduct",label:"ÂêØÁî®Ë°å‰∏∫ÂáÜÂàôÊèêÁ§∫",desc:"ÊòØÂê¶ÂêëÁé©ÂÆ∂Â±ïÁ§∫Ë°å‰∏∫ÂáÜÂàôÈìæÊé•ÔºàÈÅ•ÊµãÁõ∏ÂÖ≥Ôºâ„ÄÇ",type:"boolean"},{key:"bug-report-link",label:"Bug ÂèçÈ¶àÈìæÊé•",desc:"Ëá™ÂÆö‰πâÁé©ÂÆ∂ÈÅáÂà∞ÈîôËØØÊó∂ÊòæÁ§∫ÁöÑÂèçÈ¶àÁΩëÂùÄ„ÄÇ",type:"string"},{key:"resource-pack",label:"ËµÑÊ∫êÂåÖ‰∏ãËΩΩÂú∞ÂùÄ",desc:"Áé©ÂÆ∂ËøõÂÖ•ÊúçÂä°Âô®Êó∂ÊèêÁ§∫‰∏ãËΩΩÁöÑËµÑÊ∫êÂåÖÁõ¥Èìæ URL„ÄÇ",type:"string"},{key:"require-resource-pack",label:"Âº∫Âà∂ËµÑÊ∫êÂåÖ",desc:"ÂºÄÂêØÂêéÔºåÊãíÁªù‰∏ãËΩΩËµÑÊ∫êÂåÖÁöÑÁé©ÂÆ∂Â∞ÜË¢´Ë∏¢Âá∫„ÄÇ",type:"boolean"},{key:"resource-pack-sha1",label:"ËµÑÊ∫êÂåÖ SHA1",desc:"ËµÑÊ∫êÂåÖÊñá‰ª∂ÁöÑ SHA-1 Ê†°È™åÁ†ÅÔºåÁî®‰∫éÈ™åËØÅÂÆåÊï¥ÊÄßÂíåÁºìÂ≠ò„ÄÇ",type:"string"},{key:"resource-pack-prompt",label:"ËµÑÊ∫êÂåÖÊèêÁ§∫ËØ≠",desc:"‰∏ãËΩΩËµÑÊ∫êÂåÖÊó∂ÂêëÁé©ÂÆ∂ÊòæÁ§∫ÁöÑËá™ÂÆö‰πâÊ∂àÊÅØÔºàJson Ê†ºÂºèÔºâ„ÄÇ",type:"string"},{key:"initial-enabled-packs",label:"ÂàùÂßãÂêØÁî®Êï∞ÊçÆÂåÖ",desc:"‰∏ñÁïåÁîüÊàêÊó∂ÈªòËÆ§ÂêØÁî®ÁöÑÊï∞ÊçÆÂåÖÂàóË°®ÔºàÈÄóÂè∑ÂàÜÈöîÔºâ„ÄÇ",type:"string"},{key:"initial-disabled-packs",label:"ÂàùÂßãÁ¶ÅÁî®Êï∞ÊçÆÂåÖ",desc:"‰∏ñÁïåÁîüÊàêÊó∂ÈªòËÆ§Á¶ÅÁî®ÁöÑÊï∞ÊçÆÂåÖÂàóË°®„ÄÇ",type:"string"},{key:"enable-rcon",label:"ÂêØÁî® RCON",desc:"ÂºÄÂêØËøúÁ®ãÊéßÂà∂Âè∞ÂçèËÆÆÔºåÂÖÅËÆ∏Â§ñÈÉ®Â∑•ÂÖ∑ÂèëÈÄÅÊåá‰ª§„ÄÇ",type:"boolean"},{key:"rcon.port",label:"RCON Á´ØÂè£",desc:"RCON ÁõëÂê¨Á´ØÂè£ÔºàÈªòËÆ§‰∏∫ 25575Ôºâ„ÄÇ",type:"number"},{key:"rcon.password",label:"RCON ÂØÜÁ†Å",desc:"ËøûÊé• RCON ÂøÖÈ°ªÁöÑÂØÜÁ†Å„ÄÇËØ∑ËÆæÁΩÆÂ§çÊùÇÁöÑÂØÜÁ†Å„ÄÇ",type:"string"},{key:"broadcast-rcon-to-ops",label:"Âêë OP ÂπøÊí≠ RCON",desc:"ÂΩì RCON ÊâßË°åÊåá‰ª§Êó∂ÔºåÊòØÂê¶ÈÄöÁü•Âú®Á∫øÁöÑ OP„ÄÇ",type:"boolean"},{key:"enable-query",label:"ÂêØÁî® Query",desc:"ÂºÄÂêØ GameSpy4 ÂçèËÆÆÔºåÁî®‰∫éËé∑ÂèñÊúçÂä°Âô®ËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ",type:"boolean"},{key:"query.port",label:"Query Á´ØÂè£",desc:"Query ÂçèËÆÆÁõëÂê¨Á´ØÂè£ÔºàÈªòËÆ§‰∏∫ 25565Ôºâ„ÄÇ",type:"number"},{key:"broadcast-console-to-ops",label:"Âêë OP ÂπøÊí≠ÊéßÂà∂Âè∞",desc:"ÊéßÂà∂Âè∞ÊâßË°åÁöÑÊåá‰ª§ËæìÂá∫ÊòØÂê¶ÂèëÁªôÂú®Á∫ø OP„ÄÇ",type:"boolean"},{key:"enable-jmx-monitoring",label:"ÂêØÁî® JMX ÁõëÊéß",desc:"ÂºÄÂêØ Java JMX ÊÄßËÉΩÁõëÊéßÔºàÈÄöÂ∏∏Áî®‰∫éÂºÄÂèëË∞ÉËØïÔºâ„ÄÇ",type:"boolean"},{key:"management-server-enabled",label:"ÂêØÁî®ÁÆ°ÁêÜÂêéÂè∞",desc:"ÊòØÂê¶ÂêØÁî® Minecraft ÂÆòÊñπÂÆö‰πâÁöÑÁÆ°ÁêÜÊúçÂä°Âô®Êé•Âè£„ÄÇ",type:"boolean"},{key:"management-server-port",label:"ÁÆ°ÁêÜÂêéÂè∞Á´ØÂè£",desc:"ÁÆ°ÁêÜÊé•Âè£ÁõëÂê¨ÁöÑÁ´ØÂè£„ÄÇ",type:"number"},{key:"management-server-host",label:"ÁÆ°ÁêÜÂêéÂè∞‰∏ªÊú∫",desc:"ÁÆ°ÁêÜÊé•Âè£ÁªëÂÆöÁöÑ‰∏ªÊú∫Âêç/IP„ÄÇ",type:"string"},{key:"management-server-allowed-origins",label:"ÁÆ°ÁêÜÂêéÂè∞ÂÖÅËÆ∏Ê∫ê",desc:"ÂÖÅËÆ∏ËÆøÈóÆÁÆ°ÁêÜÊé•Âè£ÁöÑ Origin ÂàóË°®„ÄÇ",type:"string"},{key:"server-ip",label:"ÊúçÂä°Âô®ÁªëÂÆö IP",desc:"ÊåáÂÆöÊúçÂä°Âô®ÁªëÂÆöÁöÑÊú¨Âú∞ÁΩëÂç° IP„ÄÇÁïôÁ©∫Ë°®Á§∫ÁõëÂê¨ÊâÄÊúâÁΩëÂç°Ôºà0.0.0.0Ôºâ„ÄÇ",type:"string"},{key:"debug",label:"Ë∞ÉËØïÊ®°Âºè",desc:"ÂºÄÂêØÂêéÊéßÂà∂Âè∞Â∞ÜËæìÂá∫Êõ¥Â§öË∞ÉËØï‰ø°ÊÅØ„ÄÇ",type:"boolean"},{key:"text-filtering-config",label:"ÊñáÊú¨ËøáÊª§ÈÖçÁΩÆ",desc:"Áî®‰∫éÊñáÊú¨ËøáÊª§ÊúçÂä°ÁöÑ API ÈÖçÁΩÆ„ÄÇ",type:"string"},{key:"status-heartbeat-interval",label:"Áä∂ÊÄÅÂøÉË∑≥Èó¥Èöî",desc:"ÊúçÂä°Âô®ÂêëÂÆ¢Êà∑Á´ØÂèëÈÄÅÁä∂ÊÄÅÂøÉË∑≥ÁöÑÈó¥ÈöîÔºà0 ‰∏∫ÈªòËÆ§Ôºâ„ÄÇ",type:"number"}],Fa={class:"settings-container"},za={class:"page-header"},Ja={class:"config-list"},ja={key:0,class:"empty-tip"},Ga={class:"setting-info"},Xa={class:"title"},Wa={class:"key-name-row"},qa={key:0,class:"key-name"},Ka={key:0,class:"desc"},Ha={class:"setting-control"},Ya={class:"form-actions"},Za=ie({__name:"ServerProperties",setup(r){const k=ve(),I=m(0),c=m(!1),S=m(!1),C=m({}),T=m(""),V=h=>{const g={};return h.split(`
`).forEach(A=>{const b=A.trim();if(!b||b.startsWith("#"))return;const n=b.indexOf("=");if(n!==-1){const p=b.substring(0,n).trim(),$=b.substring(n+1).trim();g[p]=$}}),g},s=h=>{let g=`#Minecraft server properties
#${new Date().toString()}
`;const P=Ue.map(b=>b.key),A=Object.keys(h);return P.forEach(b=>{Object.prototype.hasOwnProperty.call(h,b)&&(g+=`${b}=${h[b]}
`)}),A.forEach(b=>{P.includes(b)||(g+=`${b}=${h[b]}
`)}),g},i=async()=>{if(I.value){c.value=!0;try{const h=await ct(I.value,"server.properties");h&&(T.value=h,C.value=V(h))}catch(h){q.error(`ËØªÂèñÈÖçÁΩÆÊñá‰ª∂Â§±Ë¥•: ${h.message}`)}finally{c.value=!1}}},o=async()=>{S.value=!0;try{const h=s(C.value);await vt(I.value,"server.properties",h),q.success("ÈÖçÁΩÆÊñá‰ª∂Â∑≤‰øùÂ≠ò"),i()}catch(h){q.error(`‰øùÂ≠òÂ§±Ë¥•: ${h.message}`)}finally{S.value=!1}},j=ne(()=>{const h=[],g=C.value,P=new Set(Object.keys(g));return Ue.forEach(A=>{P.has(A.key)&&(h.push(A),P.delete(A.key))}),P.forEach(A=>{h.push({key:A,label:A,desc:"Êú™Êî∂ÂΩïÁöÑÈÖçÁΩÆÈ°π",type:x(g[A]),isUnknown:!0})}),h}),x=h=>h==="true"||h==="false"?"boolean":!isNaN(Number(h))&&h!==""?"number":"string",f=(h,g)=>{const P=C.value[h];return P===void 0?g==="boolean"?!1:"":g==="boolean"?P==="true":g==="number"?Number(P):P},v=(h,g,P)=>{C.value[h]=String(g)};return ae(()=>k.params.id,h=>{h&&(I.value=parseInt(h),i())},{immediate:!0}),(h,g)=>{const P=_("t-button"),A=_("t-space"),b=_("t-switch"),n=_("t-select"),p=_("t-input-number"),$=_("t-input"),u=_("t-loading");return d(),M("div",Fa,[e("div",za,[g[1]||(g[1]=e("div",{class:"section-title"},"Server.properties ÈÖçÁΩÆÁºñËæëÂô®",-1)),t(A,null,{default:l(()=>[t(P,{variant:"text",shape:"square",loading:c.value,onClick:i},{icon:l(()=>[t(N(ye))]),_:1},8,["loading"]),t(P,{theme:"primary",loading:S.value,onClick:o},{icon:l(()=>[t(N(Oe))]),default:l(()=>[g[0]||(g[0]=y(" ‰øùÂ≠òÈÖçÁΩÆ ",-1))]),_:1},8,["loading"])]),_:1})]),t(u,{loading:c.value,text:"Ê≠£Âú®ËØªÂèñÈÖçÁΩÆÊñá‰ª∂..."},{default:l(()=>[e("div",Ja,[!c.value&&j.value.length===0?(d(),M("div",ja," Êó†Ê≥ïÊâæÂà∞ÈÖçÁΩÆÈ°πÊàñÊñá‰ª∂‰∏∫Á©∫ ")):D("",!0),(d(!0),M(re,null,ue(j.value,w=>(d(),M("div",{key:w.key,class:be(["setting-item",{"unknown-item":w.isUnknown}])},[e("div",Ga,[e("div",Xa,E(w.label),1),e("div",Wa,[w.isUnknown?D("",!0):(d(),M("span",qa,E(w.key),1))]),w.isUnknown?D("",!0):(d(),M("div",Ka,E(w.desc||"ÊöÇÊó†ÊèèËø∞"),1))]),e("div",Ha,[w.type==="boolean"?(d(),X(b,{key:0,"model-value":f(w.key,"boolean"),"onUpdate:modelValue":B=>v(w.key,B,"boolean")},null,8,["model-value","onUpdate:modelValue"])):w.type==="select"?(d(),X(n,{key:1,"model-value":f(w.key,"string"),options:w.options,placeholder:"ËØ∑ÈÄâÊã©","onUpdate:modelValue":B=>v(w.key,B,"string")},null,8,["model-value","options","onUpdate:modelValue"])):w.type==="number"?(d(),X(p,{key:2,"model-value":f(w.key,"number"),theme:"column",style:{width:"100%"},"onUpdate:modelValue":B=>v(w.key,B,"number")},null,8,["model-value","onUpdate:modelValue"])):(d(),X($,{key:3,"model-value":f(w.key,"string"),placeholder:"Êú™ËÆæÁΩÆ","onUpdate:modelValue":B=>v(w.key,B,"string")},null,8,["model-value","onUpdate:modelValue"]))])],2))),128))])]),_:1},8,["loading"]),e("div",Ya,[t(P,{theme:"primary",size:"large",loading:S.value,onClick:o},{default:l(()=>[...g[2]||(g[2]=[y("‰øùÂ≠òËÆæÁΩÆ",-1)])]),_:1},8,["loading"]),t(P,{theme:"default",variant:"base",size:"large",onClick:i},{default:l(()=>[...g[3]||(g[3]=[y("ÈáçÁΩÆÊõ¥Êîπ",-1)])]),_:1})])])}}}),Qa=oe(Za,[["__scopeId","data-v-fe4f8014"]]);async function el(r){return await ge.get({url:`/api/instance/tasks/list/${r}`})}async function tl(r,k,I,c,S,C){return await ge.post({url:"/api/instance/tasks/create",data:{instanceId:r,name:k,cron:I,payload:c,type:S,enable:C}})}async function al(r,k,I,c,S,C,T){return await ge.post({url:"/api/instance/tasks/update",data:{instanceId:r,id:k,name:I,cron:c,payload:S,type:C,enable:T}})}async function ll(r){return await ge.post({url:`/api/instance/tasks/delete${r}`})}const sl={class:"cron-gen-container"},nl={class:"mode-switch"},ol={key:0,class:"mode-content novice-panel"},il={class:"novice-input-group"},rl={key:1,class:"mode-content pro-panel"},ul={class:"tab-scroll-area"},dl={key:0,class:"specific-box"},cl={class:"result-area"},vl={class:"cron-display"},pl={class:"code-box"},ml={class:"next-runs"},fl={class:"runs-title"},gl={key:0,class:"error-msg"},bl={key:1,class:"runs-list"},yl={class:"index"},_l=ie({__name:"CronGenerator",props:{visible:{type:Boolean,default:!1},initialValue:{type:String,default:""}},emits:["update:visible","confirm"],setup(r,{emit:k}){const I=r,c=k,S=m("novice"),C=m(10),T=m("minute"),V=[{label:"Áßí",value:"second"},{label:"ÂàÜÈíü",value:"minute"},{label:"Â∞èÊó∂",value:"hour"},{label:"Â§©",value:"day"}],s=m("second"),i=[{label:"Áßí",value:"second",min:0,max:59},{label:"ÂàÜ",value:"minute",min:0,max:59},{label:"Êó∂",value:"hour",min:0,max:23},{label:"Êó•",value:"day",min:1,max:31},{label:"Êúà",value:"month",min:1,max:12},{label:"Âë®",value:"week",min:1,max:7}],o=m({second:{type:"every",start:0,step:1,specifics:[]},minute:{type:"every",start:0,step:1,specifics:[]},hour:{type:"every",start:0,step:1,specifics:[]},day:{type:"every",start:1,step:1,specifics:[]},month:{type:"every",start:1,step:1,specifics:[]},week:{type:"any",start:1,step:1,specifics:[]}}),j=[{label:"Âë®Êó•",value:1},{label:"Âë®‰∏Ä",value:2},{label:"Âë®‰∫å",value:3},{label:"Âë®‰∏â",value:4},{label:"Âë®Âõõ",value:5},{label:"Âë®‰∫î",value:6},{label:"Âë®ÂÖ≠",value:7}],x=ne(()=>{const n=(W,H="*")=>{const Y=o.value[W];return W==="week"&&Y.type==="any"||W==="week"&&o.value.day.type!=="every"||W==="day"&&o.value.week.type!=="any"?"?":Y.type==="every"?"*":Y.type==="interval"?`${Y.start}/${Y.step}`:Y.type==="specific"?Y.specifics.length===0?W==="day"||W==="month"?"1":"0":Y.specifics.sort((le,F)=>le-F).join(","):H},p=n("second"),$=n("minute"),u=n("hour"),w=n("day"),B=n("month"),K=n("week","?");return`${p} ${$} ${u} ${w} ${B} ${K}`}),f=ne(()=>{const n=C.value;switch(T.value){case"second":return`*/${n} * * * * *`;case"minute":return`0 */${n} * * * *`;case"hour":return`0 0 */${n} * * ?`;case"day":return`0 0 0 */${n} * ?`;default:return"* * * * * *"}}),v=ne(()=>S.value==="novice"?f.value:x.value),h=m([]),g=m(""),P=()=>{try{const n=Rt.CronExpressionParser.parse(v.value,{currentDate:new Date});h.value=n.take(5).map(p=>new Date(p.toString()).toLocaleString()),g.value=""}catch{g.value="Êó†Ê≥ïËß£ÊûêÂΩìÂâç Cron Ë°®ËææÂºèÔºåËØ∑Ê£ÄÊü•ËßÑÂàôÊòØÂê¶ÂÜ≤Á™Å",h.value=[]}};ae(v,()=>{P()},{immediate:!0}),ae(()=>I.visible,n=>{n&&I.initialValue&&(S.value="pro",P())});const A=()=>{if(g.value){q.warning("ÂΩìÂâçË°®ËææÂºèÊó†ÊïàÔºåÊó†Ê≥ï‰øùÂ≠ò");return}c("confirm",v.value),c("update:visible",!1)},b=n=>{const p=i.find(u=>u.value===n);if(!p)return[];const $=[];for(let u=p.min;u<=p.max;u++)$.push({label:u.toString(),value:u});return $};return(n,p)=>{const $=_("t-radio-button"),u=_("t-radio-group"),w=_("t-input-number"),B=_("t-select"),K=_("t-alert"),W=_("t-radio"),H=_("t-checkbox-group"),Y=_("t-tab-panel"),le=_("t-tabs"),F=_("t-tag"),O=_("t-dialog");return d(),X(O,{visible:r.visible,header:"Cron Ë°®ËææÂºèÁîüÊàêÂô®",width:"700px",top:"5vh",onClose:p[4]||(p[4]=L=>c("update:visible",!1)),onConfirm:A},{default:l(()=>[e("div",sl,[e("div",nl,[t(u,{modelValue:S.value,"onUpdate:modelValue":p[0]||(p[0]=L=>S.value=L),variant:"default-filled"},{default:l(()=>[t($,{value:"novice"},{default:l(()=>[...p[5]||(p[5]=[y("üöÄ Êñ∞ÊâãÊ®°Âºè",-1)])]),_:1}),t($,{value:"pro"},{default:l(()=>[...p[6]||(p[6]=[y("üõ†Ô∏è ‰∏ì‰∏öÊ®°Âºè",-1)])]),_:1})]),_:1},8,["modelValue"])]),S.value==="novice"?(d(),M("div",ol,[e("div",il,[p[7]||(p[7]=e("span",null,"ÊØèÈöî",-1)),t(w,{modelValue:C.value,"onUpdate:modelValue":p[1]||(p[1]=L=>C.value=L),min:1,theme:"column",style:{width:"100px"}},null,8,["modelValue"]),t(B,{modelValue:T.value,"onUpdate:modelValue":p[2]||(p[2]=L=>T.value=L),options:V,style:{width:"100px"}},null,8,["modelValue"]),p[8]||(p[8]=e("span",null,"ÊâßË°å‰∏ÄÊ¨°",-1))]),t(K,{theme:"info",style:{"margin-top":"16px"}},{message:l(()=>[...p[9]||(p[9]=[y(" Ê≠§Ê®°ÂºèÈÄÇÁî®‰∫éÁÆÄÂçïÁöÑÂë®ÊúüÊÄß‰ªªÂä°„ÄÇÂ¶ÇÊûúÈúÄË¶Å‚ÄúÊØèÂë®‰∫î‰∏äÂçà10ÁÇπ‚ÄùÁ≠âÂ§çÊùÇËßÑÂàôÔºåËØ∑ÂàáÊç¢Âà∞",-1),e("b",null,"‰∏ì‰∏öÊ®°Âºè",-1),y("„ÄÇ ",-1)])]),_:1})])):(d(),M("div",rl,[t(le,{modelValue:s.value,"onUpdate:modelValue":p[3]||(p[3]=L=>s.value=L)},{default:l(()=>[(d(),M(re,null,ue(i,L=>t(Y,{key:L.value,value:L.value,label:L.label},{default:l(()=>[e("div",ul,[t(u,{modelValue:o.value[L.value].type,"onUpdate:modelValue":Z=>o.value[L.value].type=Z,direction:"vertical"},{default:l(()=>[t(W,{value:"every"},{default:l(()=>[y(E(L.value==="week"?"‰∏çÊåáÂÆö (?)":`ÊØè${L.label} (*)`),1)]),_:2},1024),L.value!=="week"?(d(),X(W,{key:0,value:"interval"},{default:l(()=>[p[10]||(p[10]=y(" Âë®Êúü: ‰ªé ",-1)),t(w,{modelValue:o.value[L.value].start,"onUpdate:modelValue":Z=>o.value[L.value].start=Z,min:L.min,max:L.max,size:"small",theme:"column",style:{width:"60px"}},null,8,["modelValue","onUpdate:modelValue","min","max"]),y(" "+E(L.label)+"ÂºÄÂßãÔºåÊØè ",1),t(w,{modelValue:o.value[L.value].step,"onUpdate:modelValue":Z=>o.value[L.value].step=Z,min:1,max:L.max,size:"small",theme:"column",style:{width:"60px"}},null,8,["modelValue","onUpdate:modelValue","max"]),y(" "+E(L.label)+"ÊâßË°å‰∏ÄÊ¨° ",1)]),_:2},1024)):D("",!0),L.value!=="week"?(d(),X(W,{key:1,value:"specific"},{default:l(()=>[y("ÊåáÂÆö: ÈÄâÊã©ÂÖ∑‰ΩìÁöÑ"+E(L.label),1)]),_:2},1024)):D("",!0),L.value==="week"?(d(),X(W,{key:2,value:"specific"},{default:l(()=>[...p[11]||(p[11]=[y("ÊåáÂÆöÂë®Âá†",-1)])]),_:1})):D("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"]),o.value[L.value].type==="specific"?(d(),M("div",dl,[t(H,{modelValue:o.value[L.value].specifics,"onUpdate:modelValue":Z=>o.value[L.value].specifics=Z,options:L.value==="week"?j:b(L.value),class:"grid-checkbox"},null,8,["modelValue","onUpdate:modelValue","options"])])):D("",!0)])]),_:2},1032,["value","label"])),64))]),_:1},8,["modelValue"])])),e("div",cl,[e("div",vl,[p[14]||(p[14]=e("span",{class:"label"},"ÂΩìÂâçË°®ËææÂºè:",-1)),e("div",pl,[y(E(v.value)+" ",1),g.value?(d(),X(F,{key:1,theme:"danger",variant:"light",size:"small"},{default:l(()=>[t(N(_t)),p[13]||(p[13]=y(" Êó†Êïà",-1))]),_:1})):(d(),X(F,{key:0,theme:"success",variant:"light",size:"small"},{default:l(()=>[t(N(Ee)),p[12]||(p[12]=y(" ÊúâÊïà",-1))]),_:1}))])]),e("div",ml,[e("div",fl,[t(N(_e)),p[15]||(p[15]=y(" ÊúÄËøë 5 Ê¨°ËøêË°åÊó∂Èó¥È¢ÑÊµã:",-1))]),g.value?(d(),M("div",gl,E(g.value),1)):(d(),M("ul",bl,[(d(!0),M(re,null,ue(h.value,(L,Z)=>(d(),M("li",{key:Z},[e("span",yl,"#"+E(Z+1),1),y(" "+E(L),1)]))),128))]))])])])]),_:1},8,["visible"])}}}),kl=oe(_l,[["__scopeId","data-v-135dd699"]]),hl={class:"page-container"},wl={class:"page-header"},$l={key:0,class:"create-container"},xl={class:"container-header"},Cl={class:"title"},Vl={class:"setting-item"},Sl={class:"setting-control"},Ul={class:"setting-item"},Il={class:"setting-control"},Rl={class:"setting-item"},Bl={class:"setting-control"},Ml={key:0,class:"setting-item"},Ll={class:"setting-info"},Pl={class:"title"},Al={class:"desc"},El={class:"setting-control"},Ol={class:"setting-item"},Tl={class:"setting-control"},Nl={class:"form-actions"},Dl={class:"task-list"},Fl={key:0,class:"empty-state"},zl={class:"card-left"},Jl={class:"task-header-row"},jl={class:"task-name"},Gl={class:"task-meta-row"},Xl={class:"cron-display"},Wl=["title"],ql={class:"card-right"},Kl=ie({__name:"CronTasks",setup(r){const k=ve(),I=ne(()=>parseInt(k.params.id)),c=m([]),S=m(!1),C=m(!1),T=m(null),V=m(!1),s=m(null),i=m(!1),o=m({id:"",name:"",cron:"",type:"command",payload:"",enable:!0}),j=[{label:"ÂèëÈÄÅÂëΩ‰ª§ (Command)",value:"command"},{label:"ÂºÄÂêØÊúçÂä°Âô® (Start)",value:"start"},{label:"ÂÅúÊ≠¢ÊúçÂä°Âô® (Stop)",value:"stop"},{label:"ÈáçÂêØÊúçÂä°Âô® (Restart)",value:"restart"}],x={name:[{required:!0,message:"ÂøÖÂ°´",trigger:"blur"}],cron:[{required:!0,message:"ÂøÖÂ°´",trigger:"blur"}],type:[{required:!0,message:"ÂøÖÈÄâ",trigger:"change"}],payload:[{validator:$=>o.value.type==="command"&&!$?{result:!1,message:"ÂëΩ‰ª§ÂÜÖÂÆπ‰∏çËÉΩ‰∏∫Á©∫",type:"error"}:!0,trigger:"blur"}]},f=async()=>{if(I.value){S.value=!0;try{const $=await el(I.value);c.value=$||[]}catch($){q.error($.message||"Ëé∑ÂèñÂàóË°®Â§±Ë¥•")}finally{S.value=!1}}},v=()=>{C.value||(o.value={id:"",name:"",cron:"",type:"command",payload:"",enable:!0},T.value=null,C.value=!0)},h=$=>{o.value={id:$.id,name:$.name,cron:$.cron,type:$.type.toLowerCase(),payload:$.payload,enable:$.enable},T.value=$.id,C.value=!0,window.scrollTo({top:0,behavior:"smooth"})},g=()=>{C.value=!1,T.value=null},P=async()=>{var u;if(await((u=s.value)==null?void 0:u.validate())===!0){V.value=!0;try{T.value?(await al(I.value,o.value.id,o.value.name,o.value.cron,o.value.payload,o.value.type,o.value.enable),q.success("Êõ¥Êñ∞ÊàêÂäü")):(await tl(I.value,o.value.name,o.value.cron,o.value.payload,o.value.type,o.value.enable),q.success("ÂàõÂª∫ÊàêÂäü")),g(),f()}catch(w){q.error(w.message||"Êìç‰ΩúÂ§±Ë¥•")}finally{V.value=!1}}},A=$=>{const u=we.confirm({header:"Á°ÆËÆ§Âà†Èô§?",body:`Á°ÆÂÆöÂà†Èô§‰ªªÂä° "${$.name}" ÂêóÔºü`,theme:"danger",onConfirm:async()=>{try{await ll($.id),q.success("Â∑≤Âà†Èô§"),f(),u.hide()}catch(w){q.error(w.message)}},onClose:()=>u.hide()})},b=$=>{o.value.cron=$},n=$=>{const u=$.toLowerCase();return u==="start"?Te:u==="stop"?Ne:u==="restart"?ye:$t},p=$=>{const u=$.toLowerCase();return u==="start"?"success":u==="stop"?"danger":u==="restart"?"warning":"primary"};return ae(()=>I.value,f),pe(f),($,u)=>{const w=_("t-button"),B=_("t-input"),K=_("t-select"),W=_("t-textarea"),H=_("t-switch"),Y=_("t-form"),le=_("t-tag"),F=_("t-loading");return d(),M("div",hl,[e("div",wl,[u[8]||(u[8]=e("div",{class:"section-title"},"ÂÆöÊó∂ËÆ°Âàí‰ªªÂä°",-1)),C.value?D("",!0):(d(),X(w,{key:0,theme:"primary",onClick:v},{icon:l(()=>[t(N(kt))]),default:l(()=>[u[7]||(u[7]=y(" ÂàõÂª∫Êñ∞‰ªªÂä° ",-1))]),_:1}))]),t(Le,{name:"slide-fade"},{default:l(()=>[C.value?(d(),M("div",$l,[e("div",xl,[e("span",Cl,E(T.value?"ÁºñËæë‰ªªÂä°":"ÂàõÂª∫Êñ∞‰ªªÂä°"),1),t(w,{size:"small",variant:"text",onClick:g},{default:l(()=>[t(N(ht))]),_:1})]),t(Y,{ref_key:"formRef",ref:s,data:o.value,rules:x,"label-width":"0"},{default:l(()=>[e("div",Vl,[u[9]||(u[9]=e("div",{class:"setting-info"},[e("div",{class:"title"},"‰ªªÂä°ÂêçÁß∞"),e("div",{class:"desc"},"ÁªôËøô‰∏™ËÆ°Âàí‰ªªÂä°Ëµ∑‰∏™ÂÆπÊòìËØÜÂà´ÁöÑÂêçÂ≠óÔºå‰æãÂ¶Ç‚ÄúÊØèÊó•Ëá™Âä®ÈáçÂêØ‚Äù")],-1)),e("div",Sl,[t(B,{modelValue:o.value.name,"onUpdate:modelValue":u[0]||(u[0]=O=>o.value.name=O),placeholder:"ËØ∑ËæìÂÖ•‰ªªÂä°ÂêçÁß∞"},null,8,["modelValue"])])]),e("div",Ul,[u[11]||(u[11]=e("div",{class:"setting-info"},[e("div",{class:"title"},"Ëß¶ÂèëËßÑÂàô (Cron)"),e("div",{class:"desc"},"‰ΩøÁî® Cron Ë°®ËææÂºèÂÆö‰πâÊâßË°åÊó∂Èó¥„ÄÇÊîØÊåÅÁßíÁ∫ßÁ≤æÂ∫¶ (Áßí ÂàÜ Êó∂ Êó• Êúà Âë®)")],-1)),e("div",Il,[t(B,{modelValue:o.value.cron,"onUpdate:modelValue":u[1]||(u[1]=O=>o.value.cron=O),placeholder:"‰æãÂ¶Ç: 0 0 12 * * ?"},null,8,["modelValue"]),t(w,{variant:"outline",theme:"default",onClick:u[2]||(u[2]=O=>i.value=!0)},{default:l(()=>[...u[10]||(u[10]=[y(" Ë°®ËææÂºèÁîüÊàêÂô® ",-1)])]),_:1})])]),e("div",Rl,[u[12]||(u[12]=e("div",{class:"setting-info"},[e("div",{class:"title"},"ÊâßË°åÊìç‰Ωú"),e("div",{class:"desc"},"ÈÄâÊã©Ëß¶ÂèëÊó∂Ë¶ÅÊâßË°åÁöÑÂä®‰ΩúÁ±ªÂûã")],-1)),e("div",Bl,[t(K,{modelValue:o.value.type,"onUpdate:modelValue":u[3]||(u[3]=O=>o.value.type=O),options:j},null,8,["modelValue"])])]),o.value.type==="command"||o.value.type==="restart"?(d(),M("div",Ml,[e("div",Ll,[e("div",Pl,E(o.value.type==="restart"?"ÈáçÂêØÊèêÁ§∫ËØ≠":"ÊéßÂà∂Âè∞ÂëΩ‰ª§"),1),e("div",Al,E(o.value.type==="restart"?"ÈáçÂêØÂâçÂèëÈÄÅÁªôÂÖ®ÊúçÁé©ÂÆ∂ÁöÑÂÄíËÆ°Êó∂ÊèêÁ§∫Ê∂àÊÅØ":"‰∏çÈúÄË¶ÅÂä† /ÔºåÁõ¥Êé•ËæìÂÖ•ÂëΩ‰ª§ÂÜÖÂÆπ"),1)]),e("div",El,[t(W,{modelValue:o.value.payload,"onUpdate:modelValue":u[4]||(u[4]=O=>o.value.payload=O),autosize:{minRows:2,maxRows:5},placeholder:"ËØ∑ËæìÂÖ•ÂÜÖÂÆπ..."},null,8,["modelValue"])])])):D("",!0),e("div",Ol,[u[13]||(u[13]=e("div",{class:"setting-info"},[e("div",{class:"title"},"ÂêØÁî®Áä∂ÊÄÅ"),e("div",{class:"desc"},"ÊöÇÊó∂Á¶ÅÁî®Ê≠§‰ªªÂä°ËÄå‰∏çÂà†Èô§ÂÆÉ")],-1)),e("div",Tl,[t(H,{modelValue:o.value.enable,"onUpdate:modelValue":u[5]||(u[5]=O=>o.value.enable=O)},null,8,["modelValue"])])]),e("div",Nl,[t(w,{theme:"primary",loading:V.value,onClick:P},{icon:l(()=>[t(N(Oe))]),default:l(()=>[y(" "+E(T.value?"‰øùÂ≠ò‰øÆÊîπ":"Á´ãÂç≥ÂàõÂª∫"),1)]),_:1},8,["loading"]),t(w,{theme:"default",variant:"base",onClick:g},{default:l(()=>[...u[14]||(u[14]=[y("ÂèñÊ∂à",-1)])]),_:1})])]),_:1},8,["data"])])):D("",!0)]),_:1}),t(F,{loading:S.value,"show-overlay":""},{default:l(()=>[e("div",Dl,[c.value.length===0&&!S.value?(d(),M("div",Fl," ÊöÇÊó†‰ªªÂä°ÔºåËØ∑ÁÇπÂáª‰∏äÊñπÂàõÂª∫ ")):D("",!0),(d(!0),M(re,null,ue(c.value,O=>(d(),M("div",{key:O.id,class:"task-card"},[e("div",zl,[e("div",Jl,[t(le,{size:"small",theme:O.enable?"success":"default",variant:"light",class:"status-tag"},{default:l(()=>[y(E(O.enable?"ËøêË°å‰∏≠":"Â∑≤ÊöÇÂÅú"),1)]),_:2},1032,["theme"]),e("span",jl,E(O.name),1)]),e("div",Gl,[t(le,{size:"small",variant:"outline",theme:p(O.type),style:{"margin-right":"8px"}},{icon:l(()=>[(d(),X(Pe(n(O.type))))]),default:l(()=>[y(" "+E(O.type.toUpperCase()),1)]),_:2},1032,["theme"]),e("span",Xl,[t(N(_e)),y(" "+E(O.cron),1)])]),O.payload?(d(),M("div",{key:0,class:"task-payload",title:O.payload},E(O.payload),9,Wl)):D("",!0)]),e("div",ql,[t(w,{variant:"text",theme:"primary",onClick:L=>h(O)},{icon:l(()=>[t(N(wt))]),default:l(()=>[u[15]||(u[15]=y(" ÁºñËæë ",-1))]),_:1},8,["onClick"]),t(w,{variant:"text",theme:"danger",onClick:L=>A(O)},{icon:l(()=>[t(N(Ae))]),default:l(()=>[u[16]||(u[16]=y(" Âà†Èô§ ",-1))]),_:1},8,["onClick"])])]))),128))])]),_:1},8,["loading"]),t(kl,{visible:i.value,"onUpdate:visible":u[6]||(u[6]=O=>i.value=O),"initial-value":o.value.cron,onConfirm:b},null,8,["visible","initial-value"])])}}}),Hl=oe(Kl,[["__scopeId","data-v-acfdc411"]]),Yl={class:"layout-container"},Zl={class:"sidebar"},Ql=["onClick"],es={class:"nav-text"},ts={class:"main-content"},as={key:0,class:"panel-wrapper"},ls={key:1,class:"panel-wrapper"},ss={key:2,class:"panel-wrapper"},ns={key:3,class:"panel-wrapper"},os=ie({__name:"InstanceSettings",setup(r,{expose:k}){const I=m(!1),c=m(0),S=[{label:"ÂÆû‰æãËÆæÁΩÆ",icon:De},{label:"Êèí‰ª∂/Ê®°ÁªÑ",icon:xt},{label:"ÊúçÂä°Âô®Â±ûÊÄß",icon:Ct},{label:"ÂÆöÊó∂‰ªªÂä°",icon:_e}];return k({open:()=>{I.value=!0}}),(T,V)=>{const s=_("t-dialog");return d(),X(s,{visible:I.value,"onUpdate:visible":V[0]||(V[0]=i=>I.value=i),header:"ÂÆû‰æãÈÖçÁΩÆ",width:"90%",top:"3vh",attach:"body",footer:!1,"destroy-on-close":"",class:"settings-dialog"},{default:l(()=>[e("div",Yl,[e("div",Zl,[(d(),M(re,null,ue(S,(i,o)=>e("div",{key:o,class:be(["nav-item",{active:c.value===o}]),onClick:j=>c.value=o},[(d(),X(Pe(i.icon),{class:"nav-icon"})),e("span",es,E(i.label),1)],10,Ql)),64))]),e("div",ts,[c.value===0?(d(),M("div",as,[t(Va)])):D("",!0),c.value===1?(d(),M("div",ls,[t(Da)])):D("",!0),c.value===2?(d(),M("div",ss,[t(Qa,{"instance-id":21})])):D("",!0),c.value===3?(d(),M("div",ns,[t(Hl)])):D("",!0)])])]),_:1},8,["visible"])}}}),is=oe(os,[["__scopeId","data-v-5ef5512d"]]),rs={class:"sidebar-content"},us={class:"control-header"},ds={class:"control-actions"},cs={class:"action-row"},vs={class:"info-list"},ps={class:"info-item"},ms={class:"label"},fs={class:"value"},gs={class:"info-item"},bs={class:"label"},ys={class:"value"},_s={class:"proxy-group"},ks={class:"info-item"},hs={class:"label"},ws={class:"value"},$s=ie({__name:"ServerControlPanel",props:{serverId:{},isRunning:{type:Boolean},loading:{type:Boolean},serverInfo:{}},emits:["start","stop","clear-log","refresh-info"],setup(r,{emit:k}){const I=r,c=k,S=m(null),C=()=>{S.value&&S.value.open()},T=()=>{c("refresh-info")},V=m(0);let s=null;const i=f=>{if(!f)return 0;const v=f.match(/^(?:(\d+)\.)?(\d{1,2}):(\d{2}):(\d{2})(?:\.\d+)?$/);return v?parseInt(v[1]||"0",10)*86400+parseInt(v[2])*3600+parseInt(v[3])*60+parseInt(v[4]):0},o=ne(()=>{if(V.value<=0)return"00:00:00";const f=Math.floor(V.value/86400),v=Math.floor(V.value%86400/3600),h=Math.floor(V.value%3600/60),g=Math.floor(V.value%60),P=b=>b.toString().padStart(2,"0"),A=`${P(v)}:${P(h)}:${P(g)}`;return f>0?`${f}Â§© ${A}`:A}),j=()=>{s&&clearInterval(s),s=window.setInterval(()=>V.value++,1e3)},x=()=>{s&&(clearInterval(s),s=null)};return ae(()=>{var f;return(f=I.serverInfo)==null?void 0:f.uptime},f=>f&&(V.value=i(f)),{immediate:!0}),ae(()=>I.isRunning,f=>f?!s&&j():x(),{immediate:!0}),he(()=>x()),(f,v)=>{const h=_("t-tag"),g=_("t-button"),P=_("t-card");return d(),M("div",rs,[t(P,{class:"control-card",bordered:!1},{default:l(()=>[e("div",us,[e("div",{class:be(["status-indicator",{running:r.isRunning}])},[v[4]||(v[4]=e("span",{class:"pulse"},null,-1)),y(E(r.isRunning?"Running":"Stopped"),1)],2),t(h,{theme:r.isRunning?"success":"default",variant:"light",shape:"round"},{default:l(()=>[y(E(r.isRunning?"ËøêË°å‰∏≠":"Â∑≤ÂÅúÊ≠¢"),1)]),_:1},8,["theme"])]),e("div",ds,[r.isRunning?(d(),X(g,{key:1,theme:"danger",size:"large",block:"",loading:r.loading,onClick:v[1]||(v[1]=A=>f.$emit("stop"))},{icon:l(()=>[t(N(Ne))]),default:l(()=>[v[6]||(v[6]=y("ÂÅúÊ≠¢ÂÆû‰æã ",-1))]),_:1},8,["loading"])):(d(),X(g,{key:0,theme:"primary",size:"large",block:"",loading:r.loading,onClick:v[0]||(v[0]=A=>{f.$emit("clear-log"),f.$emit("start")})},{icon:l(()=>[t(N(Te))]),default:l(()=>[v[5]||(v[5]=y("ÂêØÂä®ÂÆû‰æã ",-1))]),_:1},8,["loading"])),t(g,{variant:"outline",style:{margin:"0"},block:"",onClick:v[2]||(v[2]=A=>N(Ke)(`/instance/files/${r.serverId}`))},{icon:l(()=>[t(N(Vt))]),default:l(()=>[v[7]||(v[7]=y("Êñá‰ª∂ÁÆ°ÁêÜ ",-1))]),_:1}),e("div",cs,[t(g,{variant:"outline",theme:"warning",block:"",onClick:v[3]||(v[3]=A=>f.$emit("clear-log"))},{icon:l(()=>[t(N(ye))]),default:l(()=>[v[8]||(v[8]=y("Ê∏ÖÁ©∫ ",-1))]),_:1}),t(g,{variant:"outline",theme:"primary",block:"",onClick:C},{icon:l(()=>[t(N(De))]),default:l(()=>[v[9]||(v[9]=y("ËÆæÁΩÆ ",-1))]),_:1})])])]),_:1}),t(P,{title:"ÂÆû‰æãËØ¶ÊÉÖ",class:"info-card",bordered:!1},{default:l(()=>{var A,b;return[e("div",vs,[e("div",ps,[e("div",ms,[t(N(St)),v[10]||(v[10]=y(" ÂÆû‰æãÂêçÁß∞",-1))]),e("div",fs,E(((A=r.serverInfo)==null?void 0:A.name)||"Minecraft Server"),1)]),e("div",gs,[e("div",bs,[t(N(Ut)),v[11]||(v[11]=y(" ÂÜÖÂ≠òÈôêÂà∂",-1))]),e("div",ys,E(((b=r.serverInfo)==null?void 0:b.maxM)||"?")+" MB",1)]),e("div",_s,[e("div",ks,[e("div",hs,[t(N(_e)),v[12]||(v[12]=y(" ËøêË°åÊó∂Èïø",-1))]),e("div",ws,E(r.isRunning?o.value:"--:--:--"),1)])])])]}),_:1}),t(is,{ref_key:"settingsRef",ref:S,"server-id":r.serverId,onSuccess:T},null,8,["server-id"])])}}}),xs=oe($s,[["__scopeId","data-v-16a17375"]]),Cs={class:"console-page"},Vs={class:"layout-container"},Ss={class:"main-terminal-area"},Us={class:"sidebar-area"},Is=ie({__name:"index",setup(r){const k=ve(),I=et(),c=m(parseInt(k.params.id)||0),S=m(!1),C=m(!1),T=m(null),V=m(null);async function s(){var x;if(c.value)try{C.value=!0;const f=await tt(c.value);await I.refreshInstanceList(),S.value=f.status,T.value=f,C.value=!1}catch(f){(x=V.value)==null||x.writeln(`\x1B[1;31m[Error] Ëé∑ÂèñÂÆû‰æã‰ø°ÊÅØÂ§±Ë¥•: ${f.message}\x1B[0m`),C.value=!1}}const i=async()=>{var x,f;C.value=!0;try{(x=V.value)==null||x.writeln("\x1B[1;32m[System] Ê≠£Âú®ÂèëÈÄÅÂêØÂä®Êåá‰ª§...\x1B[0m"),await Ce(c.value,"start"),q.success("ÂÆû‰æãÂêØÂä®Êåá‰ª§Â∑≤ÂèëÈÄÅ"),C.value=!1}catch(v){(f=V.value)==null||f.writeln(`\x1B[1;31m[Error] ÂêØÂä®Â§±Ë¥•: ${v.message}\x1B[0m`),C.value=!1}},o=async()=>{var x,f;C.value=!0;try{(x=V.value)==null||x.writeln("\x1B[1;32m[System] Ê≠£Âú®ÂèëÈÄÅÂÅúÊ≠¢Êåá‰ª§...\x1B[0m"),await Ce(c.value,"stop"),q.warning("ÂÆû‰æãÂÅúÊ≠¢Êåá‰ª§Â∑≤ÂèëÈÄÅ"),C.value=!1}catch(v){(f=V.value)==null||f.writeln(`\x1B[1;31m[Error] ÂÅúÊ≠¢Â§±Ë¥•: ${v.message}\x1B[0m`),C.value=!1}},j=()=>{var x;(x=V.value)==null||x.clear()};return ae(()=>k.params.id,async x=>{x&&(c.value=parseInt(x),await s())}),pe(()=>{c.value&&s()}),(x,f)=>(d(),M("div",Cs,[e("div",Vs,[e("div",Ss,[t(At,{ref_key:"terminalRef",ref:V,"server-id":c.value,onUpdate:f[0]||(f[0]=v=>s())},null,8,["server-id"])]),e("div",Us,[t(xs,{"server-id":c.value,"is-running":S.value,loading:C.value,"server-info":T.value,onStart:i,onStop:o,onClearLog:j},null,8,["server-id","is-running","loading","server-info"])])])]))}}),$n=oe(Is,[["__scopeId","data-v-7bea9131"]]);export{$n as default};
