var xe=Object.defineProperty;var Ce=(e,t,s)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var ce=(e,t,s)=>Ce(e,typeof t!="symbol"?t+"":t,s);import{ai as fe,l as le,b as Q,j as N,r as W,aj as Te,p as _,a as x,F as Ee,h as Ie,ak as oe,w as L,o as B,c as q,n as X,al as Le,N as ee,V as Me,am as je,an as Se}from"./index.DuVfB4dr.js";import{M as He}from"./markdown-it.Baj76ayU.js";import{r as Re}from"./markdown-it-image-figures.IpqUZCLv.js";import{s as Fe}from"./markdown-it-sub.Bxi31R0z.js";import{s as Ae}from"./markdown-it-sup.Bp2DoVCN.js";import{L as _e}from"./lru-cache.aBL3gNlE.js";import{m as Oe}from"./medium-zoom.bWEtUbjf.js";const m="md-editor",T="https://unpkg.com",qe=`${T}/@highlightjs/cdn-assets@11.10.0/highlight.min.js`,de={main:`${T}/prettier@3.3.3/standalone.js`,markdown:`${T}/prettier@3.3.3/plugins/markdown.js`},Be={css:`${T}/cropperjs@1.6.2/dist/cropper.min.css`,js:`${T}/cropperjs@1.6.2/dist/cropper.min.js`},Ne=`${T}/screenfull@5.2.0/dist/screenfull.js`,ze=`${T}/mermaid@11.9.0/dist/mermaid.min.js`,Ve={js:`${T}/katex@0.16.22/dist/katex.min.js`,css:`${T}/katex@0.16.22/dist/katex.min.css`},se={a11y:{light:`${T}/@highlightjs/cdn-assets@11.10.0/styles/a11y-light.min.css`,dark:`${T}/@highlightjs/cdn-assets@11.10.0/styles/a11y-dark.min.css`},atom:{light:`${T}/@highlightjs/cdn-assets@11.10.0/styles/atom-one-light.min.css`,dark:`${T}/@highlightjs/cdn-assets@11.10.0/styles/atom-one-dark.min.css`},github:{light:`${T}/@highlightjs/cdn-assets@11.10.0/styles/github.min.css`,dark:`${T}/@highlightjs/cdn-assets@11.10.0/styles/github-dark.min.css`},gradient:{light:`${T}/@highlightjs/cdn-assets@11.10.0/styles/gradient-light.min.css`,dark:`${T}/@highlightjs/cdn-assets@11.10.0/styles/gradient-dark.min.css`},kimbie:{light:`${T}/@highlightjs/cdn-assets@11.10.0/styles/kimbie-light.min.css`,dark:`${T}/@highlightjs/cdn-assets@11.10.0/styles/kimbie-dark.min.css`},paraiso:{light:`${T}/@highlightjs/cdn-assets@11.10.0/styles/paraiso-light.min.css`,dark:`${T}/@highlightjs/cdn-assets@11.10.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${T}/@highlightjs/cdn-assets@11.10.0/styles/qtcreator-light.min.css`,dark:`${T}/@highlightjs/cdn-assets@11.10.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${T}/@highlightjs/cdn-assets@11.10.0/styles/stackoverflow-light.min.css`,dark:`${T}/@highlightjs/cdn-assets@11.10.0/styles/stackoverflow-dark.min.css`}},De=`${T}/echarts@6.0.0/dist/echarts.min.js`,ue={"zh-CN":{toolbarTips:{bold:"加粗",underline:"下划线",italic:"斜体",strikeThrough:"删除线",title:"标题",sub:"下标",sup:"上标",quote:"引用",unorderedList:"无序列表",orderedList:"有序列表",task:"任务列表",codeRow:"行内代码",code:"块级代码",link:"链接",image:"图片",table:"表格",mermaid:"mermaid图",katex:"katex公式",revoke:"后退",next:"前进",save:"保存",prettier:"美化",pageFullscreen:"浏览器全屏",fullscreen:"屏幕全屏",preview:"预览",previewOnly:"仅预览",htmlPreview:"html代码预览",catalog:"目录",github:"源码地址"},titleItem:{h1:"一级标题",h2:"二级标题",h3:"三级标题",h4:"四级标题",h5:"五级标题",h6:"六级标题"},imgTitleItem:{link:"添加链接",upload:"上传图片",clip2upload:"裁剪上传"},linkModalTips:{linkTitle:"添加链接",imageTitle:"添加图片",descLabel:"链接描述：",descLabelPlaceHolder:"请输入描述...",urlLabel:"链接地址：",urlLabelPlaceHolder:"请输入链接...",buttonOK:"确定"},clipModalTips:{title:"裁剪图片上传",buttonUpload:"上传"},copyCode:{text:"复制代码",successTips:"已复制！",failTips:"复制失败！"},mermaid:{flow:"流程图",sequence:"时序图",gantt:"甘特图",class:"类图",state:"状态图",pie:"饼图",relationship:"关系图",journey:"旅程图"},katex:{inline:"行内公式",block:"块级公式"},footer:{markdownTotal:"字数",scrollAuto:"同步滚动"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",previewOnly:"preview only",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Image Link",upload:"Upload Images",clip2upload:"Crop And Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Character Count",scrollAuto:"Scroll Auto"}}},R={editorExtensions:{highlight:{js:qe,css:se},prettier:{standaloneJs:de.main,parserMarkdownJs:de.markdown},cropper:{...Be},screenfull:{js:Ne},mermaid:{js:ze,enableZoom:!0},katex:{...Ve},echarts:{js:De}},editorExtensionsAttrs:{},editorConfig:{languageUserDefined:{},mermaidTemplate:{},renderDelay:500,zIndex:2e4},codeMirrorExtensions:e=>e,markdownItConfig:()=>{},markdownItPlugins:e=>e,mermaidConfig:e=>e,katexConfig:e=>e,echartsConfig:e=>e},Pe="buildFinished",re="errorCatcher",te="catalogChanged",Xe="pushCatalog",ve="rerender",Ye="taskStateChanged";class Ue{constructor(){ce(this,"pools",{})}remove(t,s,o){const n=this.pools[t]&&this.pools[t][s];n&&(this.pools[t][s]=n.filter(a=>a!==o))}clear(t){this.pools[t]={}}on(t,s){return this.pools[t]||(this.pools[t]={}),this.pools[t][s.name]||(this.pools[t][s.name]=[]),this.pools[t][s.name].push(s.callback),this.pools[t][s.name].includes(s.callback)}emit(t,s,...o){this.pools[t]||(this.pools[t]={});const n=this.pools[t][s];n&&n.forEach(a=>{try{a(...o)}catch(c){console.error(`${s} monitor event exception！`,c)}})}}const S=new Ue,Ke=(e,t)=>{if(!e)return e;const s=t.split(`
`),o=['<span rn-wrapper aria-hidden="true">'];return s.forEach(()=>{o.push("<span></span>")}),o.push("</span>"),`<span class="${m}-code-block">${e}</span>${o.join("")}`},We={copy:`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy ${m}-icon"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>`,"collapse-tips":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-chevron-left ${m}-icon"><circle cx="12" cy="12" r="10"/><path d="m14 16-4-4 4-4"/></svg>`,pin:`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pin ${m}-icon"><path d="M12 17v5"/><path d="M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z"/></svg>`,"pin-off":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pin-off ${m}-icon"><path d="M12 17v5"/><path d="M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89"/><path d="m2 2 20 20"/><path d="M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11"/></svg>`,check:`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check ${m}-icon"><path d="M20 6 9 17l-5-5"/></svg>`},O=(e,t)=>typeof t[e]=="string"?t[e]:We[e],V=(e,t,s="")=>{var n;const o=document.getElementById(t.id);if(o)s!==""&&(Reflect.get(window,s)?(n=t.onload)==null||n.call(o,new Event("load")):t.onload&&o.addEventListener("load",t.onload));else{const a={...t};a.onload=null;const c=Ge(e,a);t.onload&&c.addEventListener("load",t.onload),document.head.appendChild(c)}},Ze=(e,t)=>{var s;(s=document.getElementById(t.id))==null||s.remove(),V(e,t)},Ge=(e,t)=>{const s=document.createElement(e);return Object.keys(t).forEach(o=>{t[o]!==void 0&&(s[o]=t[o])}),s},Je=(e,t)=>{const s=new Map;return e==null||e.forEach(o=>{let n=o.querySelector(`.${m}-mermaid-action`);n?n.querySelector(`.${m}-mermaid-copy`)||n.insertAdjacentHTML("beforeend",`<span class="${m}-mermaid-copy">${O("copy",t.customIcon)}</span>`):(o.insertAdjacentHTML("beforeend",`<div class="${m}-mermaid-action"><span class="${m}-mermaid-copy">${O("copy",t.customIcon)}</span></div>`),n=o.querySelector(`.${m}-mermaid-action`));const a=n.querySelector(`.${m}-mermaid-copy`);let c=-1;const u=()=>{clearTimeout(c),fe(o.dataset.content||"").then(()=>{a.innerHTML=O("check",t.customIcon)}).catch(()=>{a.innerHTML=O("copy",t.customIcon)}).finally(()=>{c=window.setTimeout(()=>{a.innerHTML=O("copy",t.customIcon)},1500)})};a.addEventListener("click",u),s.set(o,{removeClick:()=>{a.removeEventListener("click",u)}})}),()=>{s.forEach(({removeClick:o})=>{o==null||o()}),s.clear()}},Qe=(()=>{const e=t=>{if(!t)return()=>{};const s=t.firstChild;let o=1,n=0,a=0,c=!1,u,d,p,l=1;const r=()=>{s.style.transform=`translate(${n}px, ${a}px) scale(${o})`},i=g=>{g.touches.length===1?(c=!0,u=g.touches[0].clientX-n,d=g.touches[0].clientY-a):g.touches.length===2&&(p=Math.hypot(g.touches[0].clientX-g.touches[1].clientX,g.touches[0].clientY-g.touches[1].clientY),l=o)},$=g=>{if(g.preventDefault(),c&&g.touches.length===1)n=g.touches[0].clientX-u,a=g.touches[0].clientY-d,r();else if(g.touches.length===2){const b=Math.hypot(g.touches[0].clientX-g.touches[1].clientX,g.touches[0].clientY-g.touches[1].clientY)/p,w=o;o=l*(1+(b-1));const E=(g.touches[0].clientX+g.touches[1].clientX)/2,M=(g.touches[0].clientY+g.touches[1].clientY)/2,H=s.getBoundingClientRect(),D=(E-H.left)/w,P=(M-H.top)/w;n-=D*(o-w),a-=P*(o-w),r()}},h=()=>{c=!1},v=g=>{g.preventDefault();const b=.02,w=o;g.deltaY<0?o+=b:o=Math.max(.1,o-b);const E=s.getBoundingClientRect(),M=g.clientX-E.left,H=g.clientY-E.top;n-=M/w*(o-w),a-=H/w*(o-w),r()},f=g=>{c=!0,u=g.clientX-n,d=g.clientY-a},C=g=>{c&&(n=g.clientX-u,a=g.clientY-d,r())},k=()=>{c=!1},y=()=>{c=!1};return t.addEventListener("touchstart",i,{passive:!1}),t.addEventListener("touchmove",$,{passive:!1}),t.addEventListener("touchend",h),t.addEventListener("wheel",v,{passive:!1}),t.addEventListener("mousedown",f),t.addEventListener("mousemove",C),t.addEventListener("mouseup",k),t.addEventListener("mouseleave",y),()=>{t.removeEventListener("touchstart",i),t.removeEventListener("touchmove",$),t.removeEventListener("touchend",h),t.removeEventListener("wheel",v),t.removeEventListener("mousedown",f),t.removeEventListener("mousemove",C),t.removeEventListener("mouseup",k),t.removeEventListener("mouseleave",y)}};return(t,s)=>{const o=new Map;return t==null||t.forEach(n=>{let a=n.querySelector(`.${m}-mermaid-action`);a?a.querySelector(`.${m}-mermaid-zoom`)||a.insertAdjacentHTML("beforeend",`<span class="${m}-mermaid-zoom">${O("pin-off",s.customIcon)}</span>`):(n.insertAdjacentHTML("beforeend",`<div class="${m}-mermaid-action"><span class="${m}-mermaid-zoom">${O("pin-off",s.customIcon)}</span></div>`),a=n.querySelector(`.${m}-mermaid-action`));const c=a.querySelector(`.${m}-mermaid-zoom`),u=()=>{const d=o.get(n);if(d!=null&&d.removeEvent)d.removeEvent(),n.removeAttribute("data-grab"),o.set(n,{removeClick:d.removeClick}),c.innerHTML=O("pin-off",s.customIcon);else{const p=e(n);n.setAttribute("data-grab",""),o.set(n,{removeEvent:p,removeClick:d==null?void 0:d.removeClick}),c.innerHTML=O("pin",s.customIcon)}};c.addEventListener("click",u),o.set(n,{removeClick:()=>c.removeEventListener("click",u)})}),()=>{o.forEach(({removeEvent:n,removeClick:a})=>{n==null||n(),a==null||a()}),o.clear()}}})(),z={hljs:`${m}-hljs`,hlcss:`${m}-hlCss`,mermaidM:`${m}-mermaid-m`,mermaid:`${m}-mermaid`,katexjs:`${m}-katex`,katexcss:`${m}-katexCss`,echarts:`${m}-echarts`},et=(e,{editorId:t,rootRef:s,setting:o})=>{const n=R.editorExtensions.highlight,a=R.editorExtensionsAttrs.highlight;_("editorId",t),_("rootRef",s),_("theme",q(()=>e.theme)),_("language",q(()=>e.language)),_("highlight",q(()=>{const{js:u}=n,d={...se,...n.css},{js:p,css:l={}}=a||{},r=e.codeStyleReverse&&e.codeStyleReverseList.includes(e.previewTheme)?"dark":e.theme,i=d[e.codeTheme]?d[e.codeTheme][r]:se.atom[r],$=d[e.codeTheme]&&l[e.codeTheme]?l[e.codeTheme][r]:l.atom?l.atom[r]:{};return{js:{src:u,...p},css:{href:i,...$}}})),_("showCodeRowNumber",e.showCodeRowNumber);const c=q(()=>{const u={...ue,...R.editorConfig.languageUserDefined};return je(Se(ue["en-US"]),u[e.language]||{})});return _("usedLanguageText",c),_("previewTheme",q(()=>e.previewTheme)),_("customIcon",q(()=>e.customIcon)),_("setting",q(()=>o?{...o}:{preview:!0,htmlPreview:!1,previewOnly:!1,pageFullscreen:!1,fullscreen:!1})),{editorId:t}},tt=e=>{const t=Te();return e.id||e.editorId||`${m}-${t}`},nt=(e,t,s)=>{const o=x("editorId"),n=x("rootRef"),a=x("usedLanguageText"),c=x("setting"),u=()=>{n.value.querySelectorAll(`#${o} .${m}-preview .${m}-code`).forEach(l=>{let r=-1;const i=l.querySelector(`.${m}-copy-button:not([data-processed])`);i&&(i.onclick=$=>{$.preventDefault(),clearTimeout(r);const h=(l.querySelector("input:checked + pre code")||l.querySelector("pre code")).textContent,{text:v,successTips:f,failTips:C}=a.value.copyCode;let k=f;fe(e.formatCopiedText(h||"")).catch(()=>{k=C}).finally(()=>{i.dataset.isIcon?i.dataset.tips=k:i.innerHTML=k,r=window.setTimeout(()=>{i.dataset.isIcon?i.dataset.tips=v:i.innerHTML=v},1500)})},i.setAttribute("data-processed","true"))})},d=()=>{X(u)},p=l=>{l&&X(u)};L([t,s],d),L(()=>c.value.preview,p),L(()=>c.value.htmlPreview,p),B(u)},ot=e=>{const t=x("editorId"),s=x("theme"),o=x("rootRef"),{editorExtensions:n,editorExtensionsAttrs:a}=R;let c=n.echarts.instance;const u=ee(-1),d=()=>{!e.noEcharts&&c&&(u.value=u.value+1)};L(()=>s.value,()=>{d()}),B(()=>{var v;if(e.noEcharts||c)return;const h=n.echarts.js;V("script",{...(v=a.echarts)==null?void 0:v.js,src:h,id:z.echarts,onload(){c=window.echarts,d()}},"echarts")});let p=[],l=[],r=[];const i=(h=!1)=>{if(!p.length){h&&(l.forEach(k=>{var y;(y=k.dispose)==null||y.call(k)}),r.forEach(k=>{var y;(y=k.disconnect)==null||y.call(k)}),l=[],r=[]);return}const v=[],f=[],C=[];p.forEach((k,y)=>{var w,E;const g=l[y],b=r[y];if(h||!k||!k.isConnected||o!=null&&o.value&&!o.value.contains(k)){(w=g==null?void 0:g.dispose)==null||w.call(g),(E=b==null?void 0:b.disconnect)==null||E.call(b);return}v.push(k),g&&f.push(g),b&&C.push(b)}),p=v,l=f,r=C},$=()=>{i(),!e.noEcharts&&c&&Array.from(o.value.querySelectorAll(`#${t} div.${m}-echarts:not([data-processed])`)).forEach(h=>{if(h.dataset.closed==="false")return!1;try{const v=new Function(`return ${h.innerText}`)(),f=c.init(h,s.value);f.setOption(v),h.setAttribute("data-processed",""),p.push(h),l.push(f);const C=new ResizeObserver(()=>{f.resize()});C.observe(h),r.push(C)}catch(v){S.emit(t,re,{name:"echarts",message:v==null?void 0:v.message,error:v})}})};return Q(()=>{i(!0)}),{reRenderEcharts:u,replaceEcharts:$}},st=e=>{const t=x("highlight"),s=ee(R.editorExtensions.highlight.instance);return B(()=>{e.noHighlight||s.value||(V("link",{...t.value.css,rel:"stylesheet",id:z.hlcss}),V("script",{...t.value.js,id:z.hljs,onload(){s.value=window.hljs}},"hljs"))}),L(()=>t.value.css,()=>{e.noHighlight||R.editorExtensions.highlight.instance||Ze("link",{...t.value.css,rel:"stylesheet",id:z.hlcss})}),s},rt=e=>{const t=ee(R.editorExtensions.katex.instance);return B(()=>{var n,a;if(e.noKatex||t.value)return;const{editorExtensions:s,editorExtensionsAttrs:o}=R;V("script",{...(n=o.katex)==null?void 0:n.js,src:s.katex.js,id:z.katexjs,onload(){t.value=window.katex}},"katex"),V("link",{...(a=o.katex)==null?void 0:a.css,rel:"stylesheet",href:s.katex.css,id:z.katexcss})}),t},J=new _e({max:1e3,ttl:6e5}),at=e=>{const t=x("editorId"),s=x("theme"),o=x("rootRef"),{editorExtensions:n,editorExtensionsAttrs:a,mermaidConfig:c}=R;let u=n.mermaid.instance;const d=ee(-1),p=()=>{!e.noMermaid&&u&&(u.initialize(c({startOnLoad:!1,theme:s.value==="dark"?"dark":"default"})),d.value=d.value+1)};return L(()=>s.value,()=>{J.clear(),p()}),B(()=>{var r,i;if(e.noMermaid||u)return;const l=n.mermaid.js;/\.mjs/.test(l)?(V("link",{...(r=a.mermaid)==null?void 0:r.js,rel:"modulepreload",href:l,id:z.mermaidM}),import(l).then($=>{u=$.default,p()}).catch($=>{S.emit(t,re,{name:"mermaid",message:`Failed to load mermaid module: ${$.message}`,error:$})})):V("script",{...(i=a.mermaid)==null?void 0:i.js,src:l,id:z.mermaid,onload(){u=window.mermaid,p()}},"mermaid")}),{reRenderRef:d,replaceMermaid:async()=>{if(!e.noMermaid&&u){const l=o.value.querySelectorAll(`div.${m}-mermaid`),r=document.createElement("div"),i=document.body.offsetWidth>1366?document.body.offsetWidth:1366,$=document.body.offsetHeight>768?document.body.offsetHeight:768;r.style.width=i+"px",r.style.height=$+"px",r.style.position="fixed",r.style.zIndex="-10000",r.style.top="-10000";let h=l.length;h>0&&document.body.appendChild(r),await Promise.allSettled(Array.from(l).map(v=>(async f=>{var y;if(f.dataset.closed==="false")return!1;const C=f.innerText;let k=J.get(C);if(!k){const g=oe();let b={svg:""};try{b=await u.render(g,C,r),k=await e.sanitizeMermaid(b.svg);const w=document.createElement("p");w.className=`${m}-mermaid`,w.setAttribute("data-processed",""),w.setAttribute("data-content",C),w.innerHTML=k,(y=w.children[0])==null||y.removeAttribute("height"),J.set(C,w.innerHTML),f.dataset.line!==void 0&&(w.dataset.line=f.dataset.line),f.replaceWith(w)}catch(w){S.emit(t,re,{name:"mermaid",message:w.message,error:w})}--h===0&&r.remove()}})(v)))}}}},lt=(e,t)=>{t=t||{};const s=3,o=t.marker||"!",n=o.charCodeAt(0),a=o.length;let c="",u="";const d=(l,r,i,$,h)=>{const v=l[r];return v.type==="admonition_open"?l[r].attrPush(["class",`${m}-admonition ${m}-admonition-${v.info}`]):v.type==="admonition_title_open"&&l[r].attrPush(["class",`${m}-admonition-title`]),h.renderToken(l,r,i)},p=l=>{const r=l.trim().split(" ",2);u="",c=r[0],r.length>1&&(u=l.substring(c.length+2))};e.block.ruler.before("code","admonition",(l,r,i,$)=>{let h,v,f,C=!1,k=l.bMarks[r]+l.tShift[r],y=l.eMarks[r];if(n!==l.src.charCodeAt(k))return!1;for(h=k+1;h<=y&&o[(h-k)%a]===l.src[h];h++);const g=Math.floor((h-k)/a);if(g!==s)return!1;h-=(h-k)%a;const b=l.src.slice(k,h),w=l.src.slice(h,y);if(p(w),$)return!0;for(v=r;v++,!(v>=i||(k=l.bMarks[v]+l.tShift[v],y=l.eMarks[v],k<y&&l.sCount[v]<l.blkIndent));)if(n===l.src.charCodeAt(k)&&!(l.sCount[v]-l.blkIndent>=4)){for(h=k+1;h<=y&&o[(h-k)%a]===l.src[h];h++);if(!(Math.floor((h-k)/a)<g)&&(h-=(h-k)%a,h=l.skipSpaces(h),!(h<y))){C=!0;break}}const E=l.parentType,M=l.lineMax;return l.parentType="root",l.lineMax=v,f=l.push("admonition_open","div",1),f.markup=b,f.block=!0,f.info=c,f.map=[r,v],u&&(f=l.push("admonition_title_open","p",1),f.markup=b+" "+c,f.map=[r,v],f=l.push("inline","",0),f.content=u,f.map=[r,l.line-1],f.children=[],f=l.push("admonition_title_close","p",-1),f.markup=b+" "+c),l.md.block.tokenize(l,r+1,v),f=l.push("admonition_close","div",-1),f.markup=l.src.slice(k,h),f.block=!0,l.parentType=E,l.lineMax=M,l.line=v+(C?1:0),!0},{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.admonition_open=d,e.renderer.rules.admonition_title_open=d,e.renderer.rules.admonition_title_close=d,e.renderer.rules.admonition_close=d},ae=(e,t)=>{const s=e.attrs?e.attrs.slice():[];return t.forEach(o=>{const n=e.attrIndex(o[0]);n<0?s.push(o):(s[n]=s[n].slice(),s[n][1]+=` ${o[1]}`)}),s},it=(e,t)=>{const s=e.renderer.rules.fence,o=e.utils.unescapeAll,n=/\[(\w*)(?::([\w ]*))?\]/,a=/::(open|close)/,c=r=>r.info?o(r.info).trim():"",u=r=>{const i=c(r),[$=null,h=""]=(n.exec(i)||[]).slice(1);return[$,h]},d=r=>{const i=c(r);return i?i.split(/(\s+)/g)[0]:""},p=r=>{const i=r.info.match(a)||[],$=i[1]==="open"||i[1]!=="close"&&t.codeFoldable&&r.content.trim().split(`
`).length<t.autoFoldThreshold,h=i[1]||t.codeFoldable?"details":"div",v=i[1]||t.codeFoldable?"summary":"div";return{open:$,tagContainer:h,tagHeader:v}},l=(r,i,$,h,v)=>{var G;if(r[i].hidden)return"";const f=(G=t.usedLanguageTextRef.value)==null?void 0:G.copyCode.text,C=t.customIconRef.value.copy||f,k=!!t.customIconRef.value.copy,y=`<span class="${m}-collapse-tips">${O("collapse-tips",t.customIconRef.value)}</span>`,[g]=u(r[i]);if(g===null){const{open:I,tagContainer:A,tagHeader:K}=p(r[i]),ie=[["class",`${m}-code`]];I&&ie.push(["open",""]);const be={attrs:ae(r[i],ie)};r[i].info=r[i].info.replace(a,"");const we=s(r,i,$,h,v);return`
        <${A} ${v.renderAttrs(be)}>
          <${K} class="${m}-code-head">
            <div class="${m}-code-flag"><span></span><span></span><span></span></div>
            <div class="${m}-code-action">
              <span class="${m}-code-lang">${e.utils.escapeHtml(r[i].info.trim())}</span>
              <span class="${m}-copy-button" data-tips="${f}"${k?" data-is-icon=true":""}>${C}</span>
              ${t.extraTools instanceof Function?t.extraTools({lang:r[i].info.trim()}):t.extraTools||""}
              ${A==="details"?y:""}
            </div>
          </${K}>
          ${we}
        </${A}>
      `}let b,w,E,M,H="",D="",P="";const{open:Z,tagContainer:Y,tagHeader:U}=p(r[i]),j=[["class",`${m}-code`]];Z&&j.push(["open",""]);const F={attrs:ae(r[i],j)};for(let I=i;I<r.length&&(b=r[I],[w,E]=u(b),w===g);I++){b.info=b.info.replace(n,"").replace(a,""),b.hidden=!0;const A=`${m}-codetab-${t.editorId}-${i}-${I-i}`;M=I-i>0?"":"checked",H+=`
        <li>
          <input
            type="radio"
            id="label-${m}-codetab-label-1-${t.editorId}-${i}-${I-i}"
            name="${m}-codetab-label-${t.editorId}-${i}"
            class="${A}"
            ${M}
          >
          <label
            for="label-${m}-codetab-label-1-${t.editorId}-${i}-${I-i}"
            onclick="this.getRootNode().querySelectorAll('.${A}').forEach(e => e.click())"
          >
            ${e.utils.escapeHtml(E||d(b))}
          </label>
        </li>`,D+=`
        <div role="tabpanel">
          <input
            type="radio"
            name="${m}-codetab-pre-${t.editorId}-${i}"
            class="${A}"
            ${M}
            role="presentation">
          ${s(r,I,$,h,v)}
        </div>`,P+=`
        <input
          type="radio"
          name="${m}-codetab-lang-${t.editorId}-${i}"
          class="${A}"
          ${M}
          role="presentation">
        <span class=${m}-code-lang role="note">${e.utils.escapeHtml(d(b))}</span>`}return`
      <${Y} ${v.renderAttrs(F)}>
        <${U} class="${m}-code-head">
          <div class="${m}-code-flag">
            <ul class="${m}-codetab-label" role="tablist">${H}</ul>
          </div>
          <div class="${m}-code-action">
            <span class="${m}-codetab-lang">${P}</span>
            <span class="${m}-copy-button" data-tips="${f}"${k?" data-is-icon=true":""}>${C}</span>
            ${t.extraTools instanceof Function?t.extraTools({lang:r[i].info.trim()}):t.extraTools||""}
            ${Y==="details"?y:""}
          </div>
        </${U}>
        ${D}
      </${Y}>
    `};e.renderer.rules.fence=l,e.renderer.rules.code_block=l},ct=(e,t)=>{const s=e.renderer.rules.fence.bind(e.renderer.rules);e.renderer.rules.fence=(o,n,a,c,u)=>{var l,r;const d=o[n],p=d.content.trim();if(d.info==="echarts"){if(d.attrSet("class",`${m}-echarts`),d.attrSet("data-echarts-theme",t.themeRef.value),d.map&&d.level===0){const i=d.map[1]-1,$=!!((r=(l=c.srcLines[i])==null?void 0:l.trim())!=null&&r.startsWith("```"));d.attrSet("data-closed",`${$}`),d.attrSet("data-line",String(d.map[0]))}return`<div ${u.renderAttrs(d)} style="width: 100%; aspect-ratio: 4 / 3;">${e.utils.escapeHtml(p)}</div>`}return s(o,n,a,c,u)}},dt=(e,t)=>{e.renderer.rules.heading_open=(s,o)=>{var u;const n=s[o],a=((u=s[o+1].children)==null?void 0:u.reduce((d,p)=>d+(["text","code_inline","math_inline"].includes(p.type)&&p.content||""),""))||"",c=n.markup.length;return t.headsRef.value.push({text:a,level:c,line:n.map[0],currentToken:n,nextToken:s[o+1]}),n.map&&n.level===0&&n.attrSet("id",t.mdHeadingId({text:a,level:c,index:t.headsRef.value.length,currentToken:n,nextToken:s[o+1]})),e.renderer.renderToken(s,o,t)},e.renderer.rules.heading_close=(s,o,n,a,c)=>c.renderToken(s,o,n)},pe={block:[{open:"$$",close:"$$"},{open:"\\[",close:"\\]"}],inline:[{open:"$$",close:"$$"},{open:"$",close:"$"},{open:"\\[",close:"\\]"},{open:"\\(",close:"\\)"}]},ut=e=>(t,s)=>{const o=e.delimiters;for(const n of o){if(!t.src.startsWith(n.open,t.pos))continue;const a=t.pos+n.open.length;let c=a;for(;(c=t.src.indexOf(n.close,c))!==-1;){let u=0,d=c-1;for(;d>=0&&t.src[d]==="\\";)u++,d--;if(u%2===0)break;c+=n.close.length}if(c!==-1){if(c-a===0)return s||(t.pending+=n.open+n.close),t.pos=c+n.close.length,!0;if(!s){const u=t.push("math_inline","math",0);u.markup=n.open,u.content=t.src.slice(a,c)}return t.pos=c+n.close.length,!0}}return!1},pt=e=>(t,s,o,n)=>{const a=e.delimiters,c=t.bMarks[s]+t.tShift[s],u=t.eMarks[s],d=(p,l,r)=>{t.line=l;const i=t.push("math_block","math",0);return i.block=!0,i.content=p,i.map=[s,t.line],i.markup=r,!0};for(const p of a){const l=c;if(t.src.slice(l,l+p.open.length)!==p.open)continue;const r=l+p.open.length,i=t.src.slice(r,u).trim(),$=i==="",h=i===p.close,v=i.endsWith(p.close);if(!$&&!h&&!v)continue;if(n)return!0;if(h)return d("",s+1,p.open);if(!$&&v){const g=i.slice(0,-p.close.length);return d(g,s+1,p.open)}let f=s+1,C=!1,k="";for(;f<o;f++){const g=t.bMarks[f]+t.tShift[f],b=t.eMarks[f];if(g<b&&t.tShift[f]<t.blkIndent)break;if(t.src.slice(g,b).trim().endsWith(p.close)){const w=t.src.slice(0,b).lastIndexOf(p.close);k=t.src.slice(g,w),C=!0;break}}if(!C)continue;const y=t.getLines(s+1,f,t.tShift[s],!0)+(k.trim()?k:"");return d(y,f+1,p.open)}return!1},mt=(e,{katexRef:t,inlineDelimiters:s,blockDelimiters:o})=>{const n=(u,d,p,l,r=!1)=>{const i={attrs:ae(u,[["class",d]])},$=l.renderAttrs(i);if(!t.value)return`<${p} ${$}>${u.content}</${p}>`;const h=t.value.renderToString(u.content,R.katexConfig({throwOnError:!1,displayMode:r}));return`<${p} ${$} data-processed>${h}</${p}>`},a=(u,d,p,l,r)=>n(u[d],`${m}-katex-inline`,"span",r),c=(u,d,p,l,r)=>n(u[d],`${m}-katex-block`,"p",r,!0);e.inline.ruler.before("escape","math_inline",ut({delimiters:s||pe.inline})),e.block.ruler.after("blockquote","math_block",pt({delimiters:o||pe.block}),{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=a,e.renderer.rules.math_block=c},ht=(e,t)=>{const s=e.renderer.rules.fence.bind(e.renderer.rules);e.renderer.rules.fence=(o,n,a,c,u)=>{var l,r;const d=o[n],p=d.content.trim();if(d.info==="mermaid"){if(d.attrSet("class",`${m}-mermaid`),d.attrSet("data-mermaid-theme",t.themeRef.value),d.map&&d.level===0){const $=d.map[1]-1,h=!!((r=(l=c.srcLines[$])==null?void 0:l.trim())!=null&&r.startsWith("```"));d.attrSet("data-closed",`${h}`),d.attrSet("data-line",String(d.map[0]))}const i=J.get(p);return i?(d.attrSet("data-processed",""),d.attrSet("data-content",p),`<p ${u.renderAttrs(d)}>${i}</p>`):`<div ${u.renderAttrs(d)}>${e.utils.escapeHtml(p)}</div>`}return s(o,n,a,c,u)}},me=(e,t,s)=>{const o=e.attrIndex(t),n=[t,s];o<0?e.attrPush(n):(e.attrs=e.attrs||[],e.attrs[o]=n)},gt=e=>e.type==="inline",ft=e=>e.type==="paragraph_open",vt=e=>e.type==="list_item_open",kt=e=>e.content.indexOf("[ ] ")===0||e.content.indexOf("[x] ")===0||e.content.indexOf("[X] ")===0,$t=(e,t)=>gt(e[t])&&ft(e[t-1])&&vt(e[t-2])&&kt(e[t]),yt=(e,t)=>{const s=e[t].level-1;for(let o=t-1;o>=0;o--)if(e[o].level===s)return o;return-1},bt=e=>{const t=new e("html_inline","",0);return t.content="<label>",t},wt=e=>{const t=new e("html_inline","",0);return t.content="</label>",t},xt=(e,t,s)=>{const o=new s("html_inline","",0);return o.content='<label class="task-list-item-label" for="'+t+'">'+e+"</label>",o.attrs=[["for",t]],o},Ct=(e,t,s)=>{const o=new t("html_inline","",0),n=s.enabled?" ":' disabled="" ';return e.content.indexOf("[ ] ")===0?o.content='<input class="task-list-item-checkbox"'+n+'type="checkbox">':(e.content.indexOf("[x] ")===0||e.content.indexOf("[X] ")===0)&&(o.content='<input class="task-list-item-checkbox" checked=""'+n+'type="checkbox">'),o},Tt=(e,t,s)=>{if(e.children=e.children||[],e.children.unshift(Ct(e,t,s)),e.children[1].content=e.children[1].content.slice(3),e.content=e.content.slice(3),s.label)if(s.labelAfter){e.children.pop();const o="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);e.children[0].content=e.children[0].content.slice(0,-1)+' id="'+o+'">',e.children.push(xt(e.content,o,t))}else e.children.unshift(bt(t)),e.children.push(wt(t))},Et=(e,t={})=>{e.core.ruler.after("inline","github-task-lists",s=>{const o=s.tokens;for(let n=2;n<o.length;n++)$t(o,n)&&(Tt(o[n],s.Token,t),me(o[n-2],"class","task-list-item"+(t.enabled?" enabled":" ")),me(o[yt(o,n-2)],"class","contains-task-list"))})},It=e=>{e.core.ruler.push("init-line-number",t=>(t.tokens.forEach(s=>{s.map&&(s.attrs||(s.attrs=[]),s.attrs.push(["data-line",s.map[0].toString()]))}),!0))},Lt=(e,t)=>{const{editorConfig:s,markdownItPlugins:o}=R,n=x("editorId"),a=x("language"),c=x("usedLanguageText"),u=x("showCodeRowNumber"),d=x("theme"),p=x("customIcon"),l=x("rootRef"),r=x("setting"),i=W([]),$=st(e),h=rt(e),{reRenderRef:v,replaceMermaid:f}=at(e),{reRenderEcharts:C,replaceEcharts:k}=ot(e),y=He({html:!0,breaks:!0,linkify:!0}),g=[{type:"image",plugin:Re,options:{figcaption:!0,classes:"md-zoom"}},{type:"admonition",plugin:lt,options:{}},{type:"taskList",plugin:Et,options:{}},{type:"heading",plugin:dt,options:{mdHeadingId:e.mdHeadingId,headsRef:i}},{type:"code",plugin:it,options:{editorId:n,usedLanguageTextRef:c,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold,customIconRef:p}},{type:"sub",plugin:Fe,options:{}},{type:"sup",plugin:Ae,options:{}}];e.noKatex||g.push({type:"katex",plugin:mt,options:{katexRef:h}}),e.noMermaid||g.push({type:"mermaid",plugin:ht,options:{themeRef:d}}),e.noEcharts||g.push({type:"echarts",plugin:ct,options:{themeRef:d}}),o(g,{editorId:n}).forEach(j=>{y.use(j.plugin,j.options)});const b=y.options.highlight;y.set({highlight:(j,F,G)=>{if(b){const K=b(j,F,G);if(K)return K}let I;!e.noHighlight&&$.value?$.value.getLanguage(F)?I=$.value.highlight(j,{language:F,ignoreIllegals:!0}).value:I=$.value.highlightAuto(j).value:I=y.utils.escapeHtml(j);const A=u?Ke(I.replace(/^\n+|\n+$/g,""),j.replace(/^\n+|\n+$/g,"")):`<span class="${m}-code-block">${I.replace(/^\n+|\n+$/g,"")}</span>`;return`<pre><code class="language-${F}" language=${F}>${A}</code></pre>`}}),It(y);const w=W(`_article-key_${oe()}`),E=W(e.sanitize(y.render(e.modelValue,{srcLines:e.modelValue.split(`
`)})));let M=()=>{},H=()=>{};const D=()=>{var F;const j=(F=l.value)==null?void 0:F.querySelectorAll(`#${n} p.${m}-mermaid:not([data-closed=false])`);H(),H=Je(j,{customIcon:p.value}),M(),M=Qe(j,{customIcon:p.value})},P=()=>{S.emit(n,Pe,E.value),e.onHtmlChanged(E.value),e.onGetCatalog(i.value),S.emit(n,te,i.value),X(()=>{f().then(D),k()})},Z=()=>{i.value=[],E.value=e.sanitize(y.render(e.modelValue,{srcLines:e.modelValue.split(`
`)}))},Y=q(()=>(e.noKatex||!!h.value)&&(e.noHighlight||!!$.value));let U=-1;return L([Me(e,"modelValue"),Y,v,a],()=>{U=window.setTimeout(()=>{Z()},t?0:s.renderDelay)}),L(()=>r.value.preview,()=>{r.value.preview&&X(()=>{f().then(D),k(),S.emit(n,te,i.value)})}),L([E,C],()=>{P()}),B(P),B(()=>{S.on(n,{name:Xe,callback(){S.emit(n,te,i.value)}}),S.on(n,{name:ve,callback:()=>{w.value=`_article-key_${oe()}`,Z()}})}),Q(()=>{M(),H(),clearTimeout(U)}),{html:E,key:w}},Mt=(e,t)=>{const s=x("editorId"),o=x("setting"),{noImgZoomIn:n}=e,a=Le(()=>{const c=document.querySelectorAll(`#${s}-preview img:not(.not-zoom):not(.medium-zoom-image)`);c.length!==0&&Oe(c,{background:"#00000073"})});B(async()=>{!n&&o.value.preview&&await a()}),L([t,()=>o.value.preview],async()=>{!n&&o.value.preview&&await a()})},he={checked:{regexp:/- \[x\]/,value:"- [ ]"},unChecked:{regexp:/- \[\s\]/,value:"- [x]"}},jt=(e,t)=>{const s=x("editorId"),o=x("rootRef");let n=()=>{};const a=()=>{if(!o.value)return!1;const c=o.value.querySelectorAll(".task-list-item.enabled"),u=d=>{var h;d.preventDefault();const p=d.target.checked?"unChecked":"checked",l=(h=d.target.parentElement)==null?void 0:h.dataset.line;if(!l)return;const r=Number(l),i=e.modelValue.split(`
`),$=i[Number(r)].replace(he[p].regexp,he[p].value);e.previewOnly?(i[Number(r)]=$,e.onChange(i.join(`
`))):S.emit(s,Ye,r+1,$)};c.forEach(d=>{d.addEventListener("click",u)}),n=()=>{c.forEach(d=>{d.removeEventListener("click",u)})}};Q(()=>{n()}),L([t],()=>{n(),X(a)},{immediate:!0})},St=(e,t,s)=>{const o=x("setting"),n=()=>{X(()=>{var c;(c=e.onRemount)==null||c.call(e)})},a=c=>{c&&n()};L([t,s],n),L(()=>o.value.preview,a),L(()=>o.value.htmlPreview,a),B(n)},ke={modelValue:{type:String,default:""},onChange:{type:Function,default:()=>{}},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},mdHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},noKatex:{type:Boolean,default:!1},formatCopiedText:{type:Function,default:e=>e},noHighlight:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean},sanitizeMermaid:{type:Function},codeFoldable:{type:Boolean},autoFoldThreshold:{type:Number},onRemount:{type:Function},noEcharts:{type:Boolean},previewComponent:{type:[Object,Function],default:void 0}};({...ke});const ge=e=>{const t=new DOMParser().parseFromString(e,"text/html");return Array.from(t.body.childNodes)},Ht=(e,t)=>e.nodeType!==t.nodeType?!1:e.nodeType===Node.TEXT_NODE||e.nodeType===Node.COMMENT_NODE?e.textContent===t.textContent:e.nodeType===Node.ELEMENT_NODE?e.outerHTML===t.outerHTML:e.isEqualNode?e.isEqualNode(t):!1,Rt=le({name:"UpdateOnDemand",props:{id:{type:String,required:!0},class:{type:[String,Array,Object],required:!0},html:{type:String,required:!0}},setup(e){const t=W(),s=e.html,o=(n,a)=>{if(!t.value)return;const c=t.value,u=Array.from(c.childNodes),d=Math.min(n.length,a.length);let p=-1;for(let r=0;r<d;r++)if(!Ht(n[r],a[r])){p=r;break}if(p===-1)if(a.length>n.length)p=n.length;else if(n.length>a.length)p=a.length;else return;const l=Math.min(p,u.length);for(let r=u.length-1;r>=l;r--)u[r].remove();for(let r=p;r<n.length;r++)c.appendChild(n[r].cloneNode(!0))};return L(()=>e.html,(n,a)=>{const c=ge(n),u=ge(a||"");o(c,u)}),()=>N("div",{id:e.id,class:e.class,innerHTML:s,ref:t},null)}}),Ft=le({name:"ContentPreview",props:ke,setup(e){const t=x("editorId"),s=x("setting"),o=x("previewTheme"),n=x("showCodeRowNumber"),{html:a,key:c}=Lt(e,e.previewOnly);nt(e,a,c),Mt(e,a),jt(e,a),St(e,a,c);const u=q(()=>[`${m}-preview`,`${o==null?void 0:o.value}-theme`,n&&`${m}-scrn`].filter(Boolean)),d=()=>{const p=`${t}-preview`;return e.previewComponent?Ie(e.previewComponent,{key:c.value,html:a.value,id:p,class:u.value}):N(Rt,{key:c.value,html:a.value,id:p,class:u.value},null)};return()=>N(Ee,null,[s.value.preview&&(e.previewOnly?d():N("div",{id:`${t}-preview-wrapper`,class:`${m}-preview-wrapper`,key:"content-preview-wrapper"},[d()])),s.value.htmlPreview&&N("div",{id:`${t}-html-wrapper`,class:`${m}-preview-wrapper`,key:"html-preview-wrapper"},[N("div",{class:`${m}-html`},[a.value])])])}}),At=({text:e})=>e,$e={modelValue:{type:String,default:""},onChange:{type:Function,default:void 0},theme:{type:String,default:"light"},class:{type:String,default:""},language:{type:String,default:"zh-CN"},onHtmlChanged:{type:Function,default:void 0},onGetCatalog:{type:Function,default:void 0},editorId:{type:String,default:void 0},id:{type:String,default:void 0},showCodeRowNumber:{type:Boolean,default:!0},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:At},sanitize:{type:Function,default:e=>e},noMermaid:{type:Boolean,default:!1},noKatex:{type:Boolean,default:!1},codeTheme:{type:String,default:"atom"},formatCopiedText:{type:Function,default:e=>e},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},noHighlight:{type:Boolean,default:!1},noImgZoomIn:{type:Boolean,default:!1},customIcon:{type:Object,default:{}},sanitizeMermaid:{type:Function,default:e=>Promise.resolve(e)},codeFoldable:{type:Boolean,default:!0},autoFoldThreshold:{type:Number,default:30},onRemount:{type:Function,default:void 0},noEcharts:{type:Boolean,default:!1},previewComponent:{type:[Object,Function],default:void 0}};({...$e});const ye=["onHtmlChanged","onGetCatalog","onChange","onRemount","update:modelValue"];[...ye];const _t=(e,t,s)=>{const{editorId:o}=s,n={rerender(){S.emit(o,ve)}};t.expose(n)},ne=le({name:"MdPreview",props:$e,emits:ye,setup(e,t){const{noKatex:s,noMermaid:o,noHighlight:n}=e,a=W(),c=tt(e);et(e,{rootRef:a,editorId:c}),_t(e,t,{editorId:c}),Q(()=>{S.clear(c)});const u=r=>{var i;(i=e.onChange)==null||i.call(e,r),t.emit("onChange",r),t.emit("update:modelValue",r)},d=r=>{var i;(i=e.onHtmlChanged)==null||i.call(e,r),t.emit("onHtmlChanged",r)},p=r=>{var i;(i=e.onGetCatalog)==null||i.call(e,r),t.emit("onGetCatalog",r)},l=()=>{var r;(r=e.onRemount)==null||r.call(e),t.emit("onRemount")};return()=>N("div",{id:c,class:[m,e.class,e.theme==="dark"&&`${m}-dark`,`${m}-previewOnly`],style:e.style,ref:a},[N(Ft,{modelValue:e.modelValue,onChange:u,onHtmlChanged:d,onGetCatalog:p,mdHeadingId:e.mdHeadingId,noMermaid:o,sanitize:e.sanitize,noKatex:s,formatCopiedText:e.formatCopiedText,noHighlight:n,noImgZoomIn:e.noImgZoomIn,previewOnly:!0,sanitizeMermaid:e.sanitizeMermaid,codeFoldable:e.codeFoldable,autoFoldThreshold:e.autoFoldThreshold,onRemount:l,noEcharts:e.noEcharts,previewComponent:e.previewComponent},null)])}});ne.install=e=>(e.component(ne.name,ne),e);export{ne as a};
